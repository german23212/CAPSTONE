"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7844],{7844:(j,d,p)=>{p.r(d),p.d(d,{ReportePageModule:()=>C});var g=p(177),s=p(4341),a=p(4742),m=p(9384),e=p(3953),R=p(8334);let f=(()=>{var t;class n{constructor(o){this.firestore=o,this.collectionName="reporte"}addReporte(o){const r=this.firestore.createId();return this.firestore.collection(this.collectionName).doc(r).set({...o,id:r})}getReporte(){return this.firestore.collection(this.collectionName).valueChanges()}}return(t=n).\u0275fac=function(o){return new(o||t)(e.KVO(R.Qe))},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),h=(()=>{var t;class n{constructor(o){this.reporteService=o,this.reporte={titulo:"",date:new Date,content:"",address:"",lat:0,lng:0}}ngOnInit(){this.dateInterval=setInterval(()=>{this.reporte.date=new Date},1e3)}ngOnDestroy(){this.dateInterval&&clearInterval(this.dateInterval)}addReporte(){this.reporteService.addReporte(this.reporte).then(()=>{alert("Agregado Correctamente"),this.reporte={titulo:"",date:new Date,content:"",address:"",lat:0,lng:0}}).catch(o=>{alert("Error al agregar: "+o)})}}return(t=n).\u0275fac=function(o){return new(o||t)(e.rXU(f))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-reporte"]],decls:17,vars:5,consts:[["formulario","ngForm"],[3,"ngSubmit"],["position","floating"],["name","titulo","placeholder","Ingresa un t\xedtulo descriptivo","required","",3,"ngModelChange","ngModel"],["name","content","placeholder","Describe el problema","required","",3,"ngModelChange","ngModel"],["name","date","display-format","DD/MM/YYYY HH:mm","picker-format","DD MM YYYY HH mm","readonly","true","required","",3,"ngModelChange","ngModel","value"],["type","submit","expand","full","color","success",3,"disabled"]],template:function(o,r){if(1&o){const c=e.RV6();e.j41(0,"form",1,0),e.bIt("ngSubmit",function(){return e.eBV(c),e.Njj(r.addReporte())}),e.j41(2,"ion-item")(3,"ion-label",2),e.EFF(4,"T\xedtulo del reporte"),e.k0s(),e.j41(5,"ion-input",3),e.mxI("ngModelChange",function(l){return e.eBV(c),e.DH7(r.reporte.titulo,l)||(r.reporte.titulo=l),e.Njj(l)}),e.k0s()(),e.j41(6,"ion-item")(7,"ion-label",2),e.EFF(8,"Descripci\xf3n"),e.k0s(),e.j41(9,"ion-input",4),e.mxI("ngModelChange",function(l){return e.eBV(c),e.DH7(r.reporte.content,l)||(r.reporte.content=l),e.Njj(l)}),e.k0s()(),e.j41(10,"ion-item")(11,"ion-label",2),e.EFF(12,"Fecha y hora"),e.k0s(),e.j41(13,"ion-datetime",5),e.mxI("ngModelChange",function(l){return e.eBV(c),e.DH7(r.reporte.date,l)||(r.reporte.date=l),e.Njj(l)}),e.k0s()(),e.nrm(14,"br"),e.j41(15,"ion-button",6),e.EFF(16," Generar Reporte "),e.k0s()()}if(2&o){const c=e.sdS(1);e.R7$(5),e.R50("ngModel",r.reporte.titulo),e.R7$(4),e.R50("ngModel",r.reporte.content),e.R7$(4),e.R50("ngModel",r.reporte.date),e.Y8G("value",r.reporte.date),e.R7$(2),e.Y8G("disabled",!c.valid)}},dependencies:[s.qT,s.BC,s.cb,s.YS,s.vS,s.cV,a.Jm,a.A9,a.$w,a.uz,a.he,a.Je,a.Gw]}),n})();const M=[{path:"",component:(()=>{var t;class n{constructor(){}ngOnInit(){}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-reportePolicia"]],decls:6,vars:2,consts:[[3,"translucent"],[3,"fullscreen"]],template:function(o,r){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"reporte"),e.k0s()()(),e.j41(4,"ion-content",1),e.nrm(5,"app-reporte"),e.k0s()),2&o&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0))},dependencies:[a.W9,a.eU,a.BC,a.ai,h]}),n})()}];let v=(()=>{var t;class n{}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[m.iI.forChild(M),m.iI]}),n})(),C=(()=>{var t;class n{}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,s.YN,a.bv,v]}),n})()}}]);