"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7386],{7386:(O,h,i)=>{i.r(h),i.d(h,{RegistroPageModule:()=>A});var F=i(177),o=i(4341),p=i(4742),f=i(9384),v=i(467),e=i(3953),w=i(9058),R=i(2872),P=i(9212),b=i(385);function C(t,u){1&t&&(e.j41(0,"span",6),e.EFF(1,"Ingrese un email v\xe1lido"),e.k0s())}function y(t,u){1&t&&(e.j41(0,"span",6),e.EFF(1,"Ingrese una contrase\xf1a"),e.k0s())}function M(t,u){1&t&&(e.j41(0,"span",6),e.EFF(1,"Las contrase\xf1as no son iguales"),e.k0s())}const k=[{path:"",component:(()=>{var t;class u{constructor(l,r,s,a){this.storage=l,this.alertController=r,this.navController=s,this.authService=a,this.submitted=!1,this.registerForm=new o.gE({email:new o.MJ("",[o.k0.email,o.k0.required]),password:new o.MJ("",[o.k0.required]),repeatPassword:new o.MJ("",[o.k0.required])})}ngOnInit(){}emailAlert(){var l=this;return(0,v.A)(function*(){yield(yield l.alertController.create({header:"ERROR",message:"Ya existe un usuario con este email",buttons:["Ok"]})).present()})()}passwordAlert(){var l=this;return(0,v.A)(function*(){yield(yield l.alertController.create({header:"ERROR",message:"La contrase\xf1a es muy debil, m\xednimo 6 caracteres",buttons:["Ok"]})).present()})()}onSubmit(){var l=this;return(0,v.A)(function*(){var r,s;if(l.submitted=!0,l.registerForm.valid&&(null===(r=l.registerForm.get("password"))||void 0===r?void 0:r.value)==(null===(s=l.registerForm.get("repeatPassword"))||void 0===s?void 0:s.value)){var a,d;let g=null===(a=l.registerForm.get("email"))||void 0===a||null===(a=a.value)||void 0===a?void 0:a.toLowerCase(),m=null===(d=l.registerForm.get("password"))||void 0===d?void 0:d.value;l.authService.register(g,m,"client").then(n=>{l.navController.navigateRoot("auth/login")}).catch(n=>{switch(n.code){case"auth/email-already-in-use":l.emailAlert();break;case"auth/weak-password":l.passwordAlert()}})}})()}}return(t=u).\u0275fac=function(l){return new(l||t)(e.rXU(w.s),e.rXU(p.hG),e.rXU(R.q9),e.rXU(P.u))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-registro"]],decls:17,vars:11,consts:[[3,"fullscreen"],[1,"container"],[1,"form-container"],[1,"ion-text-center"],[1,"login-form",3,"ngSubmit","formGroup"],["label","Correo Electr\xf3nico","labelPlacement","stacked","type","text","placeholder","Ejemplo@email.com","formControlName","email",1,"input-background"],[1,"danger"],["label","Contrase\xf1a","id","password","labelPlacement","stacked","type","password","placeholder","Contrase\xf1a","formControlName","password",1,"input-background"],["slot","end"],["label","Repetir Contrase\xf1a","id","repeat-password","labelPlacement","stacked","type","password","formControlName","repeatPassword",1,"input-background"],["color","primary","type","submit"]],template:function(l,r){if(1&l&&(e.nrm(0,"app-header"),e.j41(1,"ion-content",0)(2,"div",1)(3,"div",2)(4,"h1",3),e.EFF(5,"Registrar cuenta"),e.k0s(),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.nrm(7,"ion-input",5),e.DNE(8,C,2,0,"span",6),e.j41(9,"ion-input",7),e.nrm(10,"ion-input-password-toggle",8),e.k0s(),e.DNE(11,y,2,0,"span",6),e.j41(12,"ion-input",9),e.nrm(13,"ion-input-password-toggle",8),e.k0s(),e.DNE(14,M,2,0,"span",6),e.j41(15,"ion-button",10),e.EFF(16,"Registrar"),e.k0s()()()()()),2&l){let s,a,d,g,m,n;e.R7$(),e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("formGroup",r.registerForm),e.R7$(),e.AVh("is-invalid",(null==(s=r.registerForm.get("email"))?null:s.invalid)&&r.submitted||(null==(s=r.registerForm.get("email"))?null:s.invalid)&&(null==(s=r.registerForm.get("email"))?null:s.touched)),e.R7$(),e.vxM(null!=(a=r.registerForm.get("email"))&&a.invalid&&r.submitted||null!=(a=r.registerForm.get("email"))&&a.invalid&&null!=(a=r.registerForm.get("email"))&&a.touched?8:-1),e.R7$(),e.AVh("is-invalid",(null==(d=r.registerForm.get("password"))?null:d.invalid)&&r.submitted||(null==(d=r.registerForm.get("password"))?null:d.invalid)&&(null==(d=r.registerForm.get("password"))?null:d.touched)),e.R7$(2),e.vxM(null!=(g=r.registerForm.get("password"))&&g.invalid&&r.submitted||null!=(g=r.registerForm.get("password"))&&g.invalid&&null!=(g=r.registerForm.get("password"))&&g.touched?11:-1),e.R7$(),e.AVh("is-invalid",(null==(m=r.registerForm.get("repeatPassword"))?null:m.invalid)&&r.submitted||(null==(m=r.registerForm.get("repeatPassword"))?null:m.invalid)&&(null==(m=r.registerForm.get("repeatPassword"))?null:m.touched)),e.R7$(2),e.vxM(null!=(n=r.registerForm.get("repeatPassword"))&&n.invalid&&r.submitted||null!=(n=r.registerForm.get("repeatPassword"))&&n.invalid&&null!=(n=r.registerForm.get("repeatPassword"))&&n.touched||(null==(n=r.registerForm.get("repeatPassword"))?null:n.value)!=(null==(n=r.registerForm.get("password"))?null:n.value)&&null!=(n=r.registerForm.get("repeatPassword"))&&n.touched||(null==(n=r.registerForm.get("repeatPassword"))?null:n.value)!=(null==(n=r.registerForm.get("password"))?null:n.value)&&r.submitted?14:-1)}},dependencies:[o.qT,o.BC,o.cb,p.Jm,p.W9,p.$w,p.Wv,p.Gw,o.j4,o.JD,b.l],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100dvw;display:grid;place-content:center}.form-container[_ngcontent-%COMP%]{background-color:#fff6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:40px 25px;border-radius:25px;width:95vw;max-width:500px;display:flex;flex-direction:column;gap:10px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.is-invalid[_ngcontent-%COMP%]{--highlight-color-invalid: red}.input-background[_ngcontent-%COMP%]{--background: var(--color-white);--padding-start: 10px;--padding-end: 10px;--border-radius: 5px}"]}),u})()}];let E=(()=>{var t;class u{}return(t=u).\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.iI.forChild(k),f.iI]}),u})();var j=i(5553);let A=(()=>{var t;class u{}return(t=u).\u0275fac=function(l){return new(l||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[F.MD,o.YN,p.bv,E,o.X1,j.h]}),u})()}}]);