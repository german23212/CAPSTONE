(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{443:(Mn,It,k)=>{"use strict";k.d(It,{$:()=>ra,A:()=>se,G:()=>Xe,K:()=>oo,L:()=>Do,N:()=>Yn,P:()=>Mu,R:()=>Ji,U:()=>Xn,V:()=>wo,W:()=>Hs,X:()=>fl,Y:()=>Eo,Z:()=>gs,_:()=>So,a:()=>Su,a0:()=>mi,a1:()=>Q,a2:()=>le,a3:()=>ge,a4:()=>Ki,a5:()=>Ko,a6:()=>xa,a7:()=>ml,a8:()=>br,a9:()=>oa,aA:()=>zo,aB:()=>De,aC:()=>pe,aD:()=>vc,aE:()=>Wt,aF:()=>Tr,aG:()=>ku,aH:()=>Cf,aI:()=>Sd,aJ:()=>Kn,aN:()=>co,aQ:()=>gi,aa:()=>iu,ab:()=>Ns,ac:()=>Dd,ad:()=>Xo,ae:()=>vl,af:()=>tl,ag:()=>Po,ah:()=>oc,ak:()=>Ds,al:()=>sc,am:()=>rl,ap:()=>Uo,aq:()=>Le,as:()=>ys,at:()=>ni,au:()=>Ot,av:()=>bo,aw:()=>Ti,ax:()=>ue,ay:()=>hs,az:()=>pr,b:()=>ol,c:()=>al,d:()=>Gc,e:()=>zc,f:()=>bf,g:()=>No,h:()=>du,i:()=>Qs,j:()=>mc,k:()=>Bu,l:()=>eo,m:()=>kd,p:()=>Oe,r:()=>Pu,s:()=>fo,u:()=>sl});var d=k(467),h=k(1631),B=k(1401),Ee=k(5398),J=k(1635),ye=k(8779);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Xe=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ot=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new B.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new Ee.Vy("@firebase/auth");function vt(b,...p){tt.logLevel<=Ee.$b.ERROR&&tt.error(`Auth (${h.SDK_VERSION}): ${b}`,...p)}function ue(b,...p){throw Ze(b,...p)}function De(b,...p){return Ze(b,...p)}function Re(b,p,_){const S=Object.assign(Object.assign({},ot()),{[p]:_});return new B.FA("auth","Firebase",S).create(p,{appName:b.name})}function Ke(b){return Re(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nt(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&ue(b,"argument-error"),Re(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(b,...p){if("string"!=typeof b){const _=p[0],S=[...p.slice(1)];return S[0]&&(S[0].appName=b.name),b._errorFactory.create(_,...S)}return ut.create(b,...p)}function pe(b,p,..._){if(!b)throw Ze(p,..._)}function rt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw vt(p),new Error(p)}function Ot(b,p){b||rt(p)}function Xt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function En(){return"http:"===tn()||"https:"===tn()}function tn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Me{constructor(p,_){this.shortDelay=p,this.longDelay=_,Ot(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.jZ)()||(0,B.lV)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(En()||(0,B.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ie(b,p){Ot(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class oe{static initialize(p,_,S){this.fetchImpl=p,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ge=new Me(3e4,6e4);function mt(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function yt(b,p,_,S){return at.apply(this,arguments)}function at(){return(at=(0,d.A)(function*(b,p,_,S,ne={}){return Ft(b,ne,(0,d.A)(function*(){let Ce={},Ct={};S&&("GET"===p?Ct=S:Ce={body:JSON.stringify(S)});const Yt=(0,B.Am)(Object.assign({key:b.config.apiKey},Ct)).slice(1),Cn=yield b._getAdditionalHeaders();Cn["Content-Type"]="application/json",b.languageCode&&(Cn["X-Firebase-Locale"]=b.languageCode);const nr=Object.assign({method:p,headers:Cn},Ce);return(0,B.c1)()||(nr.referrerPolicy="no-referrer"),oe.fetch()(St(b,b.config.apiHost,_,Yt),nr)}))})).apply(this,arguments)}function Ft(b,p,_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.A)(function*(b,p,_){b._canInitEmulator=!1;const S=Object.assign(Object.assign({},he),p);try{const ne=new Ln(b),Ce=yield Promise.race([_(),ne.promise]);ne.clearNetworkTimeout();const Ct=yield Ce.json();if("needConfirmation"in Ct)throw jn(b,"account-exists-with-different-credential",Ct);if(Ce.ok&&!("errorMessage"in Ct))return Ct;{const Yt=Ce.ok?Ct.errorMessage:Ct.error.message,[Cn,nr]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Cn)throw jn(b,"credential-already-in-use",Ct);if("EMAIL_EXISTS"===Cn)throw jn(b,"email-already-in-use",Ct);if("USER_DISABLED"===Cn)throw jn(b,"user-disabled",Ct);const cr=S[Cn]||Cn.toLowerCase().replace(/[_\s]+/g,"-");if(nr)throw Re(b,cr,nr);ue(b,cr)}}catch(ne){if(ne instanceof B.g)throw ne;ue(b,"network-request-failed",{message:String(ne)})}})).apply(this,arguments)}function wt(b,p,_,S){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.A)(function*(b,p,_,S,ne={}){const Ce=yield yt(b,p,_,S,ne);return"mfaPendingCredential"in Ce&&ue(b,"multi-factor-auth-required",{_serverResponse:Ce}),Ce})).apply(this,arguments)}function St(b,p,_,S){const ne=`${p}${_}?${S}`;return b.config.emulator?ie(b.config,ne):`${b.config.apiScheme}://${ne}`}function kn(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ln{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(De(this.auth,"network-request-failed")),Ge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(b,p,_){const S={appName:b.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const ne=De(b,p,S);return ne.customData._tokenResponse=_,ne}function qt(b){return void 0!==b&&void 0!==b.getResponse}function Zt(b){return void 0!==b&&void 0!==b.enterprise}class rr{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return kn(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function $e(){return($e=(0,d.A)(function*(b){return(yield yt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ue(b,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.A)(function*(b,p){return yt(b,"GET","/v2/recaptchaConfig",mt(b,p))})).apply(this,arguments)}function ir(){return(ir=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zt(b,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ur(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Lr(){return(Lr=(0,d.A)(function*(b,p=!1){const _=(0,B.Ku)(b),S=yield _.getIdToken(p),ne=Vn(S);pe(ne&&ne.exp&&ne.auth_time&&ne.iat,_.auth,"internal-error");const Ce="object"==typeof ne.firebase?ne.firebase:void 0,Ct=null==Ce?void 0:Ce.sign_in_provider;return{claims:ne,token:S,authTime:ur(Ni(ne.auth_time)),issuedAtTime:ur(Ni(ne.iat)),expirationTime:ur(Ni(ne.exp)),signInProvider:Ct||null,signInSecondFactor:(null==Ce?void 0:Ce.sign_in_second_factor)||null}})).apply(this,arguments)}function Ni(b){return 1e3*Number(b)}function Vn(b){const[p,_,S]=b.split(".");if(void 0===p||void 0===_||void 0===S)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,B.u)(_);return ne?JSON.parse(ne):(vt("Failed to decode base64 JWT payload"),null)}catch(ne){return vt("Caught error parsing JWT payload as JSON",null==ne?void 0:ne.toString()),null}}function wi(b){const p=Vn(b);return pe(p,"internal-error"),pe(typeof p.exp<"u","internal-error"),pe(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Qn(b,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.A)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(S){throw S instanceof B.g&&function zn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(S)&&b.auth.currentUser===b&&(yield b.auth.signOut()),S}})).apply(this,arguments)}class Ai{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const ne=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(p);this.timerId=setTimeout((0,d.A)(function*(){yield _.iteration()}),S)}iteration(){var p=this;return(0,d.A)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class tr{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function si(b){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.A)(function*(b){var p;const _=b.auth,S=yield b.getIdToken(),ne=yield Qn(b,zt(_,{idToken:S}));pe(null==ne?void 0:ne.users.length,_,"internal-error");const Ce=ne.users[0];b._notifyReloadListener(Ce);const Ct=null!==(p=Ce.providerUserInfo)&&void 0!==p&&p.length?_t(Ce.providerUserInfo):[],Yt=function Ut(b,p){return[...b.filter(S=>!p.some(ne=>ne.providerId===S.providerId)),...p]}(b.providerData,Ct),cr=!!b.isAnonymous&&!(b.email&&Ce.passwordHash||null!=Yt&&Yt.length),hi={uid:Ce.localId,displayName:Ce.displayName||null,photoURL:Ce.photoUrl||null,email:Ce.email||null,emailVerified:Ce.emailVerified||!1,phoneNumber:Ce.phoneNumber||null,tenantId:Ce.tenantId||null,providerData:Yt,metadata:new tr(Ce.createdAt,Ce.lastLoginAt),isAnonymous:cr};Object.assign(b,hi)})).apply(this,arguments)}function ai(){return(ai=(0,d.A)(function*(b){const p=(0,B.Ku)(b);yield si(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function _t(b){return b.map(p=>{var{providerId:_}=p,S=(0,J.Tt)(p,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function ke(){return(ke=(0,d.A)(function*(b,p){const _=yield Ft(b,{},(0,d.A)(function*(){const S=(0,B.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:ne,apiKey:Ce}=b.config,Ct=St(b,ne,"/v1/token",`key=${Ce}`),Yt=yield b._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(Ct,{method:"POST",headers:Yt,body:S})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function X(){return(X=(0,d.A)(function*(b,p){return yt(b,"POST","/v2/accounts:revokeToken",mt(b,p))})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){pe(p.idToken,"internal-error"),pe(typeof p.idToken<"u","internal-error"),pe(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):wi(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}updateFromIdToken(p){pe(0!==p.length,"internal-error");const _=wi(p);this.updateTokensAndExpiration(p,null,_)}getToken(p,_=!1){var S=this;return(0,d.A)(function*(){return _||!S.accessToken||S.isExpired?(pe(S.refreshToken,p,"user-token-expired"),S.refreshToken?(yield S.refresh(p,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var S=this;return(0,d.A)(function*(){const{accessToken:ne,refreshToken:Ce,expiresIn:Ct}=yield function Gt(b,p){return ke.apply(this,arguments)}(p,_);S.updateTokensAndExpiration(ne,Ce,Number(Ct))})()}updateTokensAndExpiration(p,_,S){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(p,_){const{refreshToken:S,accessToken:ne,expirationTime:Ce}=_,Ct=new K;return S&&(pe("string"==typeof S,"internal-error",{appName:p}),Ct.refreshToken=S),ne&&(pe("string"==typeof ne,"internal-error",{appName:p}),Ct.accessToken=ne),Ce&&(pe("number"==typeof Ce,"internal-error",{appName:p}),Ct.expirationTime=Ce),Ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return rt("not implemented")}}function ee(b,p){pe("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Ne{constructor(p){var{uid:_,auth:S,stsTokenManager:ne}=p,Ce=(0,J.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=Ce.displayName||null,this.email=Ce.email||null,this.emailVerified=Ce.emailVerified||!1,this.phoneNumber=Ce.phoneNumber||null,this.photoURL=Ce.photoURL||null,this.isAnonymous=Ce.isAnonymous||!1,this.tenantId=Ce.tenantId||null,this.providerData=Ce.providerData?[...Ce.providerData]:[],this.metadata=new tr(Ce.createdAt||void 0,Ce.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,d.A)(function*(){const S=yield Qn(_,_.stsTokenManager.getToken(_.auth,p));return pe(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(p){return function vr(b){return Lr.apply(this,arguments)}(this,p)}reload(){return function Dn(b){return ai.apply(this,arguments)}(this)}_assign(p){this!==p&&(pe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Ne(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var S=this;return(0,d.A)(function*(){let ne=!1;p.idToken&&p.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(p),ne=!0),_&&(yield si(S)),yield S.auth._persistUserIfCurrent(S),ne&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var p=this;return(0,d.A)(function*(){if((0,h._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ke(p.auth));const _=yield p.getIdToken();return yield Qn(p,function yn(b,p){return ir.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var S,ne,Ce,Ct,Yt,Cn,nr,cr;const hi=null!==(S=_.displayName)&&void 0!==S?S:void 0,ks=null!==(ne=_.email)&&void 0!==ne?ne:void 0,ul=null!==(Ce=_.phoneNumber)&&void 0!==Ce?Ce:void 0,zu=null!==(Ct=_.photoURL)&&void 0!==Ct?Ct:void 0,Qc=null!==(Yt=_.tenantId)&&void 0!==Yt?Yt:void 0,Yc=null!==(Cn=_._redirectEventId)&&void 0!==Cn?Cn:void 0,ca=null!==(nr=_.createdAt)&&void 0!==nr?nr:void 0,_u=null!==(cr=_.lastLoginAt)&&void 0!==cr?cr:void 0,{uid:bl,emailVerified:fi,isAnonymous:Cc,providerData:Hl,stsTokenManager:Is}=_;pe(bl&&Is,p,"internal-error");const wf=K.fromJSON(this.name,Is);pe("string"==typeof bl,p,"internal-error"),ee(hi,p.name),ee(ks,p.name),pe("boolean"==typeof fi,p,"internal-error"),pe("boolean"==typeof Cc,p,"internal-error"),ee(ul,p.name),ee(zu,p.name),ee(Qc,p.name),ee(Yc,p.name),ee(ca,p.name),ee(_u,p.name);const Ta=new Ne({uid:bl,auth:p,email:ks,emailVerified:fi,displayName:hi,isAnonymous:Cc,photoURL:zu,phoneNumber:ul,tenantId:Qc,stsTokenManager:wf,createdAt:ca,lastLoginAt:_u});return Hl&&Array.isArray(Hl)&&(Ta.providerData=Hl.map(Ca=>Object.assign({},Ca))),Yc&&(Ta._redirectEventId=Yc),Ta}static _fromIdTokenResponse(p,_,S=!1){return(0,d.A)(function*(){const ne=new K;ne.updateFromServerResponse(_);const Ce=new Ne({uid:_.localId,auth:p,stsTokenManager:ne,isAnonymous:S});return yield si(Ce),Ce})()}static _fromGetAccountInfoResponse(p,_,S){return(0,d.A)(function*(){const ne=_.users[0];pe(void 0!==ne.localId,"internal-error");const Ce=void 0!==ne.providerUserInfo?_t(ne.providerUserInfo):[],Ct=!(ne.email&&ne.passwordHash||null!=Ce&&Ce.length),Yt=new K;Yt.updateFromIdToken(S);const Cn=new Ne({uid:ne.localId,auth:p,stsTokenManager:Yt,isAnonymous:Ct}),nr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:Ce,metadata:new tr(ne.createdAt,ne.lastLoginAt),isAnonymous:!(ne.email&&ne.passwordHash||null!=Ce&&Ce.length)};return Object.assign(Cn,nr),Cn})()}}const He=new Map;function Wt(b){Ot(b instanceof Function,"Expected a class definition");let p=He.get(b);return p?(Ot(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,He.set(b,p),p)}const Xn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(_,S){var ne=this;return(0,d.A)(function*(){ne.storage[_]=S})()}_get(_){var S=this;return(0,d.A)(function*(){const ne=S.storage[_];return void 0===ne?null:ne})()}_remove(_){var S=this;return(0,d.A)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return b.type="NONE",b})();function Tr(b,p,_){return`firebase:${b}:${p}:${_}`}class ht{constructor(p,_,S){this.persistence=p,this.auth=_,this.userKey=S;const{config:ne,name:Ce}=this.auth;this.fullUserKey=Tr(this.userKey,ne.apiKey,Ce),this.fullPersistenceKey=Tr("persistence",ne.apiKey,Ce),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.A)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Ne._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,d.A)(function*(){if(_.persistence===p)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,S="authUser"){return(0,d.A)(function*(){if(!_.length)return new ht(Wt(Xn),p,S);const ne=(yield Promise.all(_.map(function(){var nr=(0,d.A)(function*(cr){if(yield cr._isAvailable())return cr});return function(cr){return nr.apply(this,arguments)}}()))).filter(nr=>nr);let Ce=ne[0]||Wt(Xn);const Ct=Tr(S,p.config.apiKey,p.name);let Yt=null;for(const nr of _)try{const cr=yield nr._get(Ct);if(cr){const hi=Ne._fromJSON(p,cr);nr!==Ce&&(Yt=hi),Ce=nr;break}}catch{}const Cn=ne.filter(nr=>nr._shouldAllowMigration);return Ce._shouldAllowMigration&&Cn.length?(Ce=Cn[0],Yt&&(yield Ce._set(Ct,Yt.toJSON())),yield Promise.all(_.map(function(){var nr=(0,d.A)(function*(cr){if(cr!==Ce)try{yield cr._remove(Ct)}catch{}});return function(cr){return nr.apply(this,arguments)}}())),new ht(Ce,p,S)):new ht(Ce,p,S)})()}}function fr(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(no(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(xn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(xo(p))return"Blackberry";if(Hi(p))return"Webos";if(Wr(p))return"Safari";if((p.includes("chrome/")||ji(p))&&!p.includes("edge/"))return"Chrome";if(Ti(p))return"Android";{const S=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function xn(b=(0,B.ZQ)()){return/firefox\//i.test(b)}function Wr(b=(0,B.ZQ)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ji(b=(0,B.ZQ)()){return/crios\//i.test(b)}function no(b=(0,B.ZQ)()){return/iemobile/i.test(b)}function Ti(b=(0,B.ZQ)()){return/android/i.test(b)}function xo(b=(0,B.ZQ)()){return/blackberry/i.test(b)}function Hi(b=(0,B.ZQ)()){return/webos/i.test(b)}function bo(b=(0,B.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function zo(b=(0,B.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Te(b=(0,B.ZQ)()){return bo(b)||Ti(b)||Hi(b)||xo(b)||/windows phone/i.test(b)||no(b)}function Et(b,p=[]){let _;switch(b){case"Browser":_=fr((0,B.ZQ)());break;case"Worker":_=`${fr((0,B.ZQ)())}-${b}`;break;default:_=b}const S=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${h.SDK_VERSION}/${S}`}class ce{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const S=Ce=>new Promise((Ct,Yt)=>{try{Ct(p(Ce))}catch(Cn){Yt(Cn)}});S.onAbort=_,this.queue.push(S);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,d.A)(function*(){if(_.auth.currentUser===p)return;const S=[];try{for(const ne of _.queue)yield ne(p),ne.onAbort&&S.push(ne.onAbort)}catch(ne){S.reverse();for(const Ce of S)try{Ce()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==ne?void 0:ne.message})}})()}}function ze(){return(ze=(0,d.A)(function*(b,p={}){return yt(b,"GET","/v2/passwordPolicy",mt(b,p))})).apply(this,arguments)}class mn{constructor(p){var _,S,ne,Ce;const Ct=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Ct.minPasswordLength)&&void 0!==_?_:6,Ct.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ct.maxPasswordLength),void 0!==Ct.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ct.containsLowercaseCharacter),void 0!==Ct.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ct.containsUppercaseCharacter),void 0!==Ct.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ct.containsNumericCharacter),void 0!==Ct.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ct.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ne=null===(S=p.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==ne?ne:"",this.forceUpgradeOnSignin=null!==(Ce=p.forceUpgradeOnSignin)&&void 0!==Ce&&Ce,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,S,ne,Ce,Ct,Yt;const Cn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Cn),this.validatePasswordCharacterOptions(p,Cn),Cn.isValid&&(Cn.isValid=null===(_=Cn.meetsMinPasswordLength)||void 0===_||_),Cn.isValid&&(Cn.isValid=null===(S=Cn.meetsMaxPasswordLength)||void 0===S||S),Cn.isValid&&(Cn.isValid=null===(ne=Cn.containsLowercaseLetter)||void 0===ne||ne),Cn.isValid&&(Cn.isValid=null===(Ce=Cn.containsUppercaseLetter)||void 0===Ce||Ce),Cn.isValid&&(Cn.isValid=null===(Ct=Cn.containsNumericCharacter)||void 0===Ct||Ct),Cn.isValid&&(Cn.isValid=null===(Yt=Cn.containsNonAlphanumericCharacter)||void 0===Yt||Yt),Cn}validatePasswordLengthOptions(p,_){const S=this.customStrengthOptions.minPasswordLength,ne=this.customStrengthOptions.maxPasswordLength;S&&(_.meetsMinPasswordLength=p.length>=S),ne&&(_.meetsMaxPasswordLength=p.length<=ne)}validatePasswordCharacterOptions(p,_){let S;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let ne=0;ne<p.length;ne++)S=p.charAt(ne),this.updatePasswordCharacterOptionsStatuses(_,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(p,_,S,ne,Ce){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=ne)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=Ce))}}class wn{constructor(p,_,S,ne){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=S,this.config=ne,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sr(this),this.idTokenSubscription=new Sr(this),this.beforeStateQueue=new ce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=ne.sdkClientVersion}_initializeWithPersistence(p,_){var S=this;return _&&(this._popupRedirectResolver=Wt(_)),this._initializationPromise=this.queue((0,d.A)(function*(){var ne,Ce;if(!S._deleted&&(S.persistenceManager=yield ht.create(S,p),!S._deleted)){if(null!==(ne=S._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(_),S.lastNotifiedUid=(null===(Ce=S.currentUser)||void 0===Ce?void 0:Ce.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.A)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(p){var _=this;return(0,d.A)(function*(){try{const S=yield zt(_,{idToken:p}),ne=yield Ne._fromGetAccountInfoResponse(_,S,p);yield _.directlySetCurrentUser(ne)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var _=this;return(0,d.A)(function*(){var S;if((0,h._isFirebaseServerApp)(_.app)){const Yt=_.app.settings.authIdToken;return Yt?new Promise(Cn=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(Yt).then(Cn,Cn))}):_.directlySetCurrentUser(null)}const ne=yield _.assertedPersistence.getCurrentUser();let Ce=ne,Ct=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Yt=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,Cn=null==Ce?void 0:Ce._redirectEventId,nr=yield _.tryRedirectSignIn(p);(!Yt||Yt===Cn)&&null!=nr&&nr.user&&(Ce=nr.user,Ct=!0)}if(!Ce)return _.directlySetCurrentUser(null);if(!Ce._redirectEventId){if(Ct)try{yield _.beforeStateQueue.runMiddleware(Ce)}catch(Yt){Ce=ne,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Yt))}return Ce?_.reloadAndSetCurrentUserOrClear(Ce):_.directlySetCurrentUser(null)}return pe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Ce._redirectEventId?_.directlySetCurrentUser(Ce):_.reloadAndSetCurrentUserOrClear(Ce)})()}tryRedirectSignIn(p){var _=this;return(0,d.A)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,d.A)(function*(){try{yield si(p)}catch(S){if("auth/network-request-failed"!==(null==S?void 0:S.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ft(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,d.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,d.A)(function*(){if((0,h._isFirebaseServerApp)(_.app))return Promise.reject(Ke(_));const S=p?(0,B.Ku)(p):null;return S&&pe(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(p,_=!1){var S=this;return(0,d.A)(function*(){if(!S._deleted)return p&&pe(S.tenantId===p.tenantId,S,"tenant-id-mismatch"),_||(yield S.beforeStateQueue.runMiddleware(p)),S.queue((0,d.A)(function*(){yield S.directlySetCurrentUser(p),S.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.A)(function*(){return(0,h._isFirebaseServerApp)(p.app)?Promise.reject(Ke(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var _=this;return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(Ke(this)):this.queue((0,d.A)(function*(){yield _.assertedPersistence.setPersistence(Wt(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,d.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const S=_._getPasswordPolicyInternal();return S.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,d.A)(function*(){const _=yield function de(b){return ze.apply(this,arguments)}(p),S=new mn(_);null===p.tenantId?p._projectPasswordPolicy=S:p._tenantPasswordPolicies[p.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.FA("auth","Firebase",p())}onAuthStateChanged(p,_,S){return this.registerStateListener(this.authStateSubscription,p,_,S)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,S){return this.registerStateListener(this.idTokenSubscription,p,_,S)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const S=this.onAuthStateChanged(()=>{S(),p()},_)}})}revokeAccessToken(p){var _=this;return(0,d.A)(function*(){if(_.currentUser){const S=yield _.currentUser.getIdToken(),ne={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:S};null!=_.tenantId&&(ne.tenantId=_.tenantId),yield function We(b,p){return X.apply(this,arguments)}(_,ne)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var S=this;return(0,d.A)(function*(){const ne=yield S.getOrInitRedirectPersistenceManager(_);return null===p?ne.removeCurrentUser():ne.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,d.A)(function*(){if(!_.redirectPersistenceManager){const S=p&&Wt(p)||_._popupRedirectResolver;pe(S,_,"argument-error"),_.redirectPersistenceManager=yield ht.create(_,[Wt(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,d.A)(function*(){var S,ne;return _._isInitialized&&(yield _.queue((0,d.A)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===p?_._currentUser:(null===(ne=_.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,d.A)(function*(){if(p===_.currentUser)return _.queue((0,d.A)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,S,ne){if(this._deleted)return()=>{};const Ce="function"==typeof _?_:_.next.bind(_);let Ct=!1;const Yt=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(Yt,this,"internal-error"),Yt.then(()=>{Ct||Ce(this.currentUser)}),"function"==typeof _){const Cn=p.addObserver(_,S,ne);return()=>{Ct=!0,Cn()}}{const Cn=p.addObserver(_);return()=>{Ct=!0,Cn()}}}directlySetCurrentUser(p){var _=this;return(0,d.A)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Et(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.A)(function*(){var _;const S={"X-Client-Version":p.clientVersion};p.app.options.appId&&(S["X-Firebase-gmpid"]=p.app.options.appId);const ne=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();ne&&(S["X-Firebase-Client"]=ne);const Ce=yield p._getAppCheckToken();return Ce&&(S["X-Firebase-AppCheck"]=Ce),S})()}_getAppCheckToken(){var p=this;return(0,d.A)(function*(){var _;const S=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return null!=S&&S.error&&function Dt(b,...p){tt.logLevel<=Ee.$b.WARN&&tt.warn(`Auth (${h.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${S.error}`),null==S?void 0:S.token})()}}function Kn(b){return(0,B.Ku)(b)}class Sr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.tD)(_=>this.observer=_)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ki={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qe(b){return ki.loadJS(b)}function gt(b){return`__${b}${Math.floor(1e6*Math.random())}`}class An{constructor(p){this.type="recaptcha-enterprise",this.auth=Kn(p)}verify(p="verify",_=!1){var S=this;return(0,d.A)(function*(){function Ce(){return Ce=(0,d.A)(function*(Yt){if(!_){if(null==Yt.tenantId&&null!=Yt._agentRecaptchaConfig)return Yt._agentRecaptchaConfig.siteKey;if(null!=Yt.tenantId&&void 0!==Yt._tenantRecaptchaConfigs[Yt.tenantId])return Yt._tenantRecaptchaConfigs[Yt.tenantId].siteKey}return new Promise(function(){var Cn=(0,d.A)(function*(nr,cr){Ue(Yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(hi=>{if(void 0!==hi.recaptchaKey){const ks=new rr(hi);return null==Yt.tenantId?Yt._agentRecaptchaConfig=ks:Yt._tenantRecaptchaConfigs[Yt.tenantId]=ks,nr(ks.siteKey)}cr(new Error("recaptcha Enterprise site key undefined"))}).catch(hi=>{cr(hi)})});return function(nr,cr){return Cn.apply(this,arguments)}}())}),Ce.apply(this,arguments)}function Ct(Yt,Cn,nr){const cr=window.grecaptcha;Zt(cr)?cr.enterprise.ready(()=>{cr.enterprise.execute(Yt,{action:p}).then(hi=>{Cn(hi)}).catch(()=>{Cn("NO_RECAPTCHA")})}):nr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Yt,Cn)=>{(function ne(Yt){return Ce.apply(this,arguments)})(S.auth).then(nr=>{if(!_&&Zt(window.grecaptcha))Ct(nr,Yt,Cn);else{if(typeof window>"u")return void Cn(new Error("RecaptchaVerifier is only supported in browser"));let cr=function At(){return ki.recaptchaEnterpriseScript}();0!==cr.length&&(cr+=nr),Qe(cr).then(()=>{Ct(nr,Yt,Cn)}).catch(hi=>{Cn(hi)})}}).catch(nr=>{Cn(nr)})})})()}}function Sn(b,p,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.A)(function*(b,p,_,S=!1){const ne=new An(b);let Ce;try{Ce=yield ne.verify(_)}catch{Ce=yield ne.verify(_,!0)}const Ct=Object.assign({},p);return Object.assign(Ct,S?{captchaResp:Ce}:{captchaResponse:Ce}),Object.assign(Ct,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ct,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ct})).apply(this,arguments)}function Jn(b,p,_,S){return ar.apply(this,arguments)}function ar(){return ar=(0,d.A)(function*(b,p,_,S){var ne;if(null!==(ne=b._getRecaptchaConfig())&&void 0!==ne&&ne.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ce=yield Sn(b,p,_,"getOobCode"===_);return S(b,Ce)}return S(b,p).catch(function(){var Ce=(0,d.A)(function*(Ct){if("auth/missing-recaptcha-token"===Ct.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Yt=yield Sn(b,p,_,"getOobCode"===_);return S(b,Yt)}return Promise.reject(Ct)});return function(Ct){return Ce.apply(this,arguments)}}())}),ar.apply(this,arguments)}function oo(b,p,_){const S=Kn(b);pe(S._canInitEmulator,S,"emulator-config-failed"),pe(/^https?:\/\//.test(p),S,"invalid-emulator-scheme");const ne=!(null==_||!_.disableWarnings),Ce=ko(p),{host:Ct,port:Yt}=function Lo(b){const p=ko(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(S);if(ne){const Ce=ne[1];return{host:Ce,port:Fo(S.substr(Ce.length+1))}}{const[Ce,Ct]=S.split(":");return{host:Ce,port:Fo(Ct)}}}(p);S.config.emulator={url:`${Ce}//${Ct}${null===Yt?"":`:${Yt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ct,port:Yt,protocol:Ce.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function rs(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function ko(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Fo(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Do{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return rt("not implemented")}_getIdTokenResponse(p){return rt("not implemented")}_linkToIdToken(p,_){return rt("not implemented")}_getReauthenticationResolver(p){return rt("not implemented")}}function _i(b,p){return js.apply(this,arguments)}function js(){return(js=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:resetPassword",mt(b,p))})).apply(this,arguments)}function Ma(){return(Ma=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qi(b,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function zi(){return(zi=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:update",mt(b,p))})).apply(this,arguments)}function ci(b,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signInWithPassword",mt(b,p))})).apply(this,arguments)}function os(b,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:sendOobCode",mt(b,p))})).apply(this,arguments)}function fs(){return(fs=(0,d.A)(function*(b,p){return os(b,p)})).apply(this,arguments)}function Vi(b,p){return x.apply(this,arguments)}function x(){return(x=(0,d.A)(function*(b,p){return os(b,p)})).apply(this,arguments)}function A(b,p){return O.apply(this,arguments)}function O(){return(O=(0,d.A)(function*(b,p){return os(b,p)})).apply(this,arguments)}function z(){return(z=(0,d.A)(function*(b,p){return os(b,p)})).apply(this,arguments)}function dt(){return(dt=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signInWithEmailLink",mt(b,p))})).apply(this,arguments)}function rn(){return(rn=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signInWithEmailLink",mt(b,p))})).apply(this,arguments)}class en extends Do{constructor(p,_,S,ne=null){super("password",S),this._email=p,this._password=_,this._tenantId=ne}static _fromEmailAndPassword(p,_){return new en(p,_,"password")}static _fromEmailAndCode(p,_,S=null){return new en(p,_,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,d.A)(function*(){switch(_.signInMethod){case"password":return Jn(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ci);case"emailLink":return function ae(b,p){return dt.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:ue(p,"internal-error")}})()}_linkToIdToken(p,_){var S=this;return(0,d.A)(function*(){switch(S.signInMethod){case"password":return Jn(p,{idToken:_,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qi);case"emailLink":return function Qt(b,p){return rn.apply(this,arguments)}(p,{idToken:_,email:S._email,oobCode:S._password});default:ue(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function on(b,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signInWithIdp",mt(b,p))})).apply(this,arguments)}class Yn extends Do{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Yn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):ue("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:S,signInMethod:ne}=_,Ce=(0,J.Tt)(_,["providerId","signInMethod"]);if(!S||!ne)return null;const Ct=new Yn(S,ne);return Ct.idToken=Ce.idToken||void 0,Ct.accessToken=Ce.accessToken||void 0,Ct.secret=Ce.secret,Ct.nonce=Ce.nonce,Ct.pendingToken=Ce.pendingToken||null,Ct}_getIdTokenResponse(p){return on(p,this.buildRequest())}_linkToIdToken(p,_){const S=this.buildRequest();return S.idToken=_,on(p,S)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,on(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,B.Am)(_)}return p}}function ti(){return(ti=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:sendVerificationCode",mt(b,p))})).apply(this,arguments)}function li(){return(li=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signInWithPhoneNumber",mt(b,p))})).apply(this,arguments)}function ei(){return(ei=(0,d.A)(function*(b,p){const _=yield wt(b,"POST","/v1/accounts:signInWithPhoneNumber",mt(b,p));if(_.temporaryProof)throw jn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ss={USER_NOT_FOUND:"user-not-found"};function Gn(){return(Gn=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signInWithPhoneNumber",mt(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ss)})).apply(this,arguments)}class Yi extends Do{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Yi({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Yi({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Gi(b,p){return li.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Ri(b,p){return ei.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function mo(b,p){return Gn.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:S,verificationCode:ne}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:S,code:ne}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:S,phoneNumber:ne,temporaryProof:Ce}=p;return S||_||ne||Ce?new Yi({verificationId:_,verificationCode:S,phoneNumber:ne,temporaryProof:Ce}):null}}class Cs{constructor(p){var _,S,ne,Ce,Ct,Yt;const Cn=(0,B.I9)((0,B.hp)(p)),nr=null!==(_=Cn.apiKey)&&void 0!==_?_:null,cr=null!==(S=Cn.oobCode)&&void 0!==S?S:null,hi=function as(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=Cn.mode)&&void 0!==ne?ne:null);pe(nr&&cr&&hi,"argument-error"),this.apiKey=nr,this.operation=hi,this.code=cr,this.continueUrl=null!==(Ce=Cn.continueUrl)&&void 0!==Ce?Ce:null,this.languageCode=null!==(Ct=Cn.languageCode)&&void 0!==Ct?Ct:null,this.tenantId=null!==(Yt=Cn.tenantId)&&void 0!==Yt?Yt:null}static parseLink(p){const _=function ps(b){const p=(0,B.I9)((0,B.hp)(b)).link,_=p?(0,B.I9)((0,B.hp)(p)).deep_link_id:null,S=(0,B.I9)((0,B.hp)(b)).deep_link_id;return(S?(0,B.I9)((0,B.hp)(S)).link:null)||S||_||p||b}(p);try{return new Cs(_)}catch{return null}}}let wo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,S){return en._fromEmailAndPassword(_,S)}static credentialWithLink(_,S){const ne=Cs.parseLink(S);return pe(ne,"argument-error"),en._fromEmailAndCode(_,ne.code,ne.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class yo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ls extends yo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class gs extends ls{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return pe("providerId"in _&&"signInMethod"in _,"argument-error"),Yn._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return pe(p.idToken||p.accessToken,"argument-error"),Yn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return gs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return gs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:S,oauthTokenSecret:ne,pendingToken:Ce,nonce:Ct,providerId:Yt}=p;if(!S&&!ne&&!_&&!Ce||!Yt)return null;try{return new gs(Yt)._credential({idToken:_,accessToken:S,nonce:Ct,pendingToken:Ce})}catch{return null}}}let Hs=(()=>{class b extends ls{constructor(){super("facebook.com")}static credential(_){return Yn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),fl=(()=>{class b extends ls{constructor(){super("google.com"),this.addScope("profile")}static credential(_,S){return Yn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:S})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:S,oauthAccessToken:ne}=_;if(!S&&!ne)return null;try{return b.credential(S,ne)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Eo=(()=>{class b extends ls{constructor(){super("github.com")}static credential(_){return Yn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class gi extends Do{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return on(p,this.buildRequest())}_linkToIdToken(p,_){const S=this.buildRequest();return S.idToken=_,on(p,S)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,on(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:S,signInMethod:ne,pendingToken:Ce}=_;return S&&ne&&Ce&&S===ne?new gi(S,Ce):null}static _create(p,_){return new gi(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends yo{constructor(p){pe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return So.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return So.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=gi.fromJSON(p);return pe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:S}=p;if(!_||!S)return null;try{return gi._create(S,_)}catch{return null}}}let ra=(()=>{class b extends ls{constructor(){super("twitter.com")}static credential(_,S){return Yn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:S})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:S,oauthTokenSecret:ne}=_;if(!S||!ne)return null;try{return b.credential(S,ne)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function qr(b,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signUp",mt(b,p))})).apply(this,arguments)}class yi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,S,ne=!1){return(0,d.A)(function*(){const Ce=yield Ne._fromIdTokenResponse(p,S,ne),Ct=Vr(S);return new yi({user:Ce,providerId:Ct,_tokenResponse:S,operationType:_})})()}static _forOperation(p,_,S){return(0,d.A)(function*(){yield p._updateTokensIfNecessary(S,!0);const ne=Vr(S);return new yi({user:p,providerId:ne,_tokenResponse:S,operationType:_})})()}}function Vr(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function mi(b){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.A)(function*(b){var p;if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const _=Kn(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new yi({user:_.currentUser,providerId:null,operationType:"signIn"});const S=yield qr(_,{returnSecureToken:!0}),ne=yield yi._fromIdTokenResponse(_,"signIn",S,!0);return yield _._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class zs extends B.g{constructor(p,_,S,ne){var Ce;super(_.code,_.message),this.operationType=S,this.user=ne,Object.setPrototypeOf(this,zs.prototype),this.customData={appName:p.name,tenantId:null!==(Ce=p.tenantId)&&void 0!==Ce?Ce:void 0,_serverResponse:_.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(p,_,S,ne){return new zs(p,_,S,ne)}}function Cr(b,p,_,S){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(Ce=>{throw"auth/multi-factor-auth-required"===Ce.code?zs._fromErrorAndOperation(b,Ce,p,S):Ce})}function Vo(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Uo(b,p){return pl.apply(this,arguments)}function pl(){return pl=(0,d.A)(function*(b,p){const _=(0,B.Ku)(b);yield Go(!0,_,p);const{providerUserInfo:S}=yield function lr(b,p){return Hn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),ne=Vo(S||[]);return _.providerData=_.providerData.filter(Ce=>ne.has(Ce.providerId)),ne.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),pl.apply(this,arguments)}function Ya(b,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,d.A)(function*(b,p,_=!1){const S=yield Qn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return yi._forOperation(b,"link",S)})).apply(this,arguments)}function Go(b,p,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.A)(function*(b,p,_){yield si(p);const ne=!1===b?"provider-already-linked":"no-such-provider";pe(Vo(p.providerData).has(_)===b,p.auth,ne)})).apply(this,arguments)}function Pl(b,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.A)(function*(b,p,_=!1){const{auth:S}=b;if((0,h._isFirebaseServerApp)(S.app))return Promise.reject(Ke(S));const ne="reauthenticate";try{const Ce=yield Qn(b,Cr(S,ne,p,b),_);pe(Ce.idToken,S,"internal-error");const Ct=Vn(Ce.idToken);pe(Ct,S,"internal-error");const{sub:Yt}=Ct;return pe(b.uid===Yt,S,"user-mismatch"),yi._forOperation(b,ne,Ce)}catch(Ce){throw"auth/user-not-found"===(null==Ce?void 0:Ce.code)&&ue(S,"user-mismatch"),Ce}})).apply(this,arguments)}function Ja(b,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.A)(function*(b,p,_=!1){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const S="signIn",ne=yield Cr(b,S,p),Ce=yield yi._fromIdTokenResponse(b,S,ne);return _||(yield b._updateCurrentUser(Ce.user)),Ce})).apply(this,arguments)}function Q(b,p){return F.apply(this,arguments)}function F(){return(F=(0,d.A)(function*(b,p){return Ja(Kn(b),p)})).apply(this,arguments)}function le(b,p){return W.apply(this,arguments)}function W(){return(W=(0,d.A)(function*(b,p){const _=(0,B.Ku)(b);return yield Go(!1,_,p.providerId),Ya(_,p)})).apply(this,arguments)}function ge(b,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.A)(function*(b,p){return Pl((0,B.Ku)(b),p)})).apply(this,arguments)}function Li(){return(Li=(0,d.A)(function*(b,p){return wt(b,"POST","/v1/accounts:signInWithCustomToken",mt(b,p))})).apply(this,arguments)}function Ki(b,p){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,d.A)(function*(b,p){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const _=Kn(b),S=yield function yr(b,p){return Li.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),ne=yield yi._fromIdTokenResponse(_,"signIn",S);return yield _._updateCurrentUser(ne.user),ne}),Ui.apply(this,arguments)}class Pr{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Za._fromServerResponse(p,_):"totpInfo"in _?us._fromServerResponse(p,_):ue(p,"internal-error")}}class Za extends Pr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Za(_)}}class us extends Pr{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new us(_)}}function cs(b,p,_){var S;pe((null===(S=_.url)||void 0===S?void 0:S.length)>0,b,"invalid-continue-uri"),pe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(pe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(pe(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Gs(b){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.A)(function*(b){const p=Kn(b);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Ko(b,p,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.A)(function*(b,p,_){const S=Kn(b),ne={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&cs(S,ne,_),yield Jn(S,ne,"getOobCode",Vi)})).apply(this,arguments)}function xa(b,p,_){return ma.apply(this,arguments)}function ma(){return ma=(0,d.A)(function*(b,p,_){yield _i((0,B.Ku)(b),{oobCode:p,newPassword:_}).catch(function(){var S=(0,d.A)(function*(ne){throw"auth/password-does-not-meet-requirements"===ne.code&&Gs(b),ne});return function(ne){return S.apply(this,arguments)}}())}),ma.apply(this,arguments)}function ml(b,p){return va.apply(this,arguments)}function va(){return va=(0,d.A)(function*(b,p){yield function As(b,p){return zi.apply(this,arguments)}((0,B.Ku)(b),{oobCode:p})}),va.apply(this,arguments)}function br(b,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.A)(function*(b,p){const _=(0,B.Ku)(b),S=yield _i(_,{oobCode:p}),ne=S.requestType;switch(pe(ne,_,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(S.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(S.mfaInfo,_,"internal-error");default:pe(S.email,_,"internal-error")}let Ce=null;return S.mfaInfo&&(Ce=Pr._fromServerResponse(Kn(_),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:Ce},operation:ne}})).apply(this,arguments)}function oa(b,p){return el.apply(this,arguments)}function el(){return(el=(0,d.A)(function*(b,p){const{data:_}=yield br((0,B.Ku)(b),p);return _.email})).apply(this,arguments)}function iu(b,p,_){return wu.apply(this,arguments)}function wu(){return(wu=(0,d.A)(function*(b,p,_){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const S=Kn(b),Ct=yield Jn(S,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qr).catch(Cn=>{throw"auth/password-does-not-meet-requirements"===Cn.code&&Gs(b),Cn}),Yt=yield yi._fromIdTokenResponse(S,"signIn",Ct);return yield S._updateCurrentUser(Yt.user),Yt})).apply(this,arguments)}function Ns(b,p,_){return(0,h._isFirebaseServerApp)(b.app)?Promise.reject(Ke(b)):Q((0,B.Ku)(b),wo.credential(p,_)).catch(function(){var S=(0,d.A)(function*(ne){throw"auth/password-does-not-meet-requirements"===ne.code&&Gs(b),ne});return function(ne){return S.apply(this,arguments)}}())}function Dd(b,p,_){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.A)(function*(b,p,_){const S=Kn(b),ne={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function Ce(Ct,Yt){pe(Yt.handleCodeInApp,S,"argument-error"),Yt&&cs(S,Ct,Yt)})(ne,_),yield Jn(S,ne,"getOobCode",A)})).apply(this,arguments)}function Xo(b,p){const _=Cs.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function vl(b,p,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.A)(function*(b,p,_){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const S=(0,B.Ku)(b),ne=wo.credentialWithLink(p,_||Xt());return pe(ne._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Q(S,ne)})).apply(this,arguments)}function La(){return(La=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:createAuthUri",mt(b,p))})).apply(this,arguments)}function tl(b,p){return _l.apply(this,arguments)}function _l(){return _l=(0,d.A)(function*(b,p){const S={identifier:p,continueUri:En()?Xt():"http://localhost"},{signinMethods:ne}=yield function Ro(b,p){return La.apply(this,arguments)}((0,B.Ku)(b),S);return ne||[]}),_l.apply(this,arguments)}function Po(b,p){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,d.A)(function*(b,p){const _=(0,B.Ku)(b),ne={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&cs(_.auth,ne,p);const{email:Ce}=yield function Na(b,p){return fs.apply(this,arguments)}(_.auth,ne);Ce!==b.email&&(yield b.reload())}),Fr.apply(this,arguments)}function oc(b,p,_){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,d.A)(function*(b,p,_){const S=(0,B.Ku)(b),Ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&cs(S.auth,Ce,_);const{email:Ct}=yield function T(b,p){return z.apply(this,arguments)}(S.auth,Ce);Ct!==b.email&&(yield b.reload())}),Mr.apply(this,arguments)}function ou(){return(ou=(0,d.A)(function*(b,p){return yt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ds(b,p){return nl.apply(this,arguments)}function nl(){return nl=(0,d.A)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const S=(0,B.Ku)(b),Ce={idToken:yield S.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Ct=yield Qn(S,function bi(b,p){return ou.apply(this,arguments)}(S.auth,Ce));S.displayName=Ct.displayName||null,S.photoURL=Ct.photoUrl||null;const Yt=S.providerData.find(({providerId:Cn})=>"password"===Cn);Yt&&(Yt.displayName=S.displayName,Yt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Ct)}),nl.apply(this,arguments)}function sc(b,p){const _=(0,B.Ku)(b);return(0,h._isFirebaseServerApp)(_.auth.app)?Promise.reject(Ke(_.auth)):il(_,p,null)}function rl(b,p){return il((0,B.Ku)(b),null,p)}function il(b,p,_){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,d.A)(function*(b,p,_){const{auth:S}=b,Ce={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(Ce.email=p),_&&(Ce.password=_);const Ct=yield Qn(b,function is(b,p){return Ma.apply(this,arguments)}(S,Ce));yield b._updateTokensIfNecessary(Ct,!0)}),Kr.apply(this,arguments)}class sa{constructor(p,_,S={}){this.isNewUser=p,this.providerId=_,this.profile=S}}class Xi extends sa{constructor(p,_,S,ne){super(p,_,S),this.username=ne}}class su extends sa{constructor(p,_){super(p,"facebook.com",_)}}class yl extends Xi{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class w extends sa{constructor(p,_){super(p,"google.com",_)}}class q extends Xi{constructor(p,_,S){super(p,"twitter.com",_,S)}}function Le(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Os(b){var p,_;if(!b)return null;const{providerId:S}=b,ne=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},Ce=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!S&&null!=b&&b.idToken){const Ct=null===(_=null===(p=Vn(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ct)return new sa(Ce,"anonymous"!==Ct&&"custom"!==Ct?Ct:null)}if(!S)return null;switch(S){case"facebook.com":return new su(Ce,ne);case"github.com":return new yl(Ce,ne);case"google.com":return new w(Ce,ne);case"twitter.com":return new q(Ce,ne,b.screenName||null);case"custom":case"anonymous":return new sa(Ce,null);default:return new sa(Ce,S,ne)}}(_)}class qi{constructor(p,_,S){this.type=p,this.credential=_,this.user=S}static _fromIdtoken(p,_){return new qi("enroll",p,_)}static _fromMfaPendingCredential(p){return new qi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,S;if(null!=p&&p.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return qi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(S=p.multiFactorSession)&&void 0!==S&&S.idToken)return qi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class _s{constructor(p,_,S){this.session=p,this.hints=_,this.signInResolver=S}static _fromError(p,_){const S=Kn(p),ne=_.customData._serverResponse,Ce=(ne.mfaInfo||[]).map(Yt=>Pr._fromServerResponse(S,Yt));pe(ne.mfaPendingCredential,S,"internal-error");const Ct=qi._fromMfaPendingCredential(ne.mfaPendingCredential);return new _s(Ct,Ce,function(){var Yt=(0,d.A)(function*(Cn){const nr=yield Cn._process(S,Ct);delete ne.mfaInfo,delete ne.mfaPendingCredential;const cr=Object.assign(Object.assign({},ne),{idToken:nr.idToken,refreshToken:nr.refreshToken});switch(_.operationType){case"signIn":const hi=yield yi._fromIdTokenResponse(S,_.operationType,cr);return yield S._updateCurrentUser(hi.user),hi;case"reauthenticate":return pe(_.user,S,"internal-error"),yi._forOperation(_.user,_.operationType,cr);default:ue(S,"internal-error")}});return function(Cn){return Yt.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,d.A)(function*(){return _.signInResolver(p)})()}}function ys(b,p){var _;const S=(0,B.Ku)(b),ne=p;return pe(p.customData.operationType,S,"argument-error"),pe(null===(_=ne.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,S,"argument-error"),_s._fromError(S,ne)}class Ml{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(S=>Pr._fromServerResponse(p.auth,S)))})}static _fromUser(p){return new Ml(p)}getSession(){var p=this;return(0,d.A)(function*(){return qi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,_){var S=this;return(0,d.A)(function*(){const ne=p,Ce=yield S.getSession(),Ct=yield Qn(S.user,ne._process(S.user.auth,Ce,_));return yield S.user._updateTokensIfNecessary(Ct),S.user.reload()})()}unenroll(p){var _=this;return(0,d.A)(function*(){const S="string"==typeof p?p:p.uid,ne=yield _.user.getIdToken();try{const Ce=yield Qn(_.user,function Lc(b,p){return yt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",mt(b,p))}(_.user.auth,{idToken:ne,mfaEnrollmentId:S}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ct})=>Ct!==S),yield _.user._updateTokensIfNecessary(Ce),yield _.user.reload()}catch(Ce){throw Ce}})()}}const Io=new WeakMap;function ni(b){const p=(0,B.Ku)(b);return Io.has(p)||Io.set(p,Ml._fromUser(p)),Io.get(p)}const El="__sak";class Ss{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(El,"1"),this.storage.removeItem(El),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ol=(()=>{class b extends Ss{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,S)=>this.onStorageEvent(_,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const ne=this.storage.getItem(S),Ce=this.localCache[S];ne!==Ce&&_(S,Ce,ne)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((Yt,Cn,nr)=>{this.notifyListeners(Yt,nr)});const ne=_.key;S?this.detachListener():this.stopPolling();const Ce=()=>{const Yt=this.storage.getItem(ne);!S&&this.localCache[ne]===Yt||this.notifyListeners(ne,Yt)},Ct=this.storage.getItem(ne);!function Je(){return(0,B.lT)()&&10===document.documentMode}()||Ct===_.newValue||_.newValue===_.oldValue?Ce():setTimeout(Ce,10)}notifyListeners(_,S){this.localCache[_]=S;const ne=this.listeners[_];if(ne)for(const Ce of Array.from(ne))Ce(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var ne=()=>super._set,Ce=this;return(0,d.A)(function*(){yield ne().call(Ce,_,S),Ce.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,ne=this;return(0,d.A)(function*(){const Ce=yield S().call(ne,_);return ne.localCache[_]=JSON.stringify(Ce),Ce})()}_remove(_){var S=()=>super._remove,ne=this;return(0,d.A)(function*(){yield S().call(ne,_),delete ne.localCache[_]})()}}return b.type="LOCAL",b})(),Su=(()=>{class b extends Ss{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return b.type="SESSION",b})();let Nl=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(Ce=>Ce.isListeningto(_));if(S)return S;const ne=new b(_);return this.receivers.push(ne),ne}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,d.A)(function*(){const ne=_,{eventId:Ce,eventType:Ct,data:Yt}=ne.data,Cn=S.handlersMap[Ct];if(null==Cn||!Cn.size)return;ne.ports[0].postMessage({status:"ack",eventId:Ce,eventType:Ct});const nr=Array.from(Cn).map(function(){var hi=(0,d.A)(function*(ks){return ks(ne.origin,Yt)});return function(ks){return hi.apply(this,arguments)}}()),cr=yield function Es(b){return Promise.all(b.map(function(){var p=(0,d.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return p.apply(this,arguments)}}()))}(nr);ne.ports[0].postMessage({status:"done",eventId:Ce,eventType:Ct,response:cr})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function co(b="",p=10){let _="";for(let S=0;S<p;S++)_+=Math.floor(10*Math.random());return b+_}class Ol{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,S=50){var ne=this;return(0,d.A)(function*(){const Ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ce)throw new Error("connection_unavailable");let Ct,Yt;return new Promise((Cn,nr)=>{const cr=co("",20);Ce.port1.start();const hi=setTimeout(()=>{nr(new Error("unsupported_event"))},S);Yt={messageChannel:Ce,onMessage(ks){const ul=ks;if(ul.data.eventId===cr)switch(ul.data.status){case"ack":clearTimeout(hi),Ct=setTimeout(()=>{nr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ct),Cn(ul.data.response);break;default:clearTimeout(hi),clearTimeout(Ct),nr(new Error("invalid_response"))}}},ne.handlers.add(Yt),Ce.port1.addEventListener("message",Yt.onMessage),ne.target.postMessage({eventType:p,eventId:cr,data:_},[Ce.port2])}).finally(()=>{Yt&&ne.removeMessageHandler(Yt)})})()}}function ro(){return window}function xl(){return typeof ro().WorkerGlobalScope<"u"&&"function"==typeof ro().importScripts}function Di(){return(Di=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Il="firebaseLocalStorageDb",kl="firebaseLocalStorage",qs="fbase_key";class Yo{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function au(b,p){return b.transaction([kl],p?"readwrite":"readonly").objectStore(kl)}function ho(){const b=indexedDB.open(Il,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const S=b.result;try{S.createObjectStore(kl,{keyPath:qs})}catch(ne){_(ne)}}),b.addEventListener("success",(0,d.A)(function*(){const S=b.result;S.objectStoreNames.contains(kl)?p(S):(S.close(),yield function Vc(){const b=indexedDB.deleteDatabase(Il);return new Yo(b).toPromise()}(),p(yield ho()))}))})}function lu(b,p,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.A)(function*(b,p,_){const S=au(b,!0).put({[qs]:p,value:_});return new Yo(S).toPromise()})).apply(this,arguments)}function Ua(){return(Ua=(0,d.A)(function*(b,p){const _=au(b,!1).get(p),S=yield new Yo(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function xs(b,p){const _=au(b,!0).delete(p);return new Yo(_).toPromise()}const Qs=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.A)(function*(){return _.db||(_.db=yield ho()),_.db})()}_withRetries(_){var S=this;return(0,d.A)(function*(){let ne=0;for(;;)try{const Ce=yield S._openDb();return yield _(Ce)}catch(Ce){if(ne++>3)throw Ce;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.A)(function*(){return xl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.A)(function*(){_.receiver=Nl._getInstance(function Fc(){return xl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var S=(0,d.A)(function*(ne,Ce){return{keyProcessed:(yield _._poll()).includes(Ce.key)}});return function(ne,Ce){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,d.A)(function*(ne,Ce){return["keyChanged"]});return function(ne,Ce){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.A)(function*(){var S,ne;if(_.activeServiceWorker=yield function _a(){return Di.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ol(_.activeServiceWorker);const Ce=yield _.sender._send("ping",{},800);Ce&&null!==(S=Ce[0])&&void 0!==S&&S.fulfilled&&null!==(ne=Ce[0])&&void 0!==ne&&ne.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,d.A)(function*(){if(S.sender&&S.activeServiceWorker&&function la(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const _=yield ho();return yield lu(_,El,"1"),yield xs(_,El),!0}catch{}return!1})()}_withPendingWrite(_){var S=this;return(0,d.A)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var ne=this;return(0,d.A)(function*(){return ne._withPendingWrite((0,d.A)(function*(){return yield ne._withRetries(Ce=>lu(Ce,_,S)),ne.localCache[_]=S,ne.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,d.A)(function*(){const ne=yield S._withRetries(Ce=>function uc(b,p){return Ua.apply(this,arguments)}(Ce,_));return S.localCache[_]=ne,ne})()}_remove(_){var S=this;return(0,d.A)(function*(){return S._withPendingWrite((0,d.A)(function*(){return yield S._withRetries(ne=>xs(ne,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.A)(function*(){const S=yield _._withRetries(Ct=>{const Yt=au(Ct,!1).getAll();return new Yo(Yt).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const ne=[],Ce=new Set;if(0!==S.length)for(const{fbase_key:Ct,value:Yt}of S)Ce.add(Ct),JSON.stringify(_.localCache[Ct])!==JSON.stringify(Yt)&&(_.notifyListeners(Ct,Yt),ne.push(Ct));for(const Ct of Object.keys(_.localCache))_.localCache[Ct]&&!Ce.has(Ct)&&(_.notifyListeners(Ct,null),ne.push(Ct));return ne})()}notifyListeners(_,S){this.localCache[_]=S;const ne=this.listeners[_];if(ne)for(const Ce of Array.from(ne))Ce(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),R=1e12;class ${constructor(p){this.auth=p,this.counter=R,this._widgets=new Map}render(p,_){const S=this.counter;return this._widgets.set(S,new me(p,this.auth.name,_||{})),this.counter++,S}reset(p){var _;const S=p||R;null===(_=this._widgets.get(S))||void 0===_||_.delete(),this._widgets.delete(S)}getResponse(p){var _;return(null===(_=this._widgets.get(p||R))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,d.A)(function*(){var S;return null===(S=_._widgets.get(p||R))||void 0===S||S.execute(),""})()}}class me{constructor(p,_,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof p?document.getElementById(p):p;pe(ne,"argument-error",{appName:_}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ae(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<b;S++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nt=gt("rcb"),dn=new Me(3e4,6e4);class Vt{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ro().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return pe(function Wn(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&qt(ro().grecaptcha)?Promise.resolve(ro().grecaptcha):new Promise((S,ne)=>{const Ce=ro().setTimeout(()=>{ne(De(p,"network-request-failed"))},dn.get());ro()[Nt]=()=>{ro().clearTimeout(Ce),delete ro()[Nt];const Yt=ro().grecaptcha;if(!Yt||!qt(Yt))return void ne(De(p,"internal-error"));const Cn=Yt.render;Yt.render=(nr,cr)=>{const hi=Cn(nr,cr);return this.counter++,hi},this.hostLanguage=_,S(Yt)},Qe(`${function xe(){return ki.recaptchaV2Script}()}?${(0,B.Am)({onload:Nt,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(Ce),ne(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=ro().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nr{load(p){return(0,d.A)(function*(){return new $(p)})()}clearedOneInstance(){}}const Pi="recaptcha",zr={theme:"light",type:"image"};class Ji{constructor(p,_,S=Object.assign({},zr)){this.parameters=S,this.type=Pi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(p),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof _?document.getElementById(_):_;pe(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nr:new Vt,this.validateStartingState()}verify(){var p=this;return(0,d.A)(function*(){p.assertNotDestroyed();const _=yield p.render(),S=p.getAssertedRecaptcha();return S.getResponse(_)||new Promise(Ce=>{const Ct=Yt=>{Yt&&(p.tokenChangeListeners.delete(Ct),Ce(Yt))};p.tokenChangeListeners.add(Ct),p.isInvisible&&S.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(S=>S(_)),"function"==typeof p)p(_);else if("string"==typeof p){const S=ro()[p];"function"==typeof S&&S(_)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.A)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const S=document.createElement("div");_.appendChild(S),_=S}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.A)(function*(){pe(En()&&!xl(),p.auth,"internal-error"),yield function Ir(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ln(b){return $e.apply(this,arguments)}(p.auth);pe(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oi{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Yi._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function fo(b,p,_){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.A)(function*(b,p,_){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const S=Kn(b),ne=yield Ba(S,p,(0,B.Ku)(_));return new Oi(ne,Ce=>Q(S,Ce))})).apply(this,arguments)}function eo(b,p,_){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.A)(function*(b,p,_){const S=(0,B.Ku)(b);yield Go(!1,S,"phone");const ne=yield Ba(S.auth,p,(0,B.Ku)(_));return new Oi(ne,Ce=>le(S,Ce))})).apply(this,arguments)}function Pu(b,p,_){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,d.A)(function*(b,p,_){const S=(0,B.Ku)(b);if((0,h._isFirebaseServerApp)(S.auth.app))return Promise.reject(Ke(S.auth));const ne=yield Ba(S.auth,p,(0,B.Ku)(_));return new Oi(ne,Ce=>ge(S,Ce))})).apply(this,arguments)}function Ba(b,p,_){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,d.A)(function*(b,p,_){var S;const ne=yield _.verify();try{let Ce;if(pe("string"==typeof ne,b,"argument-error"),pe(_.type===Pi,b,"argument-error"),Ce="string"==typeof p?{phoneNumber:p}:p,"session"in Ce){const Ct=Ce.session;if("phoneNumber"in Ce)return pe("enroll"===Ct.type,b,"internal-error"),(yield function ws(b,p){return yt(b,"POST","/v2/accounts/mfaEnrollment:start",mt(b,p))}(b,{idToken:Ct.credential,phoneEnrollmentInfo:{phoneNumber:Ce.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{pe("signin"===Ct.type,b,"internal-error");const Yt=(null===(S=Ce.multiFactorHint)||void 0===S?void 0:S.uid)||Ce.multiFactorUid;return pe(Yt,b,"missing-multi-factor-info"),(yield function Bc(b,p){return yt(b,"POST","/v2/accounts/mfaSignIn:start",mt(b,p))}(b,{mfaPendingCredential:Ct.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ct}=yield function or(b,p){return ti.apply(this,arguments)}(b,{phoneNumber:Ce.phoneNumber,recaptchaToken:ne});return Ct}}finally{_._reset()}}),Vl.apply(this,arguments)}function sl(b,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.A)(function*(b,p){const _=(0,B.Ku)(b);if((0,h._isFirebaseServerApp)(_.auth.app))return Promise.reject(Ke(_.auth));yield Ya(_,p)})).apply(this,arguments)}let Mu=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Kn(_)}verifyPhoneNumber(_,S){return Ba(this.auth,_,(0,B.Ku)(S))}static credential(_,S){return Yi._fromVerification(_,S)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:S,temporaryProof:ne}=_;return S&&ne?Yi._fromTokenResponse(S,ne):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Bl(b,p){return p?Wt(p):(pe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class uu extends Do{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return on(p,this._buildIdpRequest())}_linkToIdToken(p,_){return on(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return on(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function vh(b){return Ja(b.auth,new uu(b),b.bypassAuthState)}function jc(b){const{auth:p,user:_}=b;return pe(_,p,"internal-error"),Pl(_,new uu(b),b.bypassAuthState)}function Tf(b){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.A)(function*(b){const{auth:p,user:_}=b;return pe(_,p,"internal-error"),Ya(_,new uu(b),b.bypassAuthState)})).apply(this,arguments)}class $l{constructor(p,_,S,ne,Ce=!1){this.auth=p,this.resolver=S,this.user=ne,this.bypassAuthState=Ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,d.A)(function*(S,ne){p.pendingPromise={resolve:S,reject:ne};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Ce){p.reject(Ce)}});return function(S,ne){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,d.A)(function*(){const{urlResponse:S,sessionId:ne,postBody:Ce,tenantId:Ct,error:Yt,type:Cn}=p;if(Yt)return void _.reject(Yt);const nr={auth:_.auth,requestUri:S,sessionId:ne,tenantId:Ct||void 0,postBody:Ce||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Cn)(nr))}catch(cr){_.reject(cr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return vh;case"linkViaPopup":case"linkViaRedirect":return Tf;case"reauthViaPopup":case"reauthViaRedirect":return jc;default:ue(this.auth,"internal-error")}}resolve(p){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hc=new Me(2e3,1e4);function al(b,p,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,d.A)(function*(b,p,_){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(De(b,"operation-not-supported-in-this-environment"));const S=Kn(b);nt(b,p,yo);const ne=Bl(S,_);return new fc(S,"signInViaPopup",p,ne).executeNotNull()})).apply(this,arguments)}function zc(b,p,_){return $a.apply(this,arguments)}function $a(){return($a=(0,d.A)(function*(b,p,_){const S=(0,B.Ku)(b);if((0,h._isFirebaseServerApp)(S.auth.app))return Promise.reject(De(S.auth,"operation-not-supported-in-this-environment"));nt(S.auth,p,yo);const ne=Bl(S.auth,_);return new fc(S.auth,"reauthViaPopup",p,ne,S).executeNotNull()})).apply(this,arguments)}function Gc(b,p,_){return hc.apply(this,arguments)}function hc(){return(hc=(0,d.A)(function*(b,p,_){const S=(0,B.Ku)(b);nt(S.auth,p,yo);const ne=Bl(S.auth,_);return new fc(S.auth,"linkViaPopup",p,ne,S).executeNotNull()})).apply(this,arguments)}let fc=(()=>{class b extends $l{constructor(_,S,ne,Ce,Ct){super(_,S,Ce,Ct),this.provider=ne,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.A)(function*(){const S=yield _.execute();return pe(S,_.auth,"internal-error"),S})()}onExecution(){var _=this;return(0,d.A)(function*(){Ot(1===_.filter.length,"Popup operations only handle one event");const S=co();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],S),_.authWindow.associatedEvent=S,_.resolver._originValidation(_.auth).catch(ne=>{_.reject(ne)}),_.resolver._isIframeWebStorageSupported(_.auth,ne=>{ne||_.reject(De(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var S,ne;this.pollId=null!==(ne=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Hc.get())};_()}}return b.currentPopupAction=null,b})();const ja="pendingRedirect",Al=new Map;class Nu extends $l{constructor(p,_,S=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,d.A)(function*(){let S=Al.get(_.auth._key());if(!S){try{const Ce=(yield function Ou(b,p){return Tl.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;S=()=>Promise.resolve(Ce)}catch(ne){S=()=>Promise.reject(ne)}Al.set(_.auth._key(),S)}return _.bypassAuthState||Al.set(_.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,S=this;return(0,d.A)(function*(){if("signInViaRedirect"===p.type)return _().call(S,p);if("unknown"!==p.type){if(p.eventId){const ne=yield S.auth._redirectUserForId(p.eventId);if(ne)return S.user=ne,_().call(S,p);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Tl(){return(Tl=(0,d.A)(function*(b,p){const _=pc(p),S=Rd(b);if(!(yield S._isAvailable()))return!1;const ne="true"===(yield S._get(_));return yield S._remove(_),ne})).apply(this,arguments)}function Wc(b,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.A)(function*(b,p){return Rd(b)._set(pc(p),"true")})).apply(this,arguments)}function Sd(){Al.clear()}function Cf(b,p){Al.set(b._key(),p)}function Rd(b){return Wt(b._redirectPersistence)}function pc(b){return Tr(ja,b.config.apiKey,b.name)}function bf(b,p,_){return function Pd(b,p,_){return xu.apply(this,arguments)}(b,p,_)}function xu(){return(xu=(0,d.A)(function*(b,p,_){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const S=Kn(b);nt(b,p,yo),yield S._initializationPromise;const ne=Bl(S,_);return yield Wc(ne,S),ne._openRedirect(S,p,"signInViaRedirect")})).apply(this,arguments)}function du(b,p,_){return function Md(b,p,_){return Nd.apply(this,arguments)}(b,p,_)}function Nd(){return(Nd=(0,d.A)(function*(b,p,_){const S=(0,B.Ku)(b);if(nt(S.auth,p,yo),(0,h._isFirebaseServerApp)(S.auth.app))return Promise.reject(Ke(S.auth));yield S.auth._initializationPromise;const ne=Bl(S.auth,_);yield Wc(ne,S.auth);const Ce=yield _h(S);return ne._openRedirect(S.auth,p,"reauthViaRedirect",Ce)})).apply(this,arguments)}function No(b,p,_){return function Kc(b,p,_){return gc.apply(this,arguments)}(b,p,_)}function gc(){return(gc=(0,d.A)(function*(b,p,_){const S=(0,B.Ku)(b);nt(S.auth,p,yo),yield S.auth._initializationPromise;const ne=Bl(S.auth,_);yield Go(!1,S,p.providerId),yield Wc(ne,S.auth);const Ce=yield _h(S);return ne._openRedirect(S.auth,p,"linkViaRedirect",Ce)})).apply(this,arguments)}function mc(b,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,d.A)(function*(b,p){return yield Kn(b)._initializationPromise,ku(b,p,!1)})).apply(this,arguments)}function ku(b,p){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.A)(function*(b,p,_=!1){if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(Ke(b));const S=Kn(b),ne=Bl(S,p),Ct=yield new Nu(S,ne,_).execute();return Ct&&!_&&(delete Ct.user._redirectEventId,yield S._persistUserIfCurrent(Ct.user),yield S._setRedirectUser(null,p)),Ct})).apply(this,arguments)}function _h(b){return Od.apply(this,arguments)}function Od(){return(Od=(0,d.A)(function*(b){const p=co(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class vc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(p,S)&&(_=!0,this.sendToConsumer(p,S),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function $n(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return io(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var S;if(p.error&&!io(p)){const ne=(null===(S=p.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(De(this.auth,ne))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const S=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&S}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jl(p))}saveEventToCache(p){this.cachedEventUids.add(jl(p)),this.lastProcessedEventTime=Date.now()}}function jl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function io({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===(null==p?void 0:p.code)}function pr(b){return so.apply(this,arguments)}function so(){return(so=(0,d.A)(function*(b,p={}){return yt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const za=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,po=/^https?/;function Ys(){return(Ys=(0,d.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield pr(b);for(const _ of p)try{if(ao(_))return}catch{}ue(b,"unauthorized-domain")})).apply(this,arguments)}function ao(b){const p=Xt(),{protocol:_,hostname:S}=new URL(p);if(b.startsWith("chrome-extension://")){const Ct=new URL(b);return""===Ct.hostname&&""===S?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Ct.hostname===S}if(!po.test(_))return!1;if(za.test(b))return S===b;const ne=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(S)}const lo=new Me(3e4,6e4);function Ea(){const b=ro().___jsl;if(null!=b&&b.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Bi=null;const pu=new Me(5e3,15e3),Ao="__/auth/iframe",ll="emulator/auth/iframe",gu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lu(b){const p=b.config;pe(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?ie(p,ll):`https://${b.config.authDomain}/${Ao}`,S={apiKey:p.apiKey,appName:b.name,v:h.SDK_VERSION},ne=Cl.get(b.config.apiHost);ne&&(S.eid=ne);const Ce=b._getFrameworks();return Ce.length&&(S.fw=Ce.join(",")),`${_}?${(0,B.Am)(S).slice(1)}`}function Ga(){return Ga=(0,d.A)(function*(b){const p=yield function xd(b){return Bi=Bi||function Br(b){return new Promise((p,_)=>{var S,ne,Ce;function Ct(){Ea(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ea(),_(De(b,"network-request-failed"))},timeout:lo.get()})}if(null!==(ne=null===(S=ro().gapi)||void 0===S?void 0:S.iframes)&&void 0!==ne&&ne.Iframe)p(gapi.iframes.getContext());else{if(null===(Ce=ro().gapi)||void 0===Ce||!Ce.load){const Yt=gt("iframefcb");return ro()[Yt]=()=>{gapi.load?Ct():_(De(b,"network-request-failed"))},Qe(`${function Rt(){return ki.gapiScript}()}?onload=${Yt}`).catch(Cn=>_(Cn))}Ct()}}).catch(p=>{throw Bi=null,p})}(b),Bi}(b),_=ro().gapi;return pe(_,b,"internal-error"),p.open({where:document.body,url:Lu(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gu,dontclear:!0},S=>new Promise(function(){var ne=(0,d.A)(function*(Ce,Ct){yield S.restyle({setHideOnLeave:!1});const Yt=De(b,"network-request-failed"),Cn=ro().setTimeout(()=>{Ct(Yt)},pu.get());function nr(){ro().clearTimeout(Cn),Ce(S)}S.ping(nr).then(nr,()=>{Ct(Yt)})});return function(Ce,Ct){return ne.apply(this,arguments)}}()))}),Ga.apply(this,arguments)}const Wa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Aa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ho="__/auth/handler",Vu="emulator/auth/handler",Mi=encodeURIComponent("fac");function hs(b,p,_,S,ne,Ce){return yc.apply(this,arguments)}function yc(){return(yc=(0,d.A)(function*(b,p,_,S,ne,Ce){pe(b.config.authDomain,b,"auth-domain-config-required"),pe(b.config.apiKey,b,"invalid-api-key");const Ct={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:S,v:h.SDK_VERSION,eventId:ne};if(p instanceof yo){p.setDefaultLanguage(b.languageCode),Ct.providerId=p.providerId||"",(0,B.Im)(p.getCustomParameters())||(Ct.customParameters=JSON.stringify(p.getCustomParameters()));for(const[cr,hi]of Object.entries(Ce||{}))Ct[cr]=hi}if(p instanceof ls){const cr=p.getScopes().filter(hi=>""!==hi);cr.length>0&&(Ct.scopes=cr.join(","))}b.tenantId&&(Ct.tid=b.tenantId);const Yt=Ct;for(const cr of Object.keys(Yt))void 0===Yt[cr]&&delete Yt[cr];const Cn=yield b._getAppCheckToken(),nr=Cn?`#${Mi}=${encodeURIComponent(Cn)}`:"";return`${function mu({config:b}){return b.emulator?ie(b,Vu):`https://${b.authDomain}/${Ho}`}(b)}?${(0,B.Am)(Yt).slice(1)}${nr}`})).apply(this,arguments)}const Uu="webStorageSupport",Bu=class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Su,this._completeRedirectFn=ku,this._overrideRedirectResult=Cf}_openPopup(p,_,S,ne){var Ce=this;return(0,d.A)(function*(){var Ct;Ot(null===(Ct=Ce.eventManagers[p._key()])||void 0===Ct?void 0:Ct.manager,"_initialize() not called before _openPopup()");const Yt=yield hs(p,_,S,Xt(),ne);return function Xc(b,p,_,S=500,ne=600){const Ce=Math.max((window.screen.availHeight-ne)/2,0).toString(),Ct=Math.max((window.screen.availWidth-S)/2,0).toString();let Yt="";const Cn=Object.assign(Object.assign({},Wa),{width:S.toString(),height:ne.toString(),top:Ce,left:Ct}),nr=(0,B.ZQ)().toLowerCase();_&&(Yt=ji(nr)?"_blank":_),xn(nr)&&(p=p||"http://localhost",Cn.scrollbars="yes");const cr=Object.entries(Cn).reduce((ks,[ul,zu])=>`${ks}${ul}=${zu},`,"");if(function _o(b=(0,B.ZQ)()){var p;return bo(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nr)&&"_self"!==Yt)return function Fu(b,p){const _=document.createElement("a");_.href=b,_.target=p;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(p||"",Yt),new Aa(null);const hi=window.open(p||"",Yt,cr);pe(hi,b,"popup-blocked");try{hi.focus()}catch{}return new Aa(hi)}(p,Yt,co())})()}_openRedirect(p,_,S,ne){var Ce=this;return(0,d.A)(function*(){return yield Ce._originValidation(p),function mh(b){ro().location.href=b}(yield hs(p,_,S,Xt(),ne)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:ne,promise:Ce}=this.eventManagers[_];return ne?Promise.resolve(ne):(Ot(Ce,"If manager is not set, promise should be"),Ce)}const S=this.initAndGetManager(p);return this.eventManagers[_]={promise:S},S.catch(()=>{delete this.eventManagers[_]}),S}initAndGetManager(p){var _=this;return(0,d.A)(function*(){const S=yield function yh(b){return Ga.apply(this,arguments)}(p),ne=new vc(p);return S.register("authEvent",Ce=>(pe(null==Ce?void 0:Ce.authEvent,p,"invalid-auth-event"),{status:ne.onEvent(Ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:ne},_.iframes[p._key()]=S,ne})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Uu,{type:Uu},ne=>{var Ce;const Ct=null===(Ce=null==ne?void 0:ne[0])||void 0===Ce?void 0:Ce[Uu];void 0!==Ct&&_(!!Ct),ue(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function jo(b){return Ys.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Te()||Wr()||bo()}};class $u{constructor(p){this.factorId=p}_process(p,_,S){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,S);case"signin":return this._finalizeSignIn(p,_.credential);default:return rt("unexpected MultiFactorSessionType")}}}class ju extends $u{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ju(p)}_finalizeEnroll(p,_,S){return function Ks(b,p){return yt(b,"POST","/v2/accounts/mfaEnrollment:finalize",mt(b,p))}(p,{idToken:_,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function $c(b,p){return yt(b,"POST","/v2/accounts/mfaSignIn:finalize",mt(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kd=(()=>{class b{constructor(){}static assertion(_){return ju._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var qc="@firebase/auth";class Ih{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,d.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(S=>{p((null==S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.XA)("authIdTokenMaxAge"),function Ie(b){ki=b}({loadJS:b=>new Promise((p,_)=>{const S=document.createElement("script");S.setAttribute("src",b),S.onload=p,S.onerror=ne=>{const Ce=De("internal-error");Ce.customData=ne,_(Ce)},S.type="text/javascript",S.charset="UTF-8",function Tc(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Df(b){(0,h._registerComponent)(new ye.uA("auth",(p,{options:_})=>{const S=p.getProvider("app").getImmediate(),ne=p.getProvider("heartbeat"),Ce=p.getProvider("app-check-internal"),{apiKey:Ct,authDomain:Yt}=S.options;pe(Ct&&!Ct.includes(":"),"invalid-api-key",{appName:S.name});const Cn={apiKey:Ct,authDomain:Yt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Et(b)},nr=new wn(S,ne,Ce,Cn);return function jr(b,p){const _=(null==p?void 0:p.persistence)||[],S=(Array.isArray(_)?_:[_]).map(Wt);null!=p&&p.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(S,null==p?void 0:p.popupRedirectResolver)}(nr,_),nr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,S)=>{p.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new ye.uA("auth-internal",p=>{const _=Kn(p.getProvider("auth").getImmediate());return new Ih(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(qc,"1.7.9",function jp(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,h.registerVersion)(qc,"1.7.9","esm2017")}("Browser")},1401:(Mn,It,k)=>{"use strict";k.d(It,{Am:()=>lr,Bd:()=>rt,FA:()=>Ft,Fy:()=>Ke,I9:()=>Hn,Im:()=>$e,Ku:()=>We,Ll:()=>pe,T9:()=>ue,Uj:()=>Ve,XA:()=>De,ZQ:()=>nt,bD:()=>Lt,c1:()=>Xt,cY:()=>Re,eX:()=>Ge,g:()=>at,gR:()=>rr,hp:()=>zt,jZ:()=>Ze,lT:()=>ft,lV:()=>tn,mS:()=>Xe,nr:()=>oe,p7:()=>Ot,sr:()=>En,tD:()=>ur,u:()=>we,zW:()=>he,zw:()=>Fe});const Ee=function(X){const K=[];let ee=0;for(let Ne=0;Ne<X.length;Ne++){let He=X.charCodeAt(Ne);He<128?K[ee++]=He:He<2048?(K[ee++]=He>>6|192,K[ee++]=63&He|128):55296==(64512&He)&&Ne+1<X.length&&56320==(64512&X.charCodeAt(Ne+1))?(He=65536+((1023&He)<<10)+(1023&X.charCodeAt(++Ne)),K[ee++]=He>>18|240,K[ee++]=He>>12&63|128,K[ee++]=He>>6&63|128,K[ee++]=63&He|128):(K[ee++]=He>>12|224,K[ee++]=He>>6&63|128,K[ee++]=63&He|128)}return K},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,K){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ne=[];for(let He=0;He<X.length;He+=3){const Wt=X[He],In=He+1<X.length,Xn=In?X[He+1]:0,Tr=He+2<X.length,ht=Tr?X[He+2]:0;let Wr=(15&Xn)<<2|ht>>6,ji=63&ht;Tr||(ji=64,In||(Wr=64)),Ne.push(ee[Wt>>2],ee[(3&Wt)<<4|Xn>>4],ee[Wr],ee[ji])}return Ne.join("")},encodeString(X,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(X):this.encodeByteArray(Ee(X),K)},decodeString(X,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(X):function(X){const K=[];let ee=0,Ne=0;for(;ee<X.length;){const He=X[ee++];if(He<128)K[Ne++]=String.fromCharCode(He);else if(He>191&&He<224){const Wt=X[ee++];K[Ne++]=String.fromCharCode((31&He)<<6|63&Wt)}else if(He>239&&He<365){const Tr=((7&He)<<18|(63&X[ee++])<<12|(63&X[ee++])<<6|63&X[ee++])-65536;K[Ne++]=String.fromCharCode(55296+(Tr>>10)),K[Ne++]=String.fromCharCode(56320+(1023&Tr))}else{const Wt=X[ee++],In=X[ee++];K[Ne++]=String.fromCharCode((15&He)<<12|(63&Wt)<<6|63&In)}}return K.join("")}(this.decodeStringToByteArray(X,K))},decodeStringToByteArray(X,K){this.init_();const ee=K?this.charToByteMapWebSafe_:this.charToByteMap_,Ne=[];for(let He=0;He<X.length;){const Wt=ee[X.charAt(He++)],Xn=He<X.length?ee[X.charAt(He)]:0;++He;const ht=He<X.length?ee[X.charAt(He)]:64;++He;const xn=He<X.length?ee[X.charAt(He)]:64;if(++He,null==Wt||null==Xn||null==ht||null==xn)throw new Se;Ne.push(Wt<<2|Xn>>4),64!==ht&&(Ne.push(Xn<<4&240|ht>>2),64!==xn&&Ne.push(ht<<6&192|xn))}return Ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(X){return function(X){const K=Ee(X);return ye.encodeByteArray(K,!0)}(X).replace(/\./g,"")},we=function(X){try{return ye.decodeString(X,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function Fe(X,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return K}for(const ee in K)!K.hasOwnProperty(ee)||!Ye(ee)||(X[ee]=Fe(X[ee],K[ee]));return X}function Ye(X){return"__proto__"!==X}function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tt=()=>{try{return Xe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=X&&we(X[1]);return K&&JSON.parse(K)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},ue=()=>{var X;return null===(X=tt())||void 0===X?void 0:X.config},De=X=>{var K;return null===(K=tt())||void 0===K?void 0:K[`_${X}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,ee)=>{this.resolve=K,this.reject=ee})}wrapCallback(K){return(ee,Ne)=>{ee?this.reject(ee):this.resolve(Ne),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(ee):K(ee,Ne))}}}function Ke(X,K){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ne=K||"demo-project",He=X.iat||0,Wt=X.sub||X.user_id;if(!Wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const In=Object.assign({iss:`https://securetoken.google.com/${Ne}`,aud:Ne,iat:He,exp:He+3600,auth_time:He,sub:Wt,user_id:Wt,firebase:{sign_in_provider:"custom",identities:{}}},X);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(In)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function pe(){var X;const K=null===(X=tt())||void 0===X?void 0:X.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rt(){return typeof window<"u"||Ot()}function Ot(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Xt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function En(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const X=nt();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function oe(){return!pe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((X,K)=>{try{let ee=!0;const Ne="validate-browser-context-for-indexeddb-analytics-module",He=self.indexedDB.open(Ne);He.onsuccess=()=>{He.result.close(),ee||self.indexedDB.deleteDatabase(Ne),X(!0)},He.onupgradeneeded=()=>{ee=!1},He.onerror=()=>{var Wt;K((null===(Wt=He.error)||void 0===Wt?void 0:Wt.message)||"")}}catch(ee){K(ee)}})}class at extends Error{constructor(K,ee,Ne){super(ee),this.code=K,this.customData=Ne,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor(K,ee,Ne){this.service=K,this.serviceName=ee,this.errors=Ne}create(K,...ee){const Ne=ee[0]||{},He=`${this.service}/${K}`,Wt=this.errors[K],In=Wt?function Pt(X,K){return X.replace(wt,(ee,Ne)=>{const He=K[Ne];return null!=He?String(He):`<${Ne}?>`})}(Wt,Ne):"Error";return new at(He,`${this.serviceName}: ${In} (${He}).`,Ne)}}const wt=/\{\$([^}]+)}/g;function rr(X,K){return Object.prototype.hasOwnProperty.call(X,K)}function $e(X){for(const K in X)if(Object.prototype.hasOwnProperty.call(X,K))return!1;return!0}function Lt(X,K){if(X===K)return!0;const ee=Object.keys(X),Ne=Object.keys(K);for(const He of ee){if(!Ne.includes(He))return!1;const Wt=X[He],In=K[He];if(yn(Wt)&&yn(In)){if(!Lt(Wt,In))return!1}else if(Wt!==In)return!1}for(const He of Ne)if(!ee.includes(He))return!1;return!0}function yn(X){return null!==X&&"object"==typeof X}function lr(X){const K=[];for(const[ee,Ne]of Object.entries(X))Array.isArray(Ne)?Ne.forEach(He=>{K.push(encodeURIComponent(ee)+"="+encodeURIComponent(He))}):K.push(encodeURIComponent(ee)+"="+encodeURIComponent(Ne));return K.length?"&"+K.join("&"):""}function Hn(X){const K={};return X.replace(/^\?/,"").split("&").forEach(Ne=>{if(Ne){const[He,Wt]=Ne.split("=");K[decodeURIComponent(He)]=decodeURIComponent(Wt)}}),K}function zt(X){const K=X.indexOf("?");if(!K)return"";const ee=X.indexOf("#",K);return X.substring(K,ee>0?ee:void 0)}function ur(X,K){const ee=new mr(X,K);return ee.subscribe.bind(ee)}class mr{constructor(K,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{K(this)}).catch(Ne=>{this.error(Ne)})}next(K){this.forEachObserver(ee=>{ee.next(K)})}error(K){this.forEachObserver(ee=>{ee.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,ee,Ne){let He;if(void 0===K&&void 0===ee&&void 0===Ne)throw new Error("Missing Observer.");He=function Lr(X,K){if("object"!=typeof X||null===X)return!1;for(const ee of K)if(ee in X&&"function"==typeof X[ee])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:ee,complete:Ne},void 0===He.next&&(He.next=Ni),void 0===He.error&&(He.error=Ni),void 0===He.complete&&(He.complete=Ni);const Wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?He.error(this.finalError):He.complete()}catch{}}),this.observers.push(He),Wt}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,K)}sendOne(K,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{ee(this.observers[K])}catch(Ne){typeof console<"u"&&console.error&&console.error(Ne)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ni(){}function We(X){return X&&X._delegate?X._delegate:X}},4442:(Mn,It,k)=>{"use strict";k.d(It,{L:()=>J,a:()=>ye,b:()=>Se,c:()=>Oe,d:()=>Ve,g:()=>ft}),k(5531);const J="ionViewWillEnter",ye="ionViewDidEnter",Se="ionViewWillLeave",Oe="ionViewDidLeave",Ve="ionViewWillUnload",ft=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},5531:(Mn,It,k)=>{"use strict";k.d(It,{a:()=>we,c:()=>h,g:()=>Ve});class d{constructor(){this.m=new Map}reset(Me){this.m=new Map(Object.entries(Me))}get(Me,ie){const oe=this.m.get(Me);return void 0!==oe?oe:ie}getBoolean(Me,ie=!1){const oe=this.m.get(Me);return void 0===oe?ie:"string"==typeof oe?"true"===oe:!!oe}getNumber(Me,ie){const oe=parseFloat(this.m.get(Me));return isNaN(oe)?void 0!==ie?ie:NaN:oe}set(Me,ie){this.m.set(Me,ie)}}const h=new d,Ve=ft=>se(ft),we=(ft,Me)=>("string"==typeof ft&&(Me=ft,ft=void 0),Ve(ft).includes(Me)),se=(ft=window)=>{if(typeof ft>"u")return[];ft.Ionic=ft.Ionic||{};let Me=ft.Ionic.platforms;return null==Me&&(Me=ft.Ionic.platforms=Fe(ft),Me.forEach(ie=>ft.document.documentElement.classList.add(`plt-${ie}`))),Me},Fe=ft=>{const Me=h.get("platform");return Object.keys(Xt).filter(ie=>{const oe=null==Me?void 0:Me[ie];return"function"==typeof oe?oe(ft):Xt[ie](ft)})},Xe=ft=>!!(rt(ft,/iPad/i)||rt(ft,/Macintosh/i)&&ue(ft)),ct=ft=>rt(ft,/android|sink/i),ue=ft=>Ot(ft,"(any-pointer:coarse)"),Re=ft=>Ke(ft)||nt(ft),Ke=ft=>!!(ft.cordova||ft.phonegap||ft.PhoneGap),nt=ft=>{const Me=ft.Capacitor;return!(null==Me||!Me.isNative)},rt=(ft,Me)=>Me.test(ft.navigator.userAgent),Ot=(ft,Me)=>{var ie;return null===(ie=ft.matchMedia)||void 0===ie?void 0:ie.call(ft,Me).matches},Xt={ipad:Xe,iphone:ft=>rt(ft,/iPhone/i),ios:ft=>rt(ft,/iPhone|iPod/i)||Xe(ft),android:ct,phablet:ft=>{const Me=ft.innerWidth,ie=ft.innerHeight,oe=Math.min(Me,ie),he=Math.max(Me,ie);return oe>390&&oe<520&&he>620&&he<800},tablet:ft=>{const Me=ft.innerWidth,ie=ft.innerHeight,oe=Math.min(Me,ie),he=Math.max(Me,ie);return Xe(ft)||(ft=>ct(ft)&&!rt(ft,/mobile/i))(ft)||oe>460&&oe<820&&he>780&&he<1400},cordova:Ke,capacitor:nt,electron:ft=>rt(ft,/electron/i),pwa:ft=>{var Me;return!!(null!==(Me=ft.matchMedia)&&void 0!==Me&&Me.call(ft,"(display-mode: standalone)").matches||ft.navigator.standalone)},mobile:ue,mobileweb:ft=>ue(ft)&&!Re(ft),desktop:ft=>!ue(ft),hybrid:Re}},9986:(Mn,It,k)=>{"use strict";k.d(It,{c:()=>ye});var d=k(8476);let h;const Ee=(Se,Oe,Ve)=>{const we=Oe.startsWith("animation")?(Se=>(void 0===h&&(h=void 0===Se.style.animationName&&void 0!==Se.style.webkitAnimationName?"-webkit-":""),h))(Se):"";Se.style.setProperty(we+Oe,Ve)},J=(Se=[],Oe)=>{if(void 0!==Oe){const Ve=Array.isArray(Oe)?Oe:[Oe];return[...Se,...Ve]}return Se},ye=Se=>{let Oe,Ve,we,se,Fe,Ye,tt,Ze,pe,rt,tn,Xe=[],ot=[],ut=[],ct=!1,Dt={},vt=[],ue=[],De={},Re=0,Ke=!1,nt=!1,Ot=!0,Xt=!1,En=!0,cn=!1;const ft=Se,Me=[],ie=[],oe=[],he=[],Ge=[],mt=[],yt=[],at=[],Ft=[],Pt=[],wt=[],Nn="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,St="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Nn,kn=()=>wt,rr=(de,ze)=>{const Bt=ze.findIndex(mn=>mn.c===de);Bt>-1&&ze.splice(Bt,1)},$e=(de,ze)=>((null!=ze&&ze.oneTimeCallback?ie:Me).push({c:de,o:ze}),tn),Lt=()=>{St&&(wt.forEach(de=>{de.cancel()}),wt.length=0)},yn=()=>{mt.forEach(de=>{null!=de&&de.parentNode&&de.parentNode.removeChild(de)}),mt.length=0},Qn=()=>void 0!==Fe?Fe:tt?tt.getFill():"both",Zn=()=>void 0!==Ze?Ze:void 0!==Ye?Ye:tt?tt.getDirection():"normal",zn=()=>Ke?"linear":void 0!==we?we:tt?tt.getEasing():"linear",Ai=()=>nt?0:void 0!==pe?pe:void 0!==Ve?Ve:tt?tt.getDuration():0,tr=()=>void 0!==se?se:tt?tt.getIterations():1,si=()=>void 0!==rt?rt:void 0!==Oe?Oe:tt?tt.getDelay():0,In=()=>{0!==Re&&(Re--,0===Re&&((()=>{Ft.forEach(wn=>wn()),Pt.forEach(wn=>wn());const de=Ot?1:0,ze=vt,Bt=ue,mn=De;he.forEach(wn=>{const Kn=wn.classList;ze.forEach(Sr=>Kn.add(Sr)),Bt.forEach(Sr=>Kn.remove(Sr));for(const Sr in mn)mn.hasOwnProperty(Sr)&&Ee(wn,Sr,mn[Sr])}),pe=void 0,Ze=void 0,rt=void 0,Me.forEach(wn=>wn.c(de,tn)),ie.forEach(wn=>wn.c(de,tn)),ie.length=0,En=!0,Ot&&(Xt=!0),Ot=!0})(),tt&&tt.animationFinish()))},Tr=()=>{(()=>{yt.forEach(mn=>mn()),at.forEach(mn=>mn());const de=ot,ze=ut,Bt=Dt;he.forEach(mn=>{const wn=mn.classList;de.forEach(Kn=>wn.add(Kn)),ze.forEach(Kn=>wn.remove(Kn));for(const Kn in Bt)Bt.hasOwnProperty(Kn)&&Ee(mn,Kn,Bt[Kn])})})(),Xe.length>0&&St&&(he.forEach(de=>{const ze=de.animate(Xe,{id:ft,delay:si(),duration:Ai(),easing:zn(),iterations:tr(),fill:Qn(),direction:Zn()});ze.pause(),wt.push(ze)}),wt.length>0&&(wt[0].onfinish=()=>{In()})),ct=!0},ht=de=>{de=Math.min(Math.max(de,0),.9999),St&&wt.forEach(ze=>{ze.currentTime=ze.effect.getComputedTiming().delay+Ai()*de,ze.pause()})},fr=de=>{wt.forEach(ze=>{ze.effect.updateTiming({delay:si(),duration:Ai(),easing:zn(),iterations:tr(),fill:Qn(),direction:Zn()})}),void 0!==de&&ht(de)},xn=(de=!1,ze=!0,Bt)=>(de&&Ge.forEach(mn=>{mn.update(de,ze,Bt)}),St&&fr(Bt),tn),Ti=()=>{ct&&(St?wt.forEach(de=>{de.pause()}):he.forEach(de=>{Ee(de,"animation-play-state","paused")}),cn=!0)},_o=de=>new Promise(ze=>{null!=de&&de.sync&&(nt=!0,$e(()=>nt=!1,{oneTimeCallback:!0})),ct||Tr(),Xt&&(St&&(ht(0),fr()),Xt=!1),En&&(Re=Ge.length+1,En=!1);const Bt=()=>{rr(mn,ie),ze()},mn=()=>{rr(Bt,oe),ze()};$e(mn,{oneTimeCallback:!0}),(de=>{oe.push({c:de,o:{oneTimeCallback:!0}})})(Bt),Ge.forEach(wn=>{wn.play()}),St?(wt.forEach(de=>{de.play()}),(0===Xe.length||0===he.length)&&In()):In(),cn=!1}),Te=(de,ze)=>{const Bt=Xe[0];return void 0===Bt||void 0!==Bt.offset&&0!==Bt.offset?Xe=[{offset:0,[de]:ze},...Xe]:Bt[de]=ze,tn};return tn={parentAnimation:tt,elements:he,childAnimations:Ge,id:ft,animationFinish:In,from:Te,to:(de,ze)=>{const Bt=Xe[Xe.length-1];return void 0===Bt||void 0!==Bt.offset&&1!==Bt.offset?Xe=[...Xe,{offset:1,[de]:ze}]:Bt[de]=ze,tn},fromTo:(de,ze,Bt)=>Te(de,ze).to(de,Bt),parent:de=>(tt=de,tn),play:_o,pause:()=>(Ge.forEach(de=>{de.pause()}),Ti(),tn),stop:()=>{Ge.forEach(de=>{de.stop()}),ct&&(Lt(),ct=!1),Ke=!1,nt=!1,En=!0,Ze=void 0,pe=void 0,rt=void 0,Re=0,Xt=!1,Ot=!0,cn=!1,oe.forEach(de=>de.c(0,tn)),oe.length=0},destroy:de=>(Ge.forEach(ze=>{ze.destroy(de)}),(de=>{Lt(),de&&yn()})(de),he.length=0,Ge.length=0,Xe.length=0,Me.length=0,ie.length=0,ct=!1,En=!0,tn),keyframes:de=>{const ze=Xe!==de;return Xe=de,ze&&(de=>{St&&kn().forEach(ze=>{const Bt=ze.effect;if(Bt.setKeyframes)Bt.setKeyframes(de);else{const mn=new KeyframeEffect(Bt.target,de,Bt.getTiming());ze.effect=mn}})})(Xe),tn},addAnimation:de=>{if(null!=de)if(Array.isArray(de))for(const ze of de)ze.parent(tn),Ge.push(ze);else de.parent(tn),Ge.push(de);return tn},addElement:de=>{if(null!=de)if(1===de.nodeType)he.push(de);else if(de.length>=0)for(let ze=0;ze<de.length;ze++)he.push(de[ze]);else console.error("Invalid addElement value");return tn},update:xn,fill:de=>(Fe=de,xn(!0),tn),direction:de=>(Ye=de,xn(!0),tn),iterations:de=>(se=de,xn(!0),tn),duration:de=>(!St&&0===de&&(de=1),Ve=de,xn(!0),tn),easing:de=>(we=de,xn(!0),tn),delay:de=>(Oe=de,xn(!0),tn),getWebAnimations:kn,getKeyframes:()=>Xe,getFill:Qn,getDirection:Zn,getDelay:si,getIterations:tr,getEasing:zn,getDuration:Ai,afterAddRead:de=>(Ft.push(de),tn),afterAddWrite:de=>(Pt.push(de),tn),afterClearStyles:(de=[])=>{for(const ze of de)De[ze]="";return tn},afterStyles:(de={})=>(De=de,tn),afterRemoveClass:de=>(ue=J(ue,de),tn),afterAddClass:de=>(vt=J(vt,de),tn),beforeAddRead:de=>(yt.push(de),tn),beforeAddWrite:de=>(at.push(de),tn),beforeClearStyles:(de=[])=>{for(const ze of de)Dt[ze]="";return tn},beforeStyles:(de={})=>(Dt=de,tn),beforeRemoveClass:de=>(ut=J(ut,de),tn),beforeAddClass:de=>(ot=J(ot,de),tn),onFinish:$e,isRunning:()=>0!==Re&&!cn,progressStart:(de=!1,ze)=>(Ge.forEach(Bt=>{Bt.progressStart(de,ze)}),Ti(),Ke=de,ct||Tr(),xn(!1,!0,ze),tn),progressStep:de=>(Ge.forEach(ze=>{ze.progressStep(de)}),ht(de),tn),progressEnd:(de,ze,Bt)=>(Ke=!1,Ge.forEach(mn=>{mn.progressEnd(de,ze,Bt)}),void 0!==Bt&&(pe=Bt),Xt=!1,Ot=!0,0===de?(Ze="reverse"===Zn()?"normal":"reverse","reverse"===Ze&&(Ot=!1),St?(xn(),ht(1-ze)):(rt=(1-ze)*Ai()*-1,xn(!1,!1))):1===de&&(St?(xn(),ht(ze)):(rt=ze*Ai()*-1,xn(!1,!1))),void 0!==de&&!tt&&_o(),tn)}}},464:(Mn,It,k)=>{"use strict";k.d(It,{E:()=>we,a:()=>d,s:()=>Oe});const d=se=>{try{if(se instanceof Se)return se.value;if(!Ee()||"string"!=typeof se||""===se)return se;if(se.includes("onload="))return"";const Fe=document.createDocumentFragment(),Ye=document.createElement("div");Fe.appendChild(Ye),Ye.innerHTML=se,ye.forEach(ct=>{const tt=Fe.querySelectorAll(ct);for(let Dt=tt.length-1;Dt>=0;Dt--){const vt=tt[Dt];vt.parentNode?vt.parentNode.removeChild(vt):Fe.removeChild(vt);const ue=B(vt);for(let De=0;De<ue.length;De++)h(ue[De])}});const Xe=B(Fe);for(let ct=0;ct<Xe.length;ct++)h(Xe[ct]);const ot=document.createElement("div");ot.appendChild(Fe);const ut=ot.querySelector("div");return null!==ut?ut.innerHTML:ot.innerHTML}catch(Fe){return console.error(Fe),""}},h=se=>{if(se.nodeType&&1!==se.nodeType)return;if(typeof NamedNodeMap<"u"&&!(se.attributes instanceof NamedNodeMap))return void se.remove();for(let Ye=se.attributes.length-1;Ye>=0;Ye--){const Xe=se.attributes.item(Ye),ot=Xe.name;if(!J.includes(ot.toLowerCase())){se.removeAttribute(ot);continue}const ut=Xe.value,ct=se[ot];(null!=ut&&ut.toLowerCase().includes("javascript:")||null!=ct&&ct.toLowerCase().includes("javascript:"))&&se.removeAttribute(ot)}const Fe=B(se);for(let Ye=0;Ye<Fe.length;Ye++)h(Fe[Ye])},B=se=>null!=se.children?se.children:se.childNodes,Ee=()=>{var se;const Fe=window,Ye=null===(se=null==Fe?void 0:Fe.Ionic)||void 0===se?void 0:se.config;return!Ye||(Ye.get?Ye.get("sanitizerEnabled",!0):!0===Ye.sanitizerEnabled||void 0===Ye.sanitizerEnabled)},J=["class","id","href","src","name","slot"],ye=["script","style","iframe","meta","link","object","embed"];class Se{constructor(Fe){this.value=Fe}}const Oe=se=>{const Fe=window,Ye=Fe.Ionic;if(!Ye||!Ye.config||"Object"===Ye.config.constructor.name)return Fe.Ionic=Fe.Ionic||{},Fe.Ionic.config=Object.assign(Object.assign({},Fe.Ionic.config),se),Fe.Ionic.config},we=!1},8621:(Mn,It,k)=>{"use strict";k.d(It,{C:()=>J,a:()=>B,d:()=>Ee});var d=k(467),h=k(4920);const B=function(){var ye=(0,d.A)(function*(Se,Oe,Ve,we,se,Fe){var Ye;if(Se)return Se.attachViewToDom(Oe,Ve,se,we);if(!(Fe||"string"==typeof Ve||Ve instanceof HTMLElement))throw new Error("framework delegate is missing");const Xe="string"==typeof Ve?null===(Ye=Oe.ownerDocument)||void 0===Ye?void 0:Ye.createElement(Ve):Ve;return we&&we.forEach(ot=>Xe.classList.add(ot)),se&&Object.assign(Xe,se),Oe.appendChild(Xe),yield new Promise(ot=>(0,h.c)(Xe,ot)),Xe});return function(Oe,Ve,we,se,Fe,Ye){return ye.apply(this,arguments)}}(),Ee=(ye,Se)=>{if(Se){if(ye)return ye.removeViewFromDom(Se.parentElement,Se);Se.remove()}return Promise.resolve()},J=()=>{let ye,Se;return{attachViewToDom:function(){var we=(0,d.A)(function*(se,Fe,Ye={},Xe=[]){var ot,ut;let ct;if(ye=se,Fe){const Dt="string"==typeof Fe?null===(ot=ye.ownerDocument)||void 0===ot?void 0:ot.createElement(Fe):Fe;Xe.forEach(vt=>Dt.classList.add(vt)),Object.assign(Dt,Ye),ye.appendChild(Dt),ct=Dt,yield new Promise(vt=>(0,h.c)(Dt,vt))}else if(ye.children.length>0&&("ION-MODAL"===ye.tagName||"ION-POPOVER"===ye.tagName)&&!(ct=ye.children[0]).classList.contains("ion-delegate-host")){const vt=null===(ut=ye.ownerDocument)||void 0===ut?void 0:ut.createElement("div");vt.classList.add("ion-delegate-host"),Xe.forEach(ue=>vt.classList.add(ue)),vt.append(...ye.children),ye.appendChild(vt),ct=vt}const tt=document.querySelector("ion-app")||document.body;return Se=document.createComment("ionic teleport"),ye.parentNode.insertBefore(Se,ye),tt.appendChild(ye),null!=ct?ct:ye});return function(Fe,Ye){return we.apply(this,arguments)}}(),removeViewFromDom:()=>(ye&&Se&&(Se.parentNode.insertBefore(ye,Se),Se.remove()),Promise.resolve())}}},1970:(Mn,It,k)=>{"use strict";k.d(It,{B:()=>Ee,G:()=>J});class h{constructor(Se,Oe,Ve,we,se){this.id=Oe,this.name=Ve,this.disableScroll=se,this.priority=1e6*we+Oe,this.ctrl=Se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Se=this.ctrl.capture(this.name,this.id,this.priority);return Se&&this.disableScroll&&this.ctrl.disableScroll(this.id),Se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(Se,Oe,Ve,we){this.id=Oe,this.disable=Ve,this.disableScroll=we,this.ctrl=Se}block(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.disableGesture(Se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.enableGesture(Se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ee="backdrop-no-scroll",J=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Se){var Oe;return new h(this,this.newID(),Se.name,null!==(Oe=Se.priority)&&void 0!==Oe?Oe:0,!!Se.disableScroll)}createBlocker(Se={}){return new B(this,this.newID(),Se.disable,!!Se.disableScroll)}start(Se,Oe,Ve){return this.canStart(Se)?(this.requestedStart.set(Oe,Ve),!0):(this.requestedStart.delete(Oe),!1)}capture(Se,Oe,Ve){if(!this.start(Se,Oe,Ve))return!1;const we=this.requestedStart;let se=-1e4;if(we.forEach(Fe=>{se=Math.max(se,Fe)}),se===Ve){this.capturedId=Oe,we.clear();const Fe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Se}});return document.dispatchEvent(Fe),!0}return we.delete(Oe),!1}release(Se){this.requestedStart.delete(Se),this.capturedId===Se&&(this.capturedId=void 0)}disableGesture(Se,Oe){let Ve=this.disabledGestures.get(Se);void 0===Ve&&(Ve=new Set,this.disabledGestures.set(Se,Ve)),Ve.add(Oe)}enableGesture(Se,Oe){const Ve=this.disabledGestures.get(Se);void 0!==Ve&&Ve.delete(Oe)}disableScroll(Se){this.disabledScroll.add(Se),1===this.disabledScroll.size&&document.body.classList.add(Ee)}enableScroll(Se){this.disabledScroll.delete(Se),0===this.disabledScroll.size&&document.body.classList.remove(Ee)}canStart(Se){return!(void 0!==this.capturedId||this.isDisabled(Se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Se){const Oe=this.disabledGestures.get(Se);return!!(Oe&&Oe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Mn,It,k)=>{"use strict";k.r(It),k.d(It,{MENU_BACK_BUTTON_PRIORITY:()=>Ve,OVERLAY_BACK_BUTTON_PRIORITY:()=>Oe,blockHardwareBackButton:()=>ye,shouldUseCloseWatcher:()=>J,startHardwareBackButton:()=>Se});var d=k(467),h=k(8476),B=k(9483);k(4261);const J=()=>B.c.get("experimentalCloseWatcher",!1)&&void 0!==h.w&&"CloseWatcher"in h.w,ye=()=>{document.addEventListener("backbutton",()=>{})},Se=()=>{const we=document;let se=!1;const Fe=()=>{if(se)return;let Ye=0,Xe=[];const ot=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(tt,Dt){Xe.push({priority:tt,handler:Dt,id:Ye++})}}});we.dispatchEvent(ot);const ut=function(){var tt=(0,d.A)(function*(Dt){try{if(null!=Dt&&Dt.handler){const vt=Dt.handler(ct);null!=vt&&(yield vt)}}catch(vt){console.error(vt)}});return function(vt){return tt.apply(this,arguments)}}(),ct=()=>{if(Xe.length>0){let tt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Xe.forEach(Dt=>{Dt.priority>=tt.priority&&(tt=Dt)}),se=!0,Xe=Xe.filter(Dt=>Dt.id!==tt.id),ut(tt).then(()=>se=!1)}};ct()};if(J()){let Ye;const Xe=()=>{null==Ye||Ye.destroy(),Ye=new h.w.CloseWatcher,Ye.onclose=()=>{Fe(),Xe()}};Xe()}else we.addEventListener("backbutton",Fe)},Oe=100,Ve=99},4920:(Mn,It,k)=>{"use strict";k.d(It,{a:()=>Oe,b:()=>Ve,c:()=>B,d:()=>Xe,e:()=>Dt,f:()=>Ye,g:()=>we,h:()=>J,i:()=>Se,j:()=>ot,k:()=>Ee,l:()=>Fe,m:()=>ut,n:()=>tt,o:()=>vt,p:()=>ct,r:()=>se,s:()=>ue,t:()=>d});const d=(De,Re=0)=>new Promise(Ke=>{h(De,Re,Ke)}),h=(De,Re=0,Ke)=>{let nt,Ze;const pe={passive:!0},Ot=()=>{nt&&nt()},Xt=En=>{(void 0===En||De===En.target)&&(Ot(),Ke(En))};return De&&(De.addEventListener("webkitTransitionEnd",Xt,pe),De.addEventListener("transitionend",Xt,pe),Ze=setTimeout(Xt,Re+500),nt=()=>{void 0!==Ze&&(clearTimeout(Ze),Ze=void 0),De.removeEventListener("webkitTransitionEnd",Xt,pe),De.removeEventListener("transitionend",Xt,pe)}),Ot},B=(De,Re)=>{De.componentOnReady?De.componentOnReady().then(Ke=>Re(Ke)):se(()=>Re(De))},Ee=De=>void 0!==De.componentOnReady,J=(De,Re=[])=>{const Ke={};return Re.forEach(nt=>{De.hasAttribute(nt)&&(null!==De.getAttribute(nt)&&(Ke[nt]=De.getAttribute(nt)),De.removeAttribute(nt))}),Ke},ye=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Se=(De,Re)=>{let Ke=ye;return Re&&Re.length>0&&(Ke=Ke.filter(nt=>!Re.includes(nt))),J(De,Ke)},Oe=(De,Re,Ke,nt)=>{var Ze;if(typeof window<"u"){const pe=window,rt=null===(Ze=null==pe?void 0:pe.Ionic)||void 0===Ze?void 0:Ze.config;if(rt){const Ot=rt.get("_ael");if(Ot)return Ot(De,Re,Ke,nt);if(rt._ael)return rt._ael(De,Re,Ke,nt)}}return De.addEventListener(Re,Ke,nt)},Ve=(De,Re,Ke,nt)=>{var Ze;if(typeof window<"u"){const pe=window,rt=null===(Ze=null==pe?void 0:pe.Ionic)||void 0===Ze?void 0:Ze.config;if(rt){const Ot=rt.get("_rel");if(Ot)return Ot(De,Re,Ke,nt);if(rt._rel)return rt._rel(De,Re,Ke,nt)}}return De.removeEventListener(Re,Ke,nt)},we=(De,Re=De)=>De.shadowRoot||Re,se=De=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(De):"function"==typeof requestAnimationFrame?requestAnimationFrame(De):setTimeout(De),Fe=De=>!!De.shadowRoot&&!!De.attachShadow,Ye=De=>{if(De.focus(),De.classList.contains("ion-focusable")){const Re=De.closest("ion-app");Re&&Re.setFocus([De])}},Xe=(De,Re,Ke,nt,Ze)=>{if(De||Fe(Re)){let pe=Re.querySelector("input.aux-input");pe||(pe=Re.ownerDocument.createElement("input"),pe.type="hidden",pe.classList.add("aux-input"),Re.appendChild(pe)),pe.disabled=Ze,pe.name=Ke,pe.value=nt||""}},ot=(De,Re,Ke)=>Math.max(De,Math.min(Re,Ke)),ut=(De,Re)=>{if(!De){const Ke="ASSERT: "+Re;throw console.error(Ke),new Error(Ke)}},ct=De=>{if(De){const Re=De.changedTouches;if(Re&&Re.length>0){const Ke=Re[0];return{x:Ke.clientX,y:Ke.clientY}}if(void 0!==De.pageX)return{x:De.pageX,y:De.pageY}}return{x:0,y:0}},tt=De=>{const Re="rtl"===document.dir;switch(De){case"start":return Re;case"end":return!Re;default:throw new Error(`"${De}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Dt=(De,Re)=>{const Ke=De._original||De;return{_original:De,emit:vt(Ke.emit.bind(Ke),Re)}},vt=(De,Re=0)=>{let Ke;return(...nt)=>{clearTimeout(Ke),Ke=setTimeout(De,Re,...nt)}},ue=(De,Re)=>{if(null!=De||(De={}),null!=Re||(Re={}),De===Re)return!0;const Ke=Object.keys(De);if(Ke.length!==Object.keys(Re).length)return!1;for(const nt of Ke)if(!(nt in Re)||De[nt]!==Re[nt])return!1;return!0}},1702:(Mn,It,k)=>{"use strict";k.d(It,{m:()=>Ye});var d=k(467),h=k(8476),B=k(7192),Ee=k(4929),J=k(4920),ye=k(9483),Se=k(9986);const Oe=Xe=>(0,Se.c)().duration(Xe?400:300),Ve=Xe=>{let ot,ut;const ct=Xe.width+8,tt=(0,Se.c)(),Dt=(0,Se.c)();Xe.isEndSide?(ot=ct+"px",ut="0px"):(ot=-ct+"px",ut="0px"),tt.addElement(Xe.menuInnerEl).fromTo("transform",`translateX(${ot})`,`translateX(${ut})`);const ue="ios"===(0,ye.b)(Xe),De=ue?.2:.25;return Dt.addElement(Xe.backdropEl).fromTo("opacity",.01,De),Oe(ue).addAnimation([tt,Dt])},we=Xe=>{let ot,ut;const ct=(0,ye.b)(Xe),tt=Xe.width;Xe.isEndSide?(ot=-tt+"px",ut=tt+"px"):(ot=tt+"px",ut=-tt+"px");const Dt=(0,Se.c)().addElement(Xe.menuInnerEl).fromTo("transform",`translateX(${ut})`,"translateX(0px)"),vt=(0,Se.c)().addElement(Xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ot})`),ue=(0,Se.c)().addElement(Xe.backdropEl).fromTo("opacity",.01,.32);return Oe("ios"===ct).addAnimation([Dt,vt,ue])},se=Xe=>{const ot=(0,ye.b)(Xe),ut=Xe.width*(Xe.isEndSide?-1:1)+"px",ct=(0,Se.c)().addElement(Xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ut})`);return Oe("ios"===ot).addAnimation(ct)},Ye=(()=>{const Xe=new Map,ot=[],ut=function(){var oe=(0,d.A)(function*(he){const Ge=yield Re(he,!0);return!!Ge&&Ge.open()});return function(Ge){return oe.apply(this,arguments)}}(),ct=function(){var oe=(0,d.A)(function*(he){const Ge=yield void 0!==he?Re(he,!0):Ke();return void 0!==Ge&&Ge.close()});return function(Ge){return oe.apply(this,arguments)}}(),tt=function(){var oe=(0,d.A)(function*(he){const Ge=yield Re(he,!0);return!!Ge&&Ge.toggle()});return function(Ge){return oe.apply(this,arguments)}}(),Dt=function(){var oe=(0,d.A)(function*(he,Ge){const mt=yield Re(Ge);return mt&&(mt.disabled=!he),mt});return function(Ge,mt){return oe.apply(this,arguments)}}(),vt=function(){var oe=(0,d.A)(function*(he,Ge){const mt=yield Re(Ge);return mt&&(mt.swipeGesture=he),mt});return function(Ge,mt){return oe.apply(this,arguments)}}(),ue=function(){var oe=(0,d.A)(function*(he){if(null!=he){const Ge=yield Re(he);return void 0!==Ge&&Ge.isOpen()}return void 0!==(yield Ke())});return function(Ge){return oe.apply(this,arguments)}}(),De=function(){var oe=(0,d.A)(function*(he){const Ge=yield Re(he);return!!Ge&&!Ge.disabled});return function(Ge){return oe.apply(this,arguments)}}(),Re=function(){var oe=(0,d.A)(function*(he,Ge=!1){if(yield ie(),"start"===he||"end"===he){const yt=ot.filter(Ft=>Ft.side===he&&!Ft.disabled);if(yt.length>=1)return yt.length>1&&Ge&&(0,Ee.p)(`menuController queried for a menu on the "${he}" side, but ${yt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,yt.map(Ft=>Ft.el)),yt[0].el;const at=ot.filter(Ft=>Ft.side===he);if(at.length>=1)return at.length>1&&Ge&&(0,Ee.p)(`menuController queried for a menu on the "${he}" side, but ${at.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,at.map(Ft=>Ft.el)),at[0].el}else if(null!=he)return Me(yt=>yt.menuId===he);return Me(yt=>!yt.disabled)||(ot.length>0?ot[0].el:void 0)});return function(Ge){return oe.apply(this,arguments)}}(),Ke=function(){var oe=(0,d.A)(function*(){return yield ie(),tn()});return function(){return oe.apply(this,arguments)}}(),nt=function(){var oe=(0,d.A)(function*(){return yield ie(),cn()});return function(){return oe.apply(this,arguments)}}(),Ze=function(){var oe=(0,d.A)(function*(){return yield ie(),ft()});return function(){return oe.apply(this,arguments)}}(),pe=(oe,he)=>{Xe.set(oe,he)},Xt=function(){var oe=(0,d.A)(function*(he,Ge,mt,yt){if(ft())return!1;if(Ge){const at=yield Ke();at&&he.el!==at&&(yield at.setOpen(!1,!1))}return he._setOpen(Ge,mt,yt)});return function(Ge,mt,yt,at){return oe.apply(this,arguments)}}(),tn=()=>Me(oe=>oe._isOpen),cn=()=>ot.map(oe=>oe.el),ft=()=>ot.some(oe=>oe.isAnimating),Me=oe=>{const he=ot.find(oe);if(void 0!==he)return he.el},ie=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(oe=>new Promise(he=>(0,J.c)(oe,he))));return pe("reveal",se),pe("push",we),pe("overlay",Ve),null==h.d||h.d.addEventListener("ionBackButton",oe=>{const he=tn();he&&oe.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>he.close())}),{registerAnimation:pe,get:Re,getMenus:nt,getOpen:Ke,isEnabled:De,swipeGesture:vt,isAnimating:Ze,isOpen:ue,enable:Dt,toggle:tt,close:ct,open:ut,_getOpenSync:tn,_createAnimation:(oe,he)=>{const Ge=Xe.get(oe);if(!Ge)throw new Error("animation not registered");return Ge(he)},_register:oe=>{ot.indexOf(oe)<0&&ot.push(oe)},_unregister:oe=>{const he=ot.indexOf(oe);he>-1&&ot.splice(he,1)},_setOpen:Xt}})()},4261:(Mn,It,k)=>{"use strict";k.d(It,{B:()=>ye,a:()=>En,b:()=>os,c:()=>Qn,d:()=>tr,e:()=>Ft,f:()=>zt,g:()=>Zn,h:()=>lr,i:()=>Ai,j:()=>gt,k:()=>wt,r:()=>Ve,w:()=>Pt});var d=k(467);var Ee=Object.defineProperty,ye={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Se=new WeakMap,Oe=A=>Se.get(A),Ve=(A,O)=>Se.set(O.$lazyInstance$=A,O),se=(A,O)=>O in A,Fe=(A,O)=>(0,console.error)(A,O),Ye=new Map,ot=new Map,ut=[],ue="s-id",nt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ze="http://www.w3.org/1999/xlink",pe=typeof window<"u"?window:{},rt=pe.document||{head:{}},Xt={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,O,T,z)=>A.addEventListener(O,T,z),rel:(A,O,T,z)=>A.removeEventListener(O,T,z),ce:(A,O)=>new CustomEvent(A,O)},En=A=>{Object.assign(Xt,A)},cn=(()=>{let A=!1;try{rt.addEventListener("e",null,Object.defineProperty({},"passive",{get(){A=!0}}))}catch{}return A})(),Me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ie=!1,oe=[],he=[],Ge=(A,O)=>T=>{A.push(T),ie||(ie=!0,O&&4&Xt.$flags$?at(yt):Xt.raf(yt))},mt=A=>{for(let O=0;O<A.length;O++)try{A[O](performance.now())}catch(T){Fe(T)}A.length=0},yt=()=>{mt(oe),mt(he),(ie=oe.length>0)&&Xt.raf(yt)},at=A=>Promise.resolve(void 0).then(A),Ft=Ge(oe,!1),Pt=Ge(he,!0),wt=A=>{const O=new URL(A,Xt.$resourcesUrl$);return O.origin!==pe.location.origin?O.href:O.pathname},Nn={},jn=A=>"object"==(A=typeof A)||"function"===A;function qt(A){var O,T,z;return null!=(z=null==(T=null==(O=A.head)?void 0:O.querySelector('meta[name="csp-nonce"]'))?void 0:T.getAttribute("content"))?z:void 0}((A,O)=>{for(var T in O)Ee(A,T,{get:O[T],enumerable:!0})})({},{err:()=>ln,map:()=>$e,ok:()=>rr,unwrap:()=>Ue,unwrapErr:()=>Lt});var rr=A=>({isOk:!0,isErr:!1,value:A}),ln=A=>({isOk:!1,isErr:!0,value:A});function $e(A,O){if(A.isOk){const T=O(A.value);return T instanceof Promise?T.then(z=>rr(z)):rr(T)}if(A.isErr)return ln(A.value);throw"should never get here"}var Ue=A=>{if(A.isOk)return A.value;throw A.value},Lt=A=>{if(A.isErr)return A.value;throw A.value},lr=(A,O,...T)=>{let z=null,ae=null,dt=null,Qt=!1,rn=!1;const en=[],on=Rn=>{for(let Yn=0;Yn<Rn.length;Yn++)z=Rn[Yn],Array.isArray(z)?on(z):null!=z&&"boolean"!=typeof z&&((Qt="function"!=typeof A&&!jn(z))&&(z=String(z)),Qt&&rn?en[en.length-1].$text$+=z:en.push(Qt?Hn(null,z):z),rn=Qt)};if(on(T),O){O.key&&(ae=O.key),O.name&&(dt=O.name);{const Rn=O.className||O.class;Rn&&(O.class="object"!=typeof Rn?Rn:Object.keys(Rn).filter(Yn=>Rn[Yn]).join(" "))}}if("function"==typeof A)return A(null===O?{}:O,en,ur);const Fn=Hn(A,null);return Fn.$attrs$=O,en.length>0&&(Fn.$children$=en),Fn.$key$=ae,Fn.$name$=dt,Fn},Hn=(A,O)=>({$flags$:0,$tag$:A,$text$:O,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),zt={},ur={forEach:(A,O)=>A.map(mr).forEach(O),map:(A,O)=>A.map(mr).map(O).map(vr)},mr=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),vr=A=>{if("function"==typeof A.vtag){const T={...A.vattrs};return A.vkey&&(T.key=A.vkey),A.vname&&(T.name=A.vname),lr(A.vtag,T,...A.vchildren||[])}const O=Hn(A.vtag,A.vtext);return O.$attrs$=A.vattrs,O.$children$=A.vchildren,O.$key$=A.vkey,O.$name$=A.vname,O},Ni=(A,O,T,z,ae,dt,Qt)=>{let rn,en,on,Fn;if(1===dt.nodeType){if(rn=dt.getAttribute("c-id"),rn&&(en=rn.split("."),(en[0]===Qt||"0"===en[0])&&(on={$flags$:0,$hostId$:en[0],$nodeId$:en[1],$depth$:en[2],$index$:en[3],$tag$:dt.tagName.toLowerCase(),$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},O.push(on),dt.removeAttribute("c-id"),A.$children$||(A.$children$=[]),A.$children$[on.$index$]=on,A=on,z&&"0"===on.$depth$&&(z[on.$index$]=on.$elm$))),dt.shadowRoot)for(Fn=dt.shadowRoot.childNodes.length-1;Fn>=0;Fn--)Ni(A,O,T,z,ae,dt.shadowRoot.childNodes[Fn],Qt);for(Fn=dt.childNodes.length-1;Fn>=0;Fn--)Ni(A,O,T,z,ae,dt.childNodes[Fn],Qt)}else if(8===dt.nodeType)en=dt.nodeValue.split("."),(en[1]===Qt||"0"===en[1])&&(rn=en[0],on={$flags$:0,$hostId$:en[1],$nodeId$:en[2],$depth$:en[3],$index$:en[4],$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===rn?(on.$elm$=dt.nextSibling,on.$elm$&&3===on.$elm$.nodeType&&(on.$text$=on.$elm$.textContent,O.push(on),dt.remove(),A.$children$||(A.$children$=[]),A.$children$[on.$index$]=on,z&&"0"===on.$depth$&&(z[on.$index$]=on.$elm$))):on.$hostId$===Qt&&("s"===rn?(on.$tag$="slot",dt["s-sn"]=en[5]?on.$name$=en[5]:"",dt["s-sr"]=!0,z&&(on.$elm$=rt.createElement(on.$tag$),on.$name$&&on.$elm$.setAttribute("name",on.$name$),dt.parentNode.insertBefore(on.$elm$,dt),dt.remove(),"0"===on.$depth$&&(z[on.$index$]=on.$elm$)),T.push(on),A.$children$||(A.$children$=[]),A.$children$[on.$index$]=on):"r"===rn&&(z?dt.remove():(ae["s-cr"]=dt,dt["s-cn"]=!0))));else if(A&&"style"===A.$tag$){const Rn=Hn(null,dt.textContent);Rn.$elm$=dt,Rn.$index$="0",A.$children$=[Rn]}},Vn=(A,O)=>{if(1===A.nodeType){let T=0;if(A.shadowRoot)for(;T<A.shadowRoot.childNodes.length;T++)Vn(A.shadowRoot.childNodes[T],O);for(T=0;T<A.childNodes.length;T++)Vn(A.childNodes[T],O)}else if(8===A.nodeType){const T=A.nodeValue.split(".");"o"===T[0]&&(O.set(T[1]+"."+T[2],A),A.nodeValue="",A["s-en"]=T[3])}},Qn=A=>ut.push(A),Zn=A=>Oe(A).$modeName$,Ai=A=>Oe(A).$hostElement$,tr=(A,O,T)=>{const z=Ai(A);return{emit:ae=>si(z,O,{bubbles:!!(4&T),composed:!!(2&T),cancelable:!!(1&T),detail:ae})}},si=(A,O,T)=>{const z=Xt.ce(O,T);return A.dispatchEvent(z),z},Ar=new WeakMap,ai=(A,O,T)=>{var z;const ae=_t(O,T),dt=ot.get(ae);if(A=11===A.nodeType?A:rt,dt)if("string"==typeof dt){let rn,Qt=Ar.get(A=A.head||A);if(Qt||Ar.set(A,Qt=new Set),!Qt.has(ae)){if(A.host&&(rn=A.querySelector(`[sty-id="${ae}"]`)))rn.innerHTML=dt;else{rn=rt.createElement("style"),rn.innerHTML=dt;const en=null!=(z=Xt.$nonce$)?z:qt(rt);null!=en&&rn.setAttribute("nonce",en),(!(1&O.$flags$)||1&O.$flags$&&"HEAD"!==A.nodeName)&&A.insertBefore(rn,A.querySelector("link"))}4&O.$flags$&&(rn.innerHTML+=nt),Qt&&Qt.add(ae)}}else A.adoptedStyleSheets.includes(dt)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,dt]);return ae},_t=(A,O)=>"sc-"+(O&&32&A.$flags$?A.$tagName$+"-"+O:A.$tagName$),Gt=(A,O,T,z,ae,dt)=>{if(T!==z){let Qt=se(A,O),rn=O.toLowerCase();if("class"===O){const en=A.classList,on=We(T),Fn=We(z);en.remove(...on.filter(Rn=>Rn&&!Fn.includes(Rn))),en.add(...Fn.filter(Rn=>Rn&&!on.includes(Rn)))}else if("style"===O){for(const en in T)(!z||null==z[en])&&(en.includes("-")?A.style.removeProperty(en):A.style[en]="");for(const en in z)(!T||z[en]!==T[en])&&(en.includes("-")?A.style.setProperty(en,z[en]):A.style[en]=z[en])}else if("key"!==O)if("ref"===O)z&&z(A);else if(Qt||"o"!==O[0]||"n"!==O[1]){const en=jn(z);if((Qt||en&&null!==z)&&!ae)try{if(A.tagName.includes("-"))A[O]=z;else{const Fn=null==z?"":z;"list"===O?Qt=!1:(null==T||A[O]!=Fn)&&(A[O]=Fn)}}catch{}let on=!1;rn!==(rn=rn.replace(/^xlink\:?/,""))&&(O=rn,on=!0),null==z||!1===z?(!1!==z||""===A.getAttribute(O))&&(on?A.removeAttributeNS(Ze,O):A.removeAttribute(O)):(!Qt||4&dt||ae)&&!en&&(z=!0===z?"":z,on?A.setAttributeNS(Ze,O,z):A.setAttribute(O,z))}else if(O="-"===O[2]?O.slice(3):se(pe,rn)?rn.slice(2):rn[2]+O.slice(3),T||z){const en=O.endsWith(X);O=O.replace(K,""),T&&Xt.rel(A,O,T,en),z&&Xt.ael(A,O,z,en)}}},ke=/\s/,We=A=>A?A.split(ke):[],X="Capture",K=new RegExp(X+"$"),ee=(A,O,T)=>{const z=11===O.$elm$.nodeType&&O.$elm$.host?O.$elm$.host:O.$elm$,ae=A&&A.$attrs$||Nn,dt=O.$attrs$||Nn;for(const Qt of Ne(Object.keys(ae)))Qt in dt||Gt(z,Qt,ae[Qt],void 0,T,O.$flags$);for(const Qt of Ne(Object.keys(dt)))Gt(z,Qt,ae[Qt],dt[Qt],T,O.$flags$)};function Ne(A){return A.includes("ref")?[...A.filter(O=>"ref"!==O),"ref"]:A}var He,Wt,In,Xn=!1,Tr=!1,ht=!1,fr=!1,xn=(A,O,T,z)=>{var ae;const dt=O.$children$[T];let rn,en,on,Qt=0;if(Xn||(ht=!0,"slot"===dt.$tag$&&(He&&z.classList.add(He+"-s"),dt.$flags$|=dt.$children$?2:1)),null!==dt.$text$)rn=dt.$elm$=rt.createTextNode(dt.$text$);else if(1&dt.$flags$)rn=dt.$elm$=rt.createTextNode("");else{if(fr||(fr="svg"===dt.$tag$),rn=dt.$elm$=rt.createElementNS(fr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Xn&&2&dt.$flags$?"slot-fb":dt.$tag$),fr&&"foreignObject"===dt.$tag$&&(fr=!1),ee(null,dt,fr),!!rn.getRootNode().querySelector("body")&&(A=>null!=A)(He)&&rn["s-si"]!==He&&rn.classList.add(rn["s-si"]=He),mn(rn,z),dt.$children$)for(Qt=0;Qt<dt.$children$.length;++Qt)en=xn(A,dt,Qt,rn),en&&rn.appendChild(en);"svg"===dt.$tag$?fr=!1:"foreignObject"===rn.tagName&&(fr=!0)}return rn["s-hn"]=In,3&dt.$flags$&&(rn["s-sr"]=!0,rn["s-cr"]=Wt,rn["s-sn"]=dt.$name$||"",rn["s-rf"]=null==(ae=dt.$attrs$)?void 0:ae.ref,on=A&&A.$children$&&A.$children$[T],on&&on.$tag$===dt.$tag$&&A.$elm$&&Wr(A.$elm$)),rn},Wr=A=>{Xt.$flags$|=1;const O=A.closest(In.toLowerCase());if(null!=O){const T=Array.from(O.childNodes).find(ae=>ae["s-cr"]),z=Array.from(A.childNodes);for(const ae of T?z.reverse():z)null!=ae["s-sh"]&&(ze(O,ae,null!=T?T:null),ae["s-sh"]=void 0,ht=!0)}Xt.$flags$&=-2},ji=(A,O)=>{Xt.$flags$|=1;const T=Array.from(A.childNodes);if(A["s-sr"]){let z=A;for(;z=z.nextSibling;)z&&z["s-sn"]===A["s-sn"]&&z["s-sh"]===In&&T.push(z)}for(let z=T.length-1;z>=0;z--){const ae=T[z];ae["s-hn"]!==In&&ae["s-ol"]&&(ze(zo(ae),ae,bo(ae)),ae["s-ol"].remove(),ae["s-ol"]=void 0,ae["s-sh"]=void 0,ht=!0),O&&ji(ae,O)}Xt.$flags$&=-2},no=(A,O,T,z,ae,dt)=>{let rn,Qt=A["s-cr"]&&A["s-cr"].parentNode||A;for(Qt.shadowRoot&&Qt.tagName===In&&(Qt=Qt.shadowRoot);ae<=dt;++ae)z[ae]&&(rn=xn(null,T,ae,A),rn&&(z[ae].$elm$=rn,ze(Qt,rn,bo(O))))},Ti=(A,O,T)=>{for(let z=O;z<=T;++z){const ae=A[z];if(ae){const dt=ae.$elm$;de(ae),dt&&(Tr=!0,dt["s-ol"]?dt["s-ol"].remove():ji(dt,!0),dt.remove())}}},Hi=(A,O,T=!1)=>!(A.$tag$!==O.$tag$||("slot"===A.$tag$?"$nodeId$"in A&&T&&8!==A.$elm$.nodeType||A.$name$!==O.$name$:!T&&A.$key$!==O.$key$)),bo=A=>A&&A["s-ol"]||A,zo=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,_o=(A,O,T=!1)=>{const z=O.$elm$=A.$elm$,ae=A.$children$,dt=O.$children$,Qt=O.$tag$,rn=O.$text$;let en;null===rn?(fr="svg"===Qt||"foreignObject"!==Qt&&fr,"slot"!==Qt||Xn?ee(A,O,fr):A.$name$!==O.$name$&&(O.$elm$["s-sn"]=O.$name$||"",Wr(O.$elm$.parentElement)),null!==ae&&null!==dt?((A,O,T,z,ae=!1)=>{let Gi,li,dt=0,Qt=0,rn=0,en=0,on=O.length-1,Fn=O[0],Rn=O[on],Yn=z.length-1,or=z[0],ti=z[Yn];for(;dt<=on&&Qt<=Yn;)if(null==Fn)Fn=O[++dt];else if(null==Rn)Rn=O[--on];else if(null==or)or=z[++Qt];else if(null==ti)ti=z[--Yn];else if(Hi(Fn,or,ae))_o(Fn,or,ae),Fn=O[++dt],or=z[++Qt];else if(Hi(Rn,ti,ae))_o(Rn,ti,ae),Rn=O[--on],ti=z[--Yn];else if(Hi(Fn,ti,ae))("slot"===Fn.$tag$||"slot"===ti.$tag$)&&ji(Fn.$elm$.parentNode,!1),_o(Fn,ti,ae),ze(A,Fn.$elm$,Rn.$elm$.nextSibling),Fn=O[++dt],ti=z[--Yn];else if(Hi(Rn,or,ae))("slot"===Fn.$tag$||"slot"===ti.$tag$)&&ji(Rn.$elm$.parentNode,!1),_o(Rn,or,ae),ze(A,Rn.$elm$,Fn.$elm$),Rn=O[--on],or=z[++Qt];else{for(rn=-1,en=dt;en<=on;++en)if(O[en]&&null!==O[en].$key$&&O[en].$key$===or.$key$){rn=en;break}rn>=0?(li=O[rn],li.$tag$!==or.$tag$?Gi=xn(O&&O[Qt],T,rn,A):(_o(li,or,ae),O[rn]=void 0,Gi=li.$elm$),or=z[++Qt]):(Gi=xn(O&&O[Qt],T,Qt,A),or=z[++Qt]),Gi&&ze(zo(Fn.$elm$),Gi,bo(Fn.$elm$))}dt>on?no(A,null==z[Yn+1]?null:z[Yn+1].$elm$,T,z,Qt,Yn):Qt>Yn&&Ti(O,dt,on)})(z,ae,O,dt,T):null!==dt?(null!==A.$text$&&(z.textContent=""),no(z,null,O,dt,0,dt.length-1)):!T&&null!==ae&&Ti(ae,0,ae.length-1),fr&&"svg"===Qt&&(fr=!1)):(en=z["s-cr"])?en.parentNode.textContent=rn:A.$text$!==rn&&(z.data=rn)},Je=A=>{const O=A.childNodes;for(const T of O)if(1===T.nodeType){if(T["s-sr"]){const z=T["s-sn"];T.hidden=!1;for(const ae of O)if(ae!==T)if(ae["s-hn"]!==T["s-hn"]||""!==z){if(1===ae.nodeType&&(z===ae.getAttribute("slot")||z===ae["s-sn"])||3===ae.nodeType&&z===ae["s-sn"]){T.hidden=!0;break}}else if(1===ae.nodeType||3===ae.nodeType&&""!==ae.textContent.trim()){T.hidden=!0;break}}Je(T)}},Te=[],Et=A=>{let O,T,z;for(const ae of A.childNodes){if(ae["s-sr"]&&(O=ae["s-cr"])&&O.parentNode){T=O.parentNode.childNodes;const dt=ae["s-sn"];for(z=T.length-1;z>=0;z--)if(O=T[z],!(O["s-cn"]||O["s-nr"]||O["s-hn"]===ae["s-hn"]||O["s-sh"]&&O["s-sh"]===ae["s-hn"]))if(ce(O,dt)){let Qt=Te.find(rn=>rn.$nodeToRelocate$===O);Tr=!0,O["s-sn"]=O["s-sn"]||dt,Qt?(Qt.$nodeToRelocate$["s-sh"]=ae["s-hn"],Qt.$slotRefNode$=ae):(O["s-sh"]=ae["s-hn"],Te.push({$slotRefNode$:ae,$nodeToRelocate$:O})),O["s-sr"]&&Te.map(rn=>{ce(rn.$nodeToRelocate$,O["s-sn"])&&(Qt=Te.find(en=>en.$nodeToRelocate$===O),Qt&&!rn.$slotRefNode$&&(rn.$slotRefNode$=Qt.$slotRefNode$))})}else Te.some(Qt=>Qt.$nodeToRelocate$===O)||Te.push({$nodeToRelocate$:O})}1===ae.nodeType&&Et(ae)}},ce=(A,O)=>1===A.nodeType?null===A.getAttribute("slot")&&""===O||A.getAttribute("slot")===O:A["s-sn"]===O||""===O,de=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(de)},ze=(A,O,T)=>{const z=null==A?void 0:A.insertBefore(O,T);return mn(O,A),z},Bt=A=>{const O=[];return A&&O.push(...A["s-scs"]||[],A["s-si"],A["s-sc"],...Bt(A.parentElement)),O},mn=(A,O,T=!1)=>{var z;if(A&&O&&1===A.nodeType){const ae=new Set(Bt(O).filter(Boolean));if(ae.size&&(null==(z=A.classList)||z.add(...A["s-scs"]=[...ae]),A["s-ol"]||T))for(const dt of Array.from(A.childNodes))mn(dt,A,!0)}},Kn=(A,O)=>{O&&!A.$onRenderResolve$&&O["s-p"]&&O["s-p"].push(new Promise(T=>A.$onRenderResolve$=T))},Sr=(A,O)=>{if(A.$flags$|=16,!(4&A.$flags$))return Kn(A,A.$ancestorComponent$),Pt(()=>ki(A,O));A.$flags$|=512},ki=(A,O)=>{const ae=A.$lazyInstance$;if(!ae)throw new Error(`Can't render component <${A.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let dt;return O&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([Qt,rn])=>vn(ae,Qt,rn)),A.$queuedListeners$=void 0),dt=vn(ae,"componentWillLoad")),dt=Ie(dt,()=>vn(ae,"componentWillRender")),Ie(dt,()=>xe(A,ae,O))},Ie=(A,O)=>Qe(A)?A.then(O).catch(T=>{console.error(T),O()}):O(),Qe=A=>A instanceof Promise||A&&A.then&&"function"==typeof A.then,xe=function(){var A=(0,d.A)(function*(O,T,z){var ae;const dt=O.$hostElement$,rn=dt["s-rc"];z&&(A=>{const O=A.$cmpMeta$,T=A.$hostElement$,z=O.$flags$,dt=ai(T.shadowRoot?T.shadowRoot:T.getRootNode(),O,A.$modeName$);10&z&&2&z&&(T["s-sc"]=dt,T.classList.add(dt+"-h"),2&z&&T.classList.add(dt+"-s"))})(O);At(O,T,dt,z),rn&&(rn.map(on=>on()),dt["s-rc"]=void 0);{const on=null!=(ae=dt["s-p"])?ae:[],Fn=()=>Rt(O);0===on.length?Fn():(Promise.all(on).then(Fn),O.$flags$|=4,on.length=0)}});return function(T,z,ae){return A.apply(this,arguments)}}(),At=(A,O,T,z)=>{try{O=O.render&&O.render(),A.$flags$&=-17,A.$flags$|=2,((A,O,T=!1)=>{var z,ae,dt,Qt,rn;const en=A.$hostElement$,on=A.$cmpMeta$,Fn=A.$vnode$||Hn(null,null),Rn=(A=>A&&A.$tag$===zt)(O)?O:lr(null,null,O);if(In=en.tagName,on.$attrsToReflect$&&(Rn.$attrs$=Rn.$attrs$||{},on.$attrsToReflect$.map(([Yn,or])=>Rn.$attrs$[or]=en[Yn])),T&&Rn.$attrs$)for(const Yn of Object.keys(Rn.$attrs$))en.hasAttribute(Yn)&&!["key","ref","style","class"].includes(Yn)&&(Rn.$attrs$[Yn]=en[Yn]);if(Rn.$tag$=null,Rn.$flags$|=4,A.$vnode$=Rn,Rn.$elm$=Fn.$elm$=en.shadowRoot||en,He=en["s-sc"],Xn=!!(1&on.$flags$),Wt=en["s-cr"],Tr=!1,_o(Fn,Rn,T),Xt.$flags$|=1,ht){Et(Rn.$elm$);for(const Yn of Te){const or=Yn.$nodeToRelocate$;if(!or["s-ol"]){const ti=rt.createTextNode("");ti["s-nr"]=or,ze(or.parentNode,or["s-ol"]=ti,or)}}for(const Yn of Te){const or=Yn.$nodeToRelocate$,ti=Yn.$slotRefNode$;if(ti){const Gi=ti.parentNode;let li=ti.nextSibling;if(li&&1===li.nodeType){let Ri=null==(z=or["s-ol"])?void 0:z.previousSibling;for(;Ri;){let ei=null!=(ae=Ri["s-nr"])?ae:null;if(ei&&ei["s-sn"]===or["s-sn"]&&Gi===ei.parentNode){for(ei=ei.nextSibling;ei===or||null!=ei&&ei["s-sr"];)ei=null==ei?void 0:ei.nextSibling;if(!ei||!ei["s-nr"]){li=ei;break}}Ri=Ri.previousSibling}}(!li&&Gi!==or.parentNode||or.nextSibling!==li)&&or!==li&&(ze(Gi,or,li),1===or.nodeType&&(or.hidden=null!=(dt=or["s-ih"])&&dt)),or&&"function"==typeof ti["s-rf"]&&ti["s-rf"](or)}else 1===or.nodeType&&(T&&(or["s-ih"]=null!=(Qt=or.hidden)&&Qt),or.hidden=!0)}}if(Tr&&Je(Rn.$elm$),Xt.$flags$&=-2,Te.length=0,2&on.$flags$)for(const Yn of Rn.$elm$.childNodes)Yn["s-hn"]!==In&&!Yn["s-sh"]&&(T&&null==Yn["s-ih"]&&(Yn["s-ih"]=null!=(rn=Yn.hidden)&&rn),Yn.hidden=!0);Wt=void 0})(A,O,z)}catch(ae){Fe(ae,A.$hostElement$)}return null},Rt=A=>{const T=A.$hostElement$,ae=A.$lazyInstance$,dt=A.$ancestorComponent$;vn(ae,"componentDidRender"),64&A.$flags$?vn(ae,"componentDidUpdate"):(A.$flags$|=64,An(T),vn(ae,"componentDidLoad"),A.$onReadyResolve$(T),dt||sn()),A.$onInstanceResolve$(T),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),512&A.$flags$&&at(()=>Sr(A,!1)),A.$flags$&=-517},gt=A=>{{const O=Oe(A),T=O.$hostElement$.isConnected;return T&&2==(18&O.$flags$)&&Sr(O,!1),T}},sn=A=>{An(rt.documentElement),at(()=>si(pe,"appload",{detail:{namespace:"ionic"}}))},vn=(A,O,T)=>{if(A&&A[O])try{return A[O](T)}catch(z){Fe(z)}},An=A=>A.classList.add("hydrated"),Jn=(A,O,T)=>{var z,ae;const dt=A.prototype;if(O.$members$||O.$watchers$||A.watchers){A.watchers&&!O.$watchers$&&(O.$watchers$=A.watchers);const Qt=Object.entries(null!=(z=O.$members$)?z:{});if(Qt.map(([rn,[en]])=>{31&en||2&T&&32&en?Object.defineProperty(dt,rn,{get(){return((A,O)=>Oe(this).$instanceValues$.get(O))(0,rn)},set(on){((A,O,T,z)=>{const ae=Oe(A);if(!ae)throw new Error(`Couldn't find host element for "${z.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const dt=ae.$hostElement$,Qt=ae.$instanceValues$.get(O),rn=ae.$flags$,en=ae.$lazyInstance$;T=((A,O)=>null==A||jn(A)?A:4&O?"false"!==A&&(""===A||!!A):2&O?parseFloat(A):1&O?String(A):A)(T,z.$members$[O][0]);const on=Number.isNaN(Qt)&&Number.isNaN(T);if((!(8&rn)||void 0===Qt)&&T!==Qt&&!on&&(ae.$instanceValues$.set(O,T),en)){if(z.$watchers$&&128&rn){const Rn=z.$watchers$[O];Rn&&Rn.map(Yn=>{try{en[Yn](T,Qt,O)}catch(or){Fe(or,dt)}})}2==(18&rn)&&Sr(ae,!1)}})(this,rn,on,O)},configurable:!0,enumerable:!0}):1&T&&64&en&&Object.defineProperty(dt,rn,{value(...on){var Fn;const Rn=Oe(this);return null==(Fn=null==Rn?void 0:Rn.$onInstancePromise$)?void 0:Fn.then(()=>{var Yn;return null==(Yn=Rn.$lazyInstance$)?void 0:Yn[rn](...on)})}})}),1&T){const rn=new Map;dt.attributeChangedCallback=function(en,on,Fn){Xt.jmp(()=>{var Rn;const Yn=rn.get(en);if(this.hasOwnProperty(Yn))Fn=this[Yn],delete this[Yn];else{if(dt.hasOwnProperty(Yn)&&"number"==typeof this[Yn]&&this[Yn]==Fn)return;if(null==Yn){const or=Oe(this),ti=null==or?void 0:or.$flags$;if(ti&&!(8&ti)&&128&ti&&Fn!==on){const Gi=or.$lazyInstance$,li=null==(Rn=O.$watchers$)?void 0:Rn[en];null==li||li.forEach(Ri=>{null!=Gi[Ri]&&Gi[Ri].call(Gi,Fn,on,en)})}return}}this[Yn]=(null!==Fn||"boolean"!=typeof this[Yn])&&Fn})},A.observedAttributes=Array.from(new Set([...Object.keys(null!=(ae=O.$watchers$)?ae:{}),...Qt.filter(([en,on])=>15&on[0]).map(([en,on])=>{var Fn;const Rn=on[1]||en;return rn.set(Rn,en),512&on[0]&&(null==(Fn=O.$attrsToReflect$)||Fn.push([en,Rn])),Rn})]))}}return A},ar=function(){var A=(0,d.A)(function*(O,T,z,ae){let dt;if(!(32&T.$flags$)){if(T.$flags$|=32,z.$lazyBundleId$){const on=(A=>{const z=A.$tagName$.replace(/-/g,"_"),ae=A.$lazyBundleId$;if(!ae)return;const dt=Ye.get(ae);return dt?dt[z]:k(8996)(`./${ae}.entry.js`).then(Qt=>(Ye.set(ae,Qt),Qt[z]),Fe)})(z);if(on&&"then"in on){const Rn=()=>{};dt=yield on,Rn()}else dt=on;if(!dt)throw new Error(`Constructor for "${z.$tagName$}#${T.$modeName$}" was not found`);dt.isProxied||(z.$watchers$=dt.watchers,Jn(dt,z,2),dt.isProxied=!0);const Fn=()=>{};T.$flags$|=8;try{new dt(T)}catch(Rn){Fe(Rn)}T.$flags$&=-9,T.$flags$|=128,Fn(),Rr(T.$lazyInstance$)}else dt=O.constructor,customElements.whenDefined(O.localName).then(()=>T.$flags$|=128);if(dt&&dt.style){let on;"string"==typeof dt.style?on=dt.style:"string"!=typeof dt.style&&(T.$modeName$=(A=>ut.map(O=>O(A)).find(O=>!!O))(O),T.$modeName$&&(on=dt.style[T.$modeName$]));const Fn=_t(z,T.$modeName$);if(!ot.has(Fn)){const Rn=()=>{};((A,O,T)=>{let z=ot.get(A);Me&&T?(z=z||new CSSStyleSheet,"string"==typeof z?z=O:z.replaceSync(O)):z=O,ot.set(A,z)})(Fn,on,!!(1&z.$flags$)),Rn()}}}const Qt=T.$ancestorComponent$,rn=()=>Sr(T,!0);Qt&&Qt["s-rc"]?Qt["s-rc"].push(rn):rn()});return function(T,z,ae,dt){return A.apply(this,arguments)}}(),Rr=A=>{vn(A,"connectedCallback")},Si=A=>{const O=A["s-cr"]=rt.createComment("");O["s-cn"]=!0,ze(A,O,A.firstChild)},jr=A=>{vn(A,"disconnectedCallback")},oo=function(){var A=(0,d.A)(function*(O){if(!(1&Xt.$flags$)){const T=Oe(O);T.$rmListeners$&&(T.$rmListeners$.map(z=>z()),T.$rmListeners$=void 0),null!=T&&T.$lazyInstance$?jr(T.$lazyInstance$):null!=T&&T.$onReadyPromise$&&T.$onReadyPromise$.then(()=>jr(T.$lazyInstance$))}});return function(T){return A.apply(this,arguments)}}(),Lo=A=>{const O=A.cloneNode;A.cloneNode=function(T){const z=this,ae=z.shadowRoot&&true,dt=O.call(z,!!ae&&T);if(!ae&&T){let rn,en,Qt=0;const on=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Qt<z.childNodes.length;Qt++)rn=z.childNodes[Qt]["s-nr"],en=on.every(Fn=>!z.childNodes[Qt][Fn]),rn&&(dt.__appendChild?dt.__appendChild(rn.cloneNode(!0)):dt.appendChild(rn.cloneNode(!0))),en&&dt.appendChild(z.childNodes[Qt].cloneNode(!0))}return dt}},Fo=A=>{A.__appendChild=A.appendChild,A.appendChild=function(O){const T=O["s-sn"]=zi(O),z=ci(this.childNodes,T,this.tagName);if(z){const ae=Ts(z,T),dt=ae[ae.length-1],Qt=ze(dt.parentNode,O,dt.nextSibling);return Je(this),Qt}return this.__appendChild(O)}},rs=A=>{A.__removeChild=A.removeChild,A.removeChild=function(O){if(O&&typeof O["s-sn"]<"u"){const T=ci(this.childNodes,O["s-sn"],this.tagName);if(T){const ae=Ts(T,O["s-sn"]).find(dt=>dt===O);if(ae)return ae.remove(),void Je(this)}}return this.__removeChild(O)}},Do=A=>{const O=A.prepend;A.prepend=function(...T){T.forEach(z=>{"string"==typeof z&&(z=this.ownerDocument.createTextNode(z));const ae=z["s-sn"]=zi(z),dt=ci(this.childNodes,ae,this.tagName);if(dt){const Qt=document.createTextNode("");Qt["s-nr"]=z,dt["s-cr"].parentNode.__appendChild(Qt),z["s-ol"]=Qt;const en=Ts(dt,ae)[0];return ze(en.parentNode,z,en.nextSibling)}return 1===z.nodeType&&z.getAttribute("slot")&&(z.hidden=!0),O.call(this,z)})}},_i=A=>{A.append=function(...O){O.forEach(T=>{"string"==typeof T&&(T=this.ownerDocument.createTextNode(T)),this.appendChild(T)})}},js=A=>{const O=A.insertAdjacentHTML;A.insertAdjacentHTML=function(T,z){if("afterbegin"!==T&&"beforeend"!==T)return O.call(this,T,z);const ae=this.ownerDocument.createElement("_");let dt;if(ae.innerHTML=z,"afterbegin"===T)for(;dt=ae.firstChild;)this.prepend(dt);else if("beforeend"===T)for(;dt=ae.firstChild;)this.append(dt)}},is=A=>{A.insertAdjacentText=function(O,T){this.insertAdjacentHTML(O,T)}},Ma=A=>{const O=A.insertAdjacentElement;A.insertAdjacentElement=function(T,z){return"afterbegin"!==T&&"beforeend"!==T?O.call(this,T,z):"afterbegin"===T?(this.prepend(z),z):("beforeend"===T&&this.append(z),z)}},Qi=A=>{const O=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(A,"__textContent",O),Object.defineProperty(A,"textContent",{get(){return" "+As(this.childNodes).map(ae=>{var dt,Qt;const rn=[];let en=ae.nextSibling;for(;en&&en["s-sn"]===ae["s-sn"];)(3===en.nodeType||1===en.nodeType)&&rn.push(null!=(Qt=null==(dt=en.textContent)?void 0:dt.trim())?Qt:""),en=en.nextSibling;return rn.filter(on=>""!==on).join(" ")}).filter(ae=>""!==ae).join(" ")+" "},set(T){As(this.childNodes).forEach(ae=>{let dt=ae.nextSibling;for(;dt&&dt["s-sn"]===ae["s-sn"];){const Qt=dt;dt=dt.nextSibling,Qt.remove()}if(""===ae["s-sn"]){const Qt=this.ownerDocument.createTextNode(T);Qt["s-sn"]="",ze(ae.parentElement,Qt,ae.nextSibling)}else ae.remove()})}})},_r=(A,O)=>{class T extends Array{item(ae){return this[ae]}}if(8&O.$flags$){const z=A.__lookupGetter__("childNodes");Object.defineProperty(A,"children",{get(){return this.childNodes.map(ae=>1===ae.nodeType)}}),Object.defineProperty(A,"childElementCount",{get:()=>A.children.length}),Object.defineProperty(A,"childNodes",{get(){const ae=z.call(this);if(!(1&Xt.$flags$)&&2&Oe(this).$flags$){const dt=new T;for(let Qt=0;Qt<ae.length;Qt++){const rn=ae[Qt]["s-nr"];rn&&dt.push(rn)}return dt}return T.from(ae)}})}},As=A=>{const O=[];for(const T of Array.from(A))T["s-sr"]&&O.push(T),O.push(...As(T.childNodes));return O},zi=A=>A["s-sn"]||1===A.nodeType&&A.getAttribute("slot")||"",ci=(A,O,T)=>{let ae,z=0;for(;z<A.length;z++)if(ae=A[z],ae["s-sr"]&&ae["s-sn"]===O&&ae["s-hn"]===T||(ae=ci(ae.childNodes,O,T),ae))return ae;return null},Ts=(A,O)=>{const T=[A];for(;(A=A.nextSibling)&&A["s-sn"]===O;)T.push(A);return T},os=(A,O={})=>{var T;const ae=[],dt=O.exclude||[],Qt=pe.customElements,rn=rt.head,en=rn.querySelector("meta[charset]"),on=rt.createElement("style"),Fn=[];let Rn,Yn=!0;Object.assign(Xt,O),Xt.$resourcesUrl$=new URL(O.resourcesUrl||"./",rt.baseURI).href,Xt.$flags$|=2;let or=!1;if(A.map(ti=>{ti[1].map(Gi=>{var li;const Ri={$flags$:Gi[0],$tagName$:Gi[1],$members$:Gi[2],$listeners$:Gi[3]};4&Ri.$flags$&&(or=!0),Ri.$members$=Gi[2],Ri.$listeners$=Gi[3],Ri.$attrsToReflect$=[],Ri.$watchers$=null!=(li=Gi[4])?li:{};const ei=Ri.$tagName$,ss=class extends HTMLElement{constructor(mo){if(super(mo),this.hasRegisteredEventListeners=!1,((A,O)=>{const T={$flags$:0,$hostElement$:A,$cmpMeta$:O,$instanceValues$:new Map};T.$onInstancePromise$=new Promise(z=>T.$onInstanceResolve$=z),T.$onReadyPromise$=new Promise(z=>T.$onReadyResolve$=z),A["s-p"]=[],A["s-rc"]=[],Se.set(A,T)})(mo=this,Ri),1&Ri.$flags$)if(mo.shadowRoot){if("open"!==mo.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Ri.$tagName$}! Mode is set to ${mo.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else mo.attachShadow({mode:"open",delegatesFocus:!!(16&Ri.$flags$)})}connectedCallback(){const mo=Oe(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ci(this,mo,Ri.$listeners$)),Rn&&(clearTimeout(Rn),Rn=null),Yn?Fn.push(this):Xt.jmp(()=>(A=>{if(!(1&Xt.$flags$)){const O=Oe(A),T=O.$cmpMeta$,z=()=>{};if(1&O.$flags$)Ci(A,O,T.$listeners$),null!=O&&O.$lazyInstance$?Rr(O.$lazyInstance$):null!=O&&O.$onReadyPromise$&&O.$onReadyPromise$.then(()=>Rr(O.$lazyInstance$));else{let ae;if(O.$flags$|=1,ae=A.getAttribute(ue),ae){if(1&T.$flags$){const dt=ai(A.shadowRoot,T,A.getAttribute("s-mode"));A.classList.remove(dt+"-h",dt+"-s")}((A,O,T,z)=>{const dt=A.shadowRoot,Qt=[],en=dt?[]:null,on=z.$vnode$=Hn(O,null);Xt.$orgLocNodes$||Vn(rt.body,Xt.$orgLocNodes$=new Map),A[ue]=T,A.removeAttribute(ue),Ni(on,Qt,[],en,A,A,T),Qt.map(Fn=>{const Rn=Fn.$hostId$+"."+Fn.$nodeId$,Yn=Xt.$orgLocNodes$.get(Rn),or=Fn.$elm$;Yn&&""===Yn["s-en"]&&Yn.parentNode.insertBefore(or,Yn.nextSibling),dt||(or["s-hn"]=O,Yn&&(or["s-ol"]=Yn,or["s-ol"]["s-nr"]=or)),Xt.$orgLocNodes$.delete(Rn)}),dt&&en.map(Fn=>{Fn&&dt.appendChild(Fn)})})(A,T.$tagName$,ae,O)}ae||12&T.$flags$&&Si(A);{let dt=A;for(;dt=dt.parentNode||dt.host;)if(1===dt.nodeType&&dt.hasAttribute("s-id")&&dt["s-p"]||dt["s-p"]){Kn(O,O.$ancestorComponent$=dt);break}}T.$members$&&Object.entries(T.$members$).map(([dt,[Qt]])=>{if(31&Qt&&A.hasOwnProperty(dt)){const rn=A[dt];delete A[dt],A[dt]=rn}}),ar(A,O,T)}z()}})(this))}disconnectedCallback(){Xt.jmp(()=>oo(this))}componentOnReady(){return Oe(this).$onReadyPromise$}};2&Ri.$flags$&&((A,O)=>{Lo(A),Fo(A),_i(A),Do(A),Ma(A),js(A),is(A),Qi(A),_r(A,O),rs(A)})(ss.prototype,Ri),Ri.$lazyBundleId$=ti[0],!dt.includes(ei)&&!Qt.get(ei)&&(ae.push(ei),Qt.define(ei,Jn(ss,Ri,1)))})}),ae.length>0&&(or&&(on.textContent+=nt),on.textContent+=ae.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",on.innerHTML.length)){on.setAttribute("data-styles","");const ti=null!=(T=Xt.$nonce$)?T:qt(rt);null!=ti&&on.setAttribute("nonce",ti),rn.insertBefore(on,en?en.nextSibling:rn.firstChild)}Yn=!1,Fn.length?Fn.map(ti=>ti.connectedCallback()):Xt.jmp(()=>Rn=setTimeout(sn,30))},Ci=(A,O,T,z)=>{T&&T.map(([ae,dt,Qt])=>{const rn=fs(A,ae),en=Na(O,Qt),on=Vi(ae);Xt.ael(rn,dt,en,on),(O.$rmListeners$=O.$rmListeners$||[]).push(()=>Xt.rel(rn,dt,en,on))})},Na=(A,O)=>T=>{var z;try{256&A.$flags$?null==(z=A.$lazyInstance$)||z[O](T):(A.$queuedListeners$=A.$queuedListeners$||[]).push([O,T])}catch(ae){Fe(ae)}},fs=(A,O)=>4&O?rt:8&O?pe:16&O?rt.body:A,Vi=A=>cn?{passive:!!(1&A),capture:!!(2&A)}:!!(2&A)},8607:(Mn,It,k)=>{"use strict";k.r(It),k.d(It,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Ve});var d=k(1970);const h=(Ye,Xe,ot,ut)=>{const ct=B(Ye)?{capture:!!ut.capture,passive:!!ut.passive}:!!ut.capture;let tt,Dt;return Ye.__zone_symbol__addEventListener?(tt="__zone_symbol__addEventListener",Dt="__zone_symbol__removeEventListener"):(tt="addEventListener",Dt="removeEventListener"),Ye[tt](Xe,ot,ct),()=>{Ye[Dt](Xe,ot,ct)}},B=Ye=>{if(void 0===Ee)try{const Xe=Object.defineProperty({},"passive",{get:()=>{Ee=!0}});Ye.addEventListener("optsTest",()=>{},Xe)}catch{Ee=!1}return!!Ee};let Ee;const Se=Ye=>Ye instanceof Document?Ye:Ye.ownerDocument,Ve=Ye=>{let Xe=!1,ot=!1,ut=!0,ct=!1;const tt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ye),Dt=tt.canStart,vt=tt.onWillStart,ue=tt.onStart,De=tt.onEnd,Re=tt.notCaptured,Ke=tt.onMove,nt=tt.threshold,Ze=tt.passive,pe=tt.blurOnStart,rt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ot=((Ye,Xe,ot)=>{const ut=ot*(Math.PI/180),ct="x"===Ye,tt=Math.cos(ut),Dt=Xe*Xe;let vt=0,ue=0,De=!1,Re=0;return{start(Ke,nt){vt=Ke,ue=nt,Re=0,De=!0},detect(Ke,nt){if(!De)return!1;const Ze=Ke-vt,pe=nt-ue,rt=Ze*Ze+pe*pe;if(rt<Dt)return!1;const Ot=Math.sqrt(rt),Xt=(ct?Ze:pe)/Ot;return Re=Xt>tt?1:Xt<-tt?-1:0,De=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(tt.direction,tt.threshold,tt.maxAngle),Xt=d.G.createGesture({name:Ye.gestureName,priority:Ye.gesturePriority,disableScroll:Ye.disableScroll}),cn=()=>{Xe&&(ct=!1,Ke&&Ke(rt))},ft=()=>!!Xt.capture()&&(Xe=!0,ut=!1,rt.startX=rt.currentX,rt.startY=rt.currentY,rt.startTime=rt.currentTime,vt?vt(rt).then(ie):ie(),!0),ie=()=>{pe&&(()=>{if(typeof document<"u"){const yt=document.activeElement;null!=yt&&yt.blur&&yt.blur()}})(),ue&&ue(rt),ut=!0},oe=()=>{Xe=!1,ot=!1,ct=!1,ut=!0,Xt.release()},he=yt=>{const at=Xe,Ft=ut;if(oe(),Ft){if(we(rt,yt),at)return void(De&&De(rt));Re&&Re(rt)}},Ge=((Ye,Xe,ot,ut,ct)=>{let tt,Dt,vt,ue,De,Re,Ke,nt=0;const Ze=Me=>{nt=Date.now()+2e3,Xe(Me)&&(!Dt&&ot&&(Dt=h(Ye,"touchmove",ot,ct)),vt||(vt=h(Me.target,"touchend",rt,ct)),ue||(ue=h(Me.target,"touchcancel",rt,ct)))},pe=Me=>{nt>Date.now()||Xe(Me)&&(!Re&&ot&&(Re=h(Se(Ye),"mousemove",ot,ct)),Ke||(Ke=h(Se(Ye),"mouseup",Ot,ct)))},rt=Me=>{Xt(),ut&&ut(Me)},Ot=Me=>{En(),ut&&ut(Me)},Xt=()=>{Dt&&Dt(),vt&&vt(),ue&&ue(),Dt=vt=ue=void 0},En=()=>{Re&&Re(),Ke&&Ke(),Re=Ke=void 0},tn=()=>{Xt(),En()},cn=(Me=!0)=>{Me?(tt||(tt=h(Ye,"touchstart",Ze,ct)),De||(De=h(Ye,"mousedown",pe,ct))):(tt&&tt(),De&&De(),tt=De=void 0,tn())};return{enable:cn,stop:tn,destroy:()=>{cn(!1),ut=ot=Xe=void 0}}})(tt.el,yt=>{const at=Fe(yt);return!(ot||!ut||(se(yt,rt),rt.startX=rt.currentX,rt.startY=rt.currentY,rt.startTime=rt.currentTime=at,rt.velocityX=rt.velocityY=rt.deltaX=rt.deltaY=0,rt.event=yt,Dt&&!1===Dt(rt))||(Xt.release(),!Xt.start()))&&(ot=!0,0===nt?ft():(Ot.start(rt.startX,rt.startY),!0))},yt=>{Xe?!ct&&ut&&(ct=!0,we(rt,yt),requestAnimationFrame(cn)):(we(rt,yt),Ot.detect(rt.currentX,rt.currentY)&&(!Ot.isGesture()||!ft())&&mt())},he,{capture:!1,passive:Ze}),mt=()=>{oe(),Ge.stop(),Re&&Re(rt)};return{enable(yt=!0){yt||(Xe&&he(void 0),oe()),Ge.enable(yt)},destroy(){Xt.destroy(),Ge.destroy()}}},we=(Ye,Xe)=>{if(!Xe)return;const ot=Ye.currentX,ut=Ye.currentY,ct=Ye.currentTime;se(Xe,Ye);const tt=Ye.currentX,Dt=Ye.currentY,ue=(Ye.currentTime=Fe(Xe))-ct;if(ue>0&&ue<100){const Re=(Dt-ut)/ue;Ye.velocityX=(tt-ot)/ue*.7+.3*Ye.velocityX,Ye.velocityY=.7*Re+.3*Ye.velocityY}Ye.deltaX=tt-Ye.startX,Ye.deltaY=Dt-Ye.startY,Ye.event=Xe},se=(Ye,Xe)=>{let ot=0,ut=0;if(Ye){const ct=Ye.changedTouches;if(ct&&ct.length>0){const tt=ct[0];ot=tt.clientX,ut=tt.clientY}else void 0!==Ye.pageX&&(ot=Ye.pageX,ut=Ye.pageY)}Xe.currentX=ot,Xe.currentY=ut},Fe=Ye=>Ye.timeStamp||Date.now()},3604:(Mn,It,k)=>{"use strict";k.d(It,{b:()=>Oe,c:()=>Ve,d:()=>we,e:()=>tn,g:()=>Me,l:()=>Xt,s:()=>cn,t:()=>tt,w:()=>En});var d=k(467),h=k(9483),B=k(4261),Ee=k(4929),J=k(4920);const Oe="ionViewWillLeave",Ve="ionViewDidLeave",we="ionViewWillUnload",se=ie=>{ie.tabIndex=-1,ie.focus()},Fe=ie=>null!==ie.offsetParent,Xe="ion-last-focus",ct_saveViewFocus=he=>{if(h.c.get("focusManagerPriority",!1)){const mt=document.activeElement;null!==mt&&null!=he&&he.contains(mt)&&mt.setAttribute(Xe,"true")}},ct_setViewFocus=he=>{const Ge=h.c.get("focusManagerPriority",!1);if(Array.isArray(Ge)&&!he.contains(document.activeElement)){const mt=he.querySelector(`[${Xe}]`);if(mt&&Fe(mt))return void se(mt);for(const yt of Ge)switch(yt){case"content":const at=he.querySelector('main, [role="main"]');if(at&&Fe(at))return void se(at);break;case"heading":const Ft=he.querySelector('h1, [role="heading"][aria-level="1"]');if(Ft&&Fe(Ft))return void se(Ft);break;case"banner":const Pt=he.querySelector('header, [role="banner"]');if(Pt&&Fe(Pt))return void se(Pt);break;default:(0,Ee.p)(`Unrecognized focus manager priority value ${yt}`)}se(he)}},tt=ie=>new Promise((oe,he)=>{(0,B.w)(()=>{Dt(ie),vt(ie).then(Ge=>{Ge.animation&&Ge.animation.destroy(),ue(ie),oe(Ge)},Ge=>{ue(ie),he(Ge)})})}),Dt=ie=>{const oe=ie.enteringEl,he=ie.leavingEl;ct_saveViewFocus(he),ft(oe,he,ie.direction),ie.showGoBack?oe.classList.add("can-go-back"):oe.classList.remove("can-go-back"),cn(oe,!1),oe.style.setProperty("pointer-events","none"),he&&(cn(he,!1),he.style.setProperty("pointer-events","none"))},vt=function(){var ie=(0,d.A)(function*(oe){const he=yield De(oe);return he&&B.B.isBrowser?Re(he,oe):Ke(oe)});return function(he){return ie.apply(this,arguments)}}(),ue=ie=>{const oe=ie.enteringEl,he=ie.leavingEl;oe.classList.remove("ion-page-invisible"),oe.style.removeProperty("pointer-events"),void 0!==he&&(he.classList.remove("ion-page-invisible"),he.style.removeProperty("pointer-events")),ct_setViewFocus(oe)},De=function(){var ie=(0,d.A)(function*(oe){return oe.leavingEl&&oe.animated&&0!==oe.duration?oe.animationBuilder?oe.animationBuilder:"ios"===oe.mode?(yield Promise.resolve().then(k.bind(k,5022))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,3615))).mdTransitionAnimation:void 0});return function(he){return ie.apply(this,arguments)}}(),Re=function(){var ie=(0,d.A)(function*(oe,he){yield nt(he,!0);const Ge=oe(he.baseEl,he);rt(he.enteringEl,he.leavingEl);const mt=yield pe(Ge,he);return he.progressCallback&&he.progressCallback(void 0),mt&&Ot(he.enteringEl,he.leavingEl),{hasCompleted:mt,animation:Ge}});return function(he,Ge){return ie.apply(this,arguments)}}(),Ke=function(){var ie=(0,d.A)(function*(oe){const he=oe.enteringEl,Ge=oe.leavingEl,mt=h.c.get("focusManagerPriority",!1);return yield nt(oe,mt),rt(he,Ge),Ot(he,Ge),{hasCompleted:!0}});return function(he){return ie.apply(this,arguments)}}(),nt=function(){var ie=(0,d.A)(function*(oe,he){(void 0!==oe.deepWait?oe.deepWait:he)&&(yield Promise.all([tn(oe.enteringEl),tn(oe.leavingEl)])),yield Ze(oe.viewIsReady,oe.enteringEl)});return function(he,Ge){return ie.apply(this,arguments)}}(),Ze=function(){var ie=(0,d.A)(function*(oe,he){oe&&(yield oe(he))});return function(he,Ge){return ie.apply(this,arguments)}}(),pe=(ie,oe)=>{const he=oe.progressCallback,Ge=new Promise(mt=>{ie.onFinish(yt=>mt(1===yt))});return he?(ie.progressStart(!0),he(ie)):ie.play(),Ge},rt=(ie,oe)=>{Xt(oe,Oe),Xt(ie,"ionViewWillEnter")},Ot=(ie,oe)=>{Xt(ie,"ionViewDidEnter"),Xt(oe,Ve)},Xt=(ie,oe)=>{if(ie){const he=new CustomEvent(oe,{bubbles:!1,cancelable:!1});ie.dispatchEvent(he)}},En=()=>new Promise(ie=>(0,J.r)(()=>(0,J.r)(()=>ie()))),tn=function(){var ie=(0,d.A)(function*(oe){const he=oe;if(he){if(null!=he.componentOnReady){if(null!=(yield he.componentOnReady()))return}else if(null!=he.__registerHost)return void(yield new Promise(mt=>(0,J.r)(mt)));yield Promise.all(Array.from(he.children).map(tn))}});return function(he){return ie.apply(this,arguments)}}(),cn=(ie,oe)=>{oe?(ie.setAttribute("aria-hidden","true"),ie.classList.add("ion-page-hidden")):(ie.hidden=!1,ie.removeAttribute("aria-hidden"),ie.classList.remove("ion-page-hidden"))},ft=(ie,oe,he)=>{void 0!==ie&&(ie.style.zIndex="back"===he?"99":"101"),void 0!==oe&&(oe.style.zIndex="100")},Me=ie=>ie.classList.contains("ion-page")?ie:ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ie},4929:(Mn,It,k)=>{"use strict";k.d(It,{a:()=>h,b:()=>B,p:()=>d});const d=(Ee,...J)=>console.warn(`[Ionic Warning]: ${Ee}`,...J),h=(Ee,...J)=>console.error(`[Ionic Error]: ${Ee}`,...J),B=(Ee,...J)=>console.error(`<${Ee.tagName.toLowerCase()}> must be used inside ${J.join(" or ")}.`)},8476:(Mn,It,k)=>{"use strict";k.d(It,{d:()=>h,w:()=>d});const d=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},9483:(Mn,It,k)=>{"use strict";k.d(It,{a:()=>se,b:()=>cn,c:()=>B,i:()=>ft});var d=k(4261);class h{constructor(){this.m=new Map}reset(ie){this.m=new Map(Object.entries(ie))}get(ie,oe){const he=this.m.get(ie);return void 0!==he?he:oe}getBoolean(ie,oe=!1){const he=this.m.get(ie);return void 0===he?oe:"string"==typeof he?"true"===he:!!he}getNumber(ie,oe){const he=parseFloat(this.m.get(ie));return isNaN(he)?void 0!==oe?oe:NaN:he}set(ie,oe){this.m.set(ie,oe)}}const B=new h,Ve="ionic-persist-config",se=(Me,ie)=>("string"==typeof Me&&(ie=Me,Me=void 0),(Me=>Fe(Me))(Me).includes(ie)),Fe=(Me=window)=>{if(typeof Me>"u")return[];Me.Ionic=Me.Ionic||{};let ie=Me.Ionic.platforms;return null==ie&&(ie=Me.Ionic.platforms=Ye(Me),ie.forEach(oe=>Me.document.documentElement.classList.add(`plt-${oe}`))),ie},Ye=Me=>{const ie=B.get("platform");return Object.keys(En).filter(oe=>{const he=null==ie?void 0:ie[oe];return"function"==typeof he?he(Me):En[oe](Me)})},ot=Me=>!!(Ot(Me,/iPad/i)||Ot(Me,/Macintosh/i)&&De(Me)),tt=Me=>Ot(Me,/android|sink/i),De=Me=>Xt(Me,"(any-pointer:coarse)"),Ke=Me=>nt(Me)||Ze(Me),nt=Me=>!!(Me.cordova||Me.phonegap||Me.PhoneGap),Ze=Me=>{const ie=Me.Capacitor;return!(null==ie||!ie.isNative)},Ot=(Me,ie)=>ie.test(Me.navigator.userAgent),Xt=(Me,ie)=>{var oe;return null===(oe=Me.matchMedia)||void 0===oe?void 0:oe.call(Me,ie).matches},En={ipad:ot,iphone:Me=>Ot(Me,/iPhone/i),ios:Me=>Ot(Me,/iPhone|iPod/i)||ot(Me),android:tt,phablet:Me=>{const ie=Me.innerWidth,oe=Me.innerHeight,he=Math.min(ie,oe),Ge=Math.max(ie,oe);return he>390&&he<520&&Ge>620&&Ge<800},tablet:Me=>{const ie=Me.innerWidth,oe=Me.innerHeight,he=Math.min(ie,oe),Ge=Math.max(ie,oe);return ot(Me)||(Me=>tt(Me)&&!Ot(Me,/mobile/i))(Me)||he>460&&he<820&&Ge>780&&Ge<1400},cordova:nt,capacitor:Ze,electron:Me=>Ot(Me,/electron/i),pwa:Me=>{var ie;return!!(null!==(ie=Me.matchMedia)&&void 0!==ie&&ie.call(Me,"(display-mode: standalone)").matches||Me.navigator.standalone)},mobile:De,mobileweb:Me=>De(Me)&&!Ke(Me),desktop:Me=>!De(Me),hybrid:Ke};let tn;const cn=Me=>Me&&(0,d.g)(Me)||tn,ft=(Me={})=>{if(typeof window>"u")return;const ie=window.document,oe=window,he=oe.Ionic=oe.Ionic||{},Ge={};Me._ael&&(Ge.ael=Me._ael),Me._rel&&(Ge.rel=Me._rel),Me._ce&&(Ge.ce=Me._ce),(0,d.a)(Ge);const mt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Me=>{try{const ie=Me.sessionStorage.getItem(Ve);return null!==ie?JSON.parse(ie):{}}catch{return{}}})(oe)),{persistConfig:!1}),he.config),(Me=>{const ie={};return Me.location.search.slice(1).split("&").map(oe=>oe.split("=")).map(([oe,he])=>{try{return[decodeURIComponent(oe),decodeURIComponent(he)]}catch{return["",""]}}).filter(([oe])=>((Me,ie)=>Me.substr(0,ie.length)===ie)(oe,"ionic:")).map(([oe,he])=>[oe.slice(6),he]).forEach(([oe,he])=>{ie[oe]=he}),ie})(oe)),Me);B.reset(mt),B.getBoolean("persistConfig")&&((Me,ie)=>{try{Me.sessionStorage.setItem(Ve,JSON.stringify(ie))}catch{return}})(oe,mt),Fe(oe),he.config=B,he.mode=tn=B.get("mode",ie.documentElement.getAttribute("mode")||(se(oe,"ios")?"ios":"md")),B.set("mode",tn),ie.documentElement.setAttribute("mode",tn),ie.documentElement.classList.add(tn),B.getBoolean("_testing")&&B.set("animated",!1);const yt=Ft=>{var Pt;return null===(Pt=Ft.tagName)||void 0===Pt?void 0:Pt.startsWith("ION-")},at=Ft=>["ios","md"].includes(Ft);(0,d.c)(Ft=>{for(;Ft;){const Pt=Ft.mode||Ft.getAttribute("mode");if(Pt){if(at(Pt))return Pt;yt(Ft)&&console.warn('Invalid ionic mode: "'+Pt+'", expected: "ios" or "md"')}Ft=Ft.parentElement}return tn})}},5022:(Mn,It,k)=>{"use strict";k.r(It),k.d(It,{iosTransitionAnimation:()=>Xe,shadow:()=>Oe});var d=k(9986),h=k(3604);k(8476),k(9483),k(4261);const Se=ut=>document.querySelector(`${ut}.ion-cloned-element`),Oe=ut=>ut.shadowRoot||ut,Ve=ut=>{const ct="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs"),tt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ct){const Dt=ct.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Dt?Dt.querySelector(tt):null}return ut.querySelector(tt)},we=(ut,ct)=>{const tt="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs");let Dt=[];if(null!=tt){const vt=tt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=vt&&(Dt=vt.querySelectorAll("ion-buttons"))}else Dt=ut.querySelectorAll("ion-buttons");for(const vt of Dt){const ue=vt.closest("ion-header"),De=ue&&!ue.classList.contains("header-collapse-condense-inactive"),Re=vt.querySelector("ion-back-button"),Ke=vt.classList.contains("buttons-collapse");if(null!==Re&&("start"===vt.slot||""===vt.slot)&&(Ke&&De&&ct||!Ke))return Re}return null},Fe=(ut,ct,tt,Dt,vt,ue,De,Re,Ke)=>{var nt,Ze;const pe=ct?`calc(100% - ${vt.right+4}px)`:vt.left-4+"px",rt=ct?"right":"left",Ot=ct?"left":"right",Xt=ct?"right":"left";let En=1,tn=1,cn=`scale(${tn})`;const ft="scale(1)";if(ue&&De){const Ue=(null===(nt=ue.textContent)||void 0===nt?void 0:nt.trim())===(null===(Ze=Re.textContent)||void 0===Ze?void 0:Ze.trim());En=Ke.width/De.width,tn=(Ke.height-ot)/De.height,cn=Ue?`scale(${En}, ${tn})`:`scale(${tn})`}const ie=Oe(Dt).querySelector("ion-icon").getBoundingClientRect(),oe=ct?ie.width/2-(ie.right-vt.right)+"px":vt.left-ie.width/2+"px",he=ct?`-${window.innerWidth-vt.right}px`:`${vt.left}px`,Ge=`${Ke.top}px`,mt=`${vt.top}px`,Ft=tt?[{offset:0,transform:`translate3d(${he}, ${mt}, 0)`},{offset:1,transform:`translate3d(${oe}, ${Ge}, 0)`}]:[{offset:0,transform:`translate3d(${oe}, ${Ge}, 0)`},{offset:1,transform:`translate3d(${he}, ${mt}, 0)`}],Nn=tt?[{offset:0,opacity:1,transform:ft},{offset:1,opacity:0,transform:cn}]:[{offset:0,opacity:0,transform:cn},{offset:1,opacity:1,transform:ft}],Ln=tt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],jn=(0,d.c)(),qt=(0,d.c)(),Zt=(0,d.c)(),rr=Se("ion-back-button"),ln=Oe(rr).querySelector(".button-text"),$e=Oe(rr).querySelector("ion-icon");rr.text=Dt.text,rr.mode=Dt.mode,rr.icon=Dt.icon,rr.color=Dt.color,rr.disabled=Dt.disabled,rr.style.setProperty("display","block"),rr.style.setProperty("position","fixed"),qt.addElement($e),jn.addElement(ln),Zt.addElement(rr),Zt.beforeStyles({position:"absolute",top:"0px",[Xt]:"0px"}).beforeAddWrite(()=>{Dt.style.setProperty("display","none"),rr.style.setProperty(rt,pe)}).afterAddWrite(()=>{Dt.style.setProperty("display",""),rr.style.setProperty("display","none"),rr.style.removeProperty(rt)}).keyframes(Ft),jn.beforeStyles({"transform-origin":`${rt} top`}).keyframes(Nn),qt.beforeStyles({"transform-origin":`${Ot} center`}).keyframes(Ln),ut.addAnimation([jn,qt,Zt])},Ye=(ut,ct,tt,Dt,vt,ue,De,Re,Ke)=>{var nt,Ze;const pe=ct?"right":"left",rt=ct?`calc(100% - ${vt.right}px)`:`${vt.left}px`,Xt=`${vt.top}px`;let tn=ct?`-${window.innerWidth-De.right-8}px`:`${De.x+8}px`,cn=.5;const ft="scale(1)";let Me=`scale(${cn})`;if(Re&&Ke){tn=ct?`-${window.innerWidth-Ke.right-8}px`:Ke.x-8+"px";const Pt=(null===(nt=Re.textContent)||void 0===nt?void 0:nt.trim())===(null===(Ze=Dt.textContent)||void 0===Ze?void 0:Ze.trim());cn=Ke.height/(ue.height-ot),Me=Pt?`scale(${Ke.width/ue.width}, ${cn})`:`scale(${cn})`}const he=De.top+De.height/2-vt.height*cn/2+"px",yt=tt?[{offset:0,opacity:0,transform:`translate3d(${tn}, ${he}, 0) ${Me}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Xt}, 0) ${ft}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Xt}, 0) ${ft}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${tn}, ${he}, 0) ${Me}`}],at=Se("ion-title"),Ft=(0,d.c)();at.innerText=Dt.innerText,at.size=Dt.size,at.color=Dt.color,Ft.addElement(at),Ft.beforeStyles({"transform-origin":`${pe} top`,height:`${vt.height}px`,display:"",position:"relative",[pe]:rt}).beforeAddWrite(()=>{Dt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Dt.style.setProperty("opacity",""),at.style.setProperty("display","none")}).keyframes(yt),ut.addAnimation(Ft)},Xe=(ut,ct)=>{var tt;try{const Dt="cubic-bezier(0.32,0.72,0,1)",vt="opacity",ue="transform",De="0%",Ke="rtl"===ut.ownerDocument.dir,nt=Ke?"-99.5%":"99.5%",Ze=Ke?"33%":"-33%",pe=ct.enteringEl,rt=ct.leavingEl,Ot="back"===ct.direction,Xt=pe.querySelector(":scope > ion-content"),En=pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),tn=pe.querySelectorAll(":scope > ion-header > ion-toolbar"),cn=(0,d.c)(),ft=(0,d.c)();if(cn.addElement(pe).duration((null!==(tt=ct.duration)&&void 0!==tt?tt:0)||540).easing(ct.easing||Dt).fill("both").beforeRemoveClass("ion-page-invisible"),rt&&null!=ut){const he=(0,d.c)();he.addElement(ut),cn.addAnimation(he)}if(Xt||0!==tn.length||0!==En.length?(ft.addElement(Xt),ft.addElement(En)):ft.addElement(pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),cn.addAnimation(ft),Ot?ft.beforeClearStyles([vt]).fromTo("transform",`translateX(${Ze})`,`translateX(${De})`).fromTo(vt,.8,1):ft.beforeClearStyles([vt]).fromTo("transform",`translateX(${nt})`,`translateX(${De})`),Xt){const he=Oe(Xt).querySelector(".transition-effect");if(he){const Ge=he.querySelector(".transition-cover"),mt=he.querySelector(".transition-shadow"),yt=(0,d.c)(),at=(0,d.c)(),Ft=(0,d.c)();yt.addElement(he).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),at.addElement(Ge).beforeClearStyles([vt]).fromTo(vt,0,.1),Ft.addElement(mt).beforeClearStyles([vt]).fromTo(vt,.03,.7),yt.addAnimation([at,Ft]),ft.addAnimation([yt])}}const Me=pe.querySelector("ion-header.header-collapse-condense"),{forward:ie,backward:oe}=((ut,ct,tt,Dt,vt)=>{const ue=we(Dt,tt),De=Ve(vt),Re=Ve(Dt),Ke=we(vt,tt),nt=null!==ue&&null!==De&&!tt,Ze=null!==Re&&null!==Ke&&tt;if(nt){const pe=De.getBoundingClientRect(),rt=ue.getBoundingClientRect(),Ot=Oe(ue).querySelector(".button-text"),Xt=null==Ot?void 0:Ot.getBoundingClientRect(),tn=Oe(De).querySelector(".toolbar-title").getBoundingClientRect();Ye(ut,ct,tt,De,pe,tn,rt,Ot,Xt),Fe(ut,ct,tt,ue,rt,Ot,Xt,De,tn)}else if(Ze){const pe=Re.getBoundingClientRect(),rt=Ke.getBoundingClientRect(),Ot=Oe(Ke).querySelector(".button-text"),Xt=null==Ot?void 0:Ot.getBoundingClientRect(),tn=Oe(Re).querySelector(".toolbar-title").getBoundingClientRect();Ye(ut,ct,tt,Re,pe,tn,rt,Ot,Xt),Fe(ut,ct,tt,Ke,rt,Ot,Xt,Re,tn)}return{forward:nt,backward:Ze}})(cn,Ke,Ot,pe,rt);if(tn.forEach(he=>{const Ge=(0,d.c)();Ge.addElement(he),cn.addAnimation(Ge);const mt=(0,d.c)();mt.addElement(he.querySelector("ion-title"));const yt=(0,d.c)(),at=Array.from(he.querySelectorAll("ion-buttons,[menuToggle]")),Ft=he.closest("ion-header"),Pt=null==Ft?void 0:Ft.classList.contains("header-collapse-condense-inactive");let wt;wt=at.filter(Ot?jn=>{const qt=jn.classList.contains("buttons-collapse");return qt&&!Pt||!qt}:jn=>!jn.classList.contains("buttons-collapse")),yt.addElement(wt);const Nn=(0,d.c)();Nn.addElement(he.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const St=(0,d.c)();St.addElement(Oe(he).querySelector(".toolbar-background"));const kn=(0,d.c)(),Ln=he.querySelector("ion-back-button");if(Ln&&kn.addElement(Ln),Ge.addAnimation([mt,yt,Nn,St,kn]),yt.fromTo(vt,.01,1),Nn.fromTo(vt,.01,1),Ot)Pt||mt.fromTo("transform",`translateX(${Ze})`,`translateX(${De})`).fromTo(vt,.01,1),Nn.fromTo("transform",`translateX(${Ze})`,`translateX(${De})`),kn.fromTo(vt,.01,1);else if(Me||mt.fromTo("transform",`translateX(${nt})`,`translateX(${De})`).fromTo(vt,.01,1),Nn.fromTo("transform",`translateX(${nt})`,`translateX(${De})`),St.beforeClearStyles([vt,"transform"]),(null==Ft?void 0:Ft.translucent)?St.fromTo("transform",Ke?"translateX(-100%)":"translateX(100%)","translateX(0px)"):St.fromTo(vt,.01,"var(--opacity)"),ie||kn.fromTo(vt,.01,1),Ln&&!ie){const qt=(0,d.c)();qt.addElement(Oe(Ln).querySelector(".button-text")).fromTo("transform",Ke?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ge.addAnimation(qt)}}),rt){const he=(0,d.c)(),Ge=rt.querySelector(":scope > ion-content"),mt=rt.querySelectorAll(":scope > ion-header > ion-toolbar"),yt=rt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ge||0!==mt.length||0!==yt.length?(he.addElement(Ge),he.addElement(yt)):he.addElement(rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),cn.addAnimation(he),Ot){he.beforeClearStyles([vt]).fromTo("transform",`translateX(${De})`,Ke?"translateX(-100%)":"translateX(100%)");const at=(0,h.g)(rt);cn.afterAddWrite(()=>{"normal"===cn.getDirection()&&at.style.setProperty("display","none")})}else he.fromTo("transform",`translateX(${De})`,`translateX(${Ze})`).fromTo(vt,1,.8);if(Ge){const at=Oe(Ge).querySelector(".transition-effect");if(at){const Ft=at.querySelector(".transition-cover"),Pt=at.querySelector(".transition-shadow"),wt=(0,d.c)(),Nn=(0,d.c)(),St=(0,d.c)();wt.addElement(at).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Nn.addElement(Ft).beforeClearStyles([vt]).fromTo(vt,.1,0),St.addElement(Pt).beforeClearStyles([vt]).fromTo(vt,.7,.03),wt.addAnimation([Nn,St]),he.addAnimation([wt])}}mt.forEach(at=>{const Ft=(0,d.c)();Ft.addElement(at);const Pt=(0,d.c)();Pt.addElement(at.querySelector("ion-title"));const wt=(0,d.c)(),Nn=at.querySelectorAll("ion-buttons,[menuToggle]"),St=at.closest("ion-header"),kn=null==St?void 0:St.classList.contains("header-collapse-condense-inactive"),Ln=Array.from(Nn).filter($e=>{const Ue=$e.classList.contains("buttons-collapse");return Ue&&!kn||!Ue});wt.addElement(Ln);const jn=(0,d.c)(),qt=at.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");qt.length>0&&jn.addElement(qt);const Zt=(0,d.c)();Zt.addElement(Oe(at).querySelector(".toolbar-background"));const rr=(0,d.c)(),ln=at.querySelector("ion-back-button");if(ln&&rr.addElement(ln),Ft.addAnimation([Pt,wt,jn,rr,Zt]),cn.addAnimation(Ft),rr.fromTo(vt,.99,0),wt.fromTo(vt,.99,0),jn.fromTo(vt,.99,0),Ot){if(kn||Pt.fromTo("transform",`translateX(${De})`,Ke?"translateX(-100%)":"translateX(100%)").fromTo(vt,.99,0),jn.fromTo("transform",`translateX(${De})`,Ke?"translateX(-100%)":"translateX(100%)"),Zt.beforeClearStyles([vt,"transform"]),(null==St?void 0:St.translucent)?Zt.fromTo("transform","translateX(0px)",Ke?"translateX(-100%)":"translateX(100%)"):Zt.fromTo(vt,"var(--opacity)",0),ln&&!oe){const Ue=(0,d.c)();Ue.addElement(Oe(ln).querySelector(".button-text")).fromTo("transform",`translateX(${De})`,`translateX(${(Ke?-124:124)+"px"})`),Ft.addAnimation(Ue)}}else kn||Pt.fromTo("transform",`translateX(${De})`,`translateX(${Ze})`).fromTo(vt,.99,0).afterClearStyles([ue,vt]),jn.fromTo("transform",`translateX(${De})`,`translateX(${Ze})`).afterClearStyles([ue,vt]),rr.afterClearStyles([vt]),Pt.afterClearStyles([vt]),wt.afterClearStyles([vt])})}return cn}catch(Dt){throw Dt}},ot=10},3615:(Mn,It,k)=>{"use strict";k.r(It),k.d(It,{mdTransitionAnimation:()=>ye});var d=k(9986),h=k(3604);k(8476),k(9483),k(4261);const ye=(Se,Oe)=>{var Ve,we,se;const Xe="back"===Oe.direction,ut=Oe.leavingEl,ct=(0,h.g)(Oe.enteringEl),tt=ct.querySelector("ion-toolbar"),Dt=(0,d.c)();if(Dt.addElement(ct).fill("both").beforeRemoveClass("ion-page-invisible"),Xe?Dt.duration((null!==(Ve=Oe.duration)&&void 0!==Ve?Ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Dt.duration((null!==(we=Oe.duration)&&void 0!==we?we:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),tt){const vt=(0,d.c)();vt.addElement(tt),Dt.addAnimation(vt)}if(ut&&Xe){Dt.duration((null!==(se=Oe.duration)&&void 0!==se?se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const vt=(0,d.c)();vt.addElement((0,h.g)(ut)).onFinish(ue=>{1===ue&&vt.elements.length>0&&vt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Dt.addAnimation(vt)}return Dt}},5229:(Mn,It,k)=>{"use strict";k.d(It,{B:()=>Nn,F:()=>ln,G:()=>St,O:()=>kn,a:()=>ct,b:()=>tt,c:()=>De,d:()=>Ln,e:()=>jn,f:()=>ie,g:()=>he,h:()=>yt,i:()=>Ft,j:()=>Ke,k:()=>nt,m:()=>vt,n:()=>we,o:()=>ft,q:()=>se,s:()=>wt});var d=k(467),h=k(8476),B=k(4920),Ee=k(7192),J=k(9483),ye=k(8621),Se=k(1970),Oe=k(4929);const Ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',we=($e,Ue)=>{const Lt=$e.querySelector(Ve);Fe(Lt,null!=Ue?Ue:$e)},se=($e,Ue)=>{const Lt=Array.from($e.querySelectorAll(Ve));Fe(Lt.length>0?Lt[Lt.length-1]:null,null!=Ue?Ue:$e)},Fe=($e,Ue)=>{let Lt=$e;const yn=null==$e?void 0:$e.shadowRoot;yn&&(Lt=yn.querySelector(Ve)||$e),Lt?(0,B.f)(Lt):Ue.focus()};let Ye=0,Xe=0;const ot=new WeakMap,ut=$e=>({create:Ue=>Ze($e,Ue),dismiss:(Ue,Lt,yn)=>En(document,Ue,Lt,$e,yn),getTop:()=>(0,d.A)(function*(){return ft(document,$e)})()}),ct=ut("ion-alert"),tt=ut("ion-action-sheet"),vt=ut("ion-modal"),De=ut("ion-popover"),Ke=$e=>{typeof document<"u"&&Xt(document);const Ue=Ye++;$e.overlayIndex=Ue},nt=$e=>($e.hasAttribute("id")||($e.id="ion-overlay-"+ ++Xe),$e.id),Ze=($e,Ue)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined($e).then(()=>{const Lt=document.createElement($e);return Lt.classList.add("overlay-hidden"),Object.assign(Lt,Object.assign(Object.assign({},Ue),{hasController:!0})),Ge(document).appendChild(Lt),new Promise(yn=>(0,B.c)(Lt,yn))}):Promise.resolve(),rt=($e,Ue)=>{let Lt=$e;const yn=null==$e?void 0:$e.shadowRoot;yn&&(Lt=yn.querySelector(Ve)||$e),Lt?(0,B.f)(Lt):Ue.focus()},Xt=$e=>{0===Ye&&(Ye=1,$e.addEventListener("focus",Ue=>{(($e,Ue)=>{const Lt=ft(Ue,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),yn=$e.target;Lt&&yn&&!Lt.classList.contains(ln)&&(Lt.shadowRoot?(()=>{if(Lt.contains(yn))Lt.lastFocus=yn;else if("ION-TOAST"===yn.tagName)rt(Lt.lastFocus,Lt);else{const Hn=Lt.lastFocus;we(Lt),Hn===Ue.activeElement&&se(Lt),Lt.lastFocus=Ue.activeElement}})():(()=>{if(Lt===yn)Lt.lastFocus=void 0;else if("ION-TOAST"===yn.tagName)rt(Lt.lastFocus,Lt);else{const Hn=(0,B.g)(Lt);if(!Hn.contains(yn))return;const zt=Hn.querySelector(".ion-overlay-wrapper");if(!zt)return;if(zt.contains(yn)||yn===Hn.querySelector("ion-backdrop"))Lt.lastFocus=yn;else{const gr=Lt.lastFocus;we(zt,Lt),gr===Ue.activeElement&&se(zt,Lt),Lt.lastFocus=Ue.activeElement}}})())})(Ue,$e)},!0),$e.addEventListener("ionBackButton",Ue=>{const Lt=ft($e);null!=Lt&&Lt.backdropDismiss&&Ue.detail.register(Ee.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Lt.dismiss(void 0,Nn)})}),(0,Ee.shouldUseCloseWatcher)()||$e.addEventListener("keydown",Ue=>{if("Escape"===Ue.key){const Lt=ft($e);null!=Lt&&Lt.backdropDismiss&&Lt.dismiss(void 0,Nn)}}))},En=($e,Ue,Lt,yn,ir)=>{const lr=ft($e,yn,ir);return lr?lr.dismiss(Ue,Lt):Promise.reject("overlay does not exist")},cn=($e,Ue)=>(($e,Ue)=>(void 0===Ue&&(Ue="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from($e.querySelectorAll(Ue)).filter(Lt=>Lt.overlayIndex>0)))($e,Ue).filter(Lt=>!($e=>$e.classList.contains("overlay-hidden"))(Lt)),ft=($e,Ue,Lt)=>{const yn=cn($e,Ue);return void 0===Lt?yn[yn.length-1]:yn.find(ir=>ir.id===Lt)},Me=($e=!1)=>{const Lt=Ge(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Lt&&($e?Lt.setAttribute("aria-hidden","true"):Lt.removeAttribute("aria-hidden"))},ie=function(){var $e=(0,d.A)(function*(Ue,Lt,yn,ir,lr){var Hn,zt;if(Ue.presented)return;"ION-TOAST"!==Ue.el.tagName&&Me(!0),document.body.classList.add(Se.B),Zt(Ue.el),qt(Ue.el),Ue.presented=!0,Ue.willPresent.emit(),null===(Hn=Ue.willPresentShorthand)||void 0===Hn||Hn.emit();const gr=(0,J.b)(Ue),ur=Ue.enterAnimation?Ue.enterAnimation:J.c.get(Lt,"ios"===gr?yn:ir);(yield mt(Ue,ur,Ue.el,lr))&&(Ue.didPresent.emit(),null===(zt=Ue.didPresentShorthand)||void 0===zt||zt.emit()),"ION-TOAST"!==Ue.el.tagName&&oe(Ue.el),Ue.keyboardClose&&(null===document.activeElement||!Ue.el.contains(document.activeElement))&&Ue.el.focus(),Ue.el.removeAttribute("aria-hidden")});return function(Lt,yn,ir,lr,Hn){return $e.apply(this,arguments)}}(),oe=function(){var $e=(0,d.A)(function*(Ue){let Lt=document.activeElement;if(!Lt)return;const yn=null==Lt?void 0:Lt.shadowRoot;yn&&(Lt=yn.querySelector(Ve)||Lt),yield Ue.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Lt.focus()});return function(Lt){return $e.apply(this,arguments)}}(),he=function(){var $e=(0,d.A)(function*(Ue,Lt,yn,ir,lr,Hn,zt){var gr,ur;if(!Ue.presented)return!1;const mr=void 0!==h.d?cn(h.d).filter(Lr=>"ION-TOAST"!==Lr.tagName):[];1===mr.length&&mr[0].id===Ue.el.id&&(Me(!1),document.body.classList.remove(Se.B)),Ue.presented=!1;try{qt(Ue.el),Ue.el.style.setProperty("pointer-events","none"),Ue.willDismiss.emit({data:Lt,role:yn}),null===(gr=Ue.willDismissShorthand)||void 0===gr||gr.emit({data:Lt,role:yn});const Lr=(0,J.b)(Ue),Ni=Ue.leaveAnimation?Ue.leaveAnimation:J.c.get(ir,"ios"===Lr?lr:Hn);yn!==St&&(yield mt(Ue,Ni,Ue.el,zt)),Ue.didDismiss.emit({data:Lt,role:yn}),null===(ur=Ue.didDismissShorthand)||void 0===ur||ur.emit({data:Lt,role:yn}),(ot.get(Ue)||[]).forEach(wi=>wi.destroy()),ot.delete(Ue),Ue.el.classList.add("overlay-hidden"),Ue.el.style.removeProperty("pointer-events"),void 0!==Ue.el.lastFocus&&(Ue.el.lastFocus=void 0)}catch(Lr){console.error(Lr)}return Ue.el.remove(),rr(),!0});return function(Lt,yn,ir,lr,Hn,zt,gr){return $e.apply(this,arguments)}}(),Ge=$e=>$e.querySelector("ion-app")||$e.body,mt=function(){var $e=(0,d.A)(function*(Ue,Lt,yn,ir){yn.classList.remove("overlay-hidden");const Hn=Lt(Ue.el,ir);(!Ue.animated||!J.c.getBoolean("animated",!0))&&Hn.duration(0),Ue.keyboardClose&&Hn.beforeAddWrite(()=>{const gr=yn.ownerDocument.activeElement;null!=gr&&gr.matches("input,ion-input, ion-textarea")&&gr.blur()});const zt=ot.get(Ue)||[];return ot.set(Ue,[...zt,Hn]),yield Hn.play(),!0});return function(Lt,yn,ir,lr){return $e.apply(this,arguments)}}(),yt=($e,Ue)=>{let Lt;const yn=new Promise(ir=>Lt=ir);return at($e,Ue,ir=>{Lt(ir.detail)}),yn},at=($e,Ue,Lt)=>{const yn=ir=>{(0,B.b)($e,Ue,yn),Lt(ir)};(0,B.a)($e,Ue,yn)},Ft=$e=>"cancel"===$e||$e===Nn,Pt=$e=>$e(),wt=($e,Ue)=>{if("function"==typeof $e)return J.c.get("_zoneGate",Pt)(()=>{try{return $e(Ue)}catch(yn){throw yn}})},Nn="backdrop",St="gesture",kn=39,Ln=$e=>{let Lt,Ue=!1;const yn=(0,ye.C)(),ir=(zt=!1)=>{if(Lt&&!zt)return{delegate:Lt,inline:Ue};const{el:gr,hasController:ur,delegate:mr}=$e;return Ue=null!==gr.parentNode&&!ur,Lt=Ue?mr||yn:mr,{inline:Ue,delegate:Lt}};return{attachViewToDom:function(){var zt=(0,d.A)(function*(gr){const{delegate:ur}=ir(!0);if(ur)return yield ur.attachViewToDom($e.el,gr);const{hasController:mr}=$e;if(mr&&void 0!==gr)throw new Error("framework delegate is missing");return null});return function(ur){return zt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:zt}=ir();zt&&void 0!==$e.el&&zt.removeViewFromDom($e.el.parentElement,$e.el)}}},jn=()=>{let $e;const Ue=()=>{$e&&($e(),$e=void 0)};return{addClickListener:(yn,ir)=>{Ue();const lr=void 0!==ir?document.getElementById(ir):null;lr?$e=((zt,gr)=>{const ur=()=>{gr.present()};return zt.addEventListener("click",ur),()=>{zt.removeEventListener("click",ur)}})(lr,yn):(0,Oe.p)(`A trigger element with the ID "${ir}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,yn)},removeClickListener:Ue}},qt=$e=>{void 0!==h.d&&$e.setAttribute("aria-hidden","true")},Zt=$e=>{var Ue;if(void 0===h.d)return;const Lt=cn(h.d);for(let yn=Lt.length-1;yn>=0;yn--){const ir=Lt[yn],lr=null!==(Ue=Lt[yn+1])&&void 0!==Ue?Ue:$e;(lr.hasAttribute("aria-hidden")||"ION-TOAST"!==lr.tagName)&&ir.setAttribute("aria-hidden","true")}},rr=()=>{if(void 0===h.d)return;const $e=cn(h.d);for(let Ue=$e.length-1;Ue>=0;Ue--){const Lt=$e[Ue];if(Lt.removeAttribute("aria-hidden"),"ION-TOAST"!==Lt.tagName)break}},ln="ion-disable-focus-trap"},369:(Mn,It,k)=>{"use strict";k.d(It,{w:()=>ye});var d=k(467),h=k(119),B=k.n(h);const Ee={SecureStorage:"ionicSecureStorage",IndexedDB:B().INDEXEDDB,LocalStorage:B().LOCALSTORAGE},J={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[Ee.SecureStorage,Ee.IndexedDB,Ee.LocalStorage]};class ye{constructor(Oe=J){this._db=null,this._secureStorageDriver=null;const Ve=Object.assign({},J,Oe||{});this._config=Ve}create(){var Oe=this;return(0,d.A)(function*(){const Ve=B().createInstance(Oe._config);return Oe._db=Ve,yield Ve.setDriver(Oe._config.driverOrder||[]),Oe})()}defineDriver(Oe){var Ve=this;return(0,d.A)(function*(){return Oe._driver===Ee.SecureStorage&&(Ve._secureStorageDriver=Oe),B().defineDriver(Oe)})()}get driver(){var Oe;return(null===(Oe=this._db)||void 0===Oe?void 0:Oe.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(Oe){return this.assertDb().getItem(Oe)}set(Oe,Ve){return this.assertDb().setItem(Oe,Ve)}remove(Oe){return this.assertDb().removeItem(Oe)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(Oe){return this.assertDb().iterate(Oe)}setEncryptionKey(Oe){var Ve;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(Ve=this._secureStorageDriver)||void 0===Ve||Ve.setEncryptionKey(Oe)}}},5553:(Mn,It,k)=>{"use strict";k.d(It,{h:()=>J});var d=k(177),h=k(4742),B=k(9384),Ee=k(3953);let J=(()=>{var ye;class Se{}return(ye=Se).\u0275fac=function(Ve){return new(Ve||ye)},ye.\u0275mod=Ee.$C({type:ye}),ye.\u0275inj=Ee.G2t({imports:[d.MD,h.bv,B.iI]}),Se})()},6927:(Mn,It,k)=>{"use strict";var d=k(345),h=k(9384),B=k(2872),Ee=k(4742),J=k(3953);const ye=[{path:"home",loadChildren:()=>Promise.all([k.e(2076),k.e(6465)]).then(k.bind(k,6465)).then(v=>v.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"registro",loadChildren:()=>Promise.all([k.e(2076),k.e(7386)]).then(k.bind(k,7386)).then(v=>v.RegistroPageModule)},{path:"mapa",loadChildren:()=>k.e(8547).then(k.bind(k,8547)).then(v=>v.MapaPageModule)},{path:"colaboradores",loadChildren:()=>k.e(3276).then(k.bind(k,3276)).then(v=>v.ColaboradoresPageModule)},{path:"login",loadChildren:()=>Promise.all([k.e(2076),k.e(539)]).then(k.bind(k,539)).then(v=>v.LoginPageModule)},{path:"informacion",loadChildren:()=>Promise.all([k.e(2076),k.e(6952)]).then(k.bind(k,6952)).then(v=>v.InformacionPageModule)},{path:"quienessomos",loadChildren:()=>Promise.all([k.e(2076),k.e(3195)]).then(k.bind(k,3195)).then(v=>v.QuienessomosPageModule)},{path:"personas",loadChildren:()=>Promise.all([k.e(2076),k.e(6130)]).then(k.bind(k,6130)).then(v=>v.PersonasPageModule)},{path:"chatbot",loadChildren:()=>k.e(9178).then(k.bind(k,9178)).then(v=>v.ChatbotPageModule)},{path:"reset-password",loadChildren:()=>Promise.all([k.e(2076),k.e(4240)]).then(k.bind(k,4240)).then(v=>v.ResetPasswordPageModule)},{path:"reporte",loadChildren:()=>k.e(7844).then(k.bind(k,7844)).then(v=>v.ReportePageModule)},{path:"visualizar",loadChildren:()=>k.e(3701).then(k.bind(k,3701)).then(v=>v.VisualizarPageModule)},{path:"generarinforme",loadChildren:()=>k.e(398).then(k.bind(k,398)).then(v=>v.GenerarinformePageModule)}];let Se=(()=>{var v;class m{}return(v=m).\u0275fac=function(L){return new(L||v)},v.\u0275mod=J.$C({type:v}),v.\u0275inj=J.G2t({imports:[h.iI.forRoot(ye,{preloadingStrategy:h.Kp}),h.iI]}),m})(),Oe=(()=>{var v;class m{constructor(){}}return(v=m).\u0275fac=function(L){return new(L||v)},v.\u0275cmp=J.VBU({type:v,selectors:[["app-root"]],decls:2,vars:0,template:function(L,Y){1&L&&(J.j41(0,"ion-app"),J.nrm(1,"ion-router-outlet"),J.k0s())},dependencies:[Ee.U1,Ee.Rg]}),m})();var Ve=k(467),we=k(177),se=k(369);const Fe=new J.nKC("STORAGE_CONFIG_TOKEN");class Ye extends se.w{constructor(){super()}create(){var m=this;return(0,Ve.A)(function*(){return m})()}defineDriver(){return(0,Ve.A)(function*(){})()}get driver(){return"noop"}get(m){return(0,Ve.A)(function*(){return null})()}set(m,P){return(0,Ve.A)(function*(){})()}remove(m){return(0,Ve.A)(function*(){})()}clear(){return(0,Ve.A)(function*(){})()}length(){return(0,Ve.A)(function*(){return 0})()}keys(){return(0,Ve.A)(function*(){return[]})()}forEach(m){return(0,Ve.A)(function*(){})()}setEncryptionKey(m){}}function Xe(v,m){return(0,we.Vy)(v)?new Ye:new se.w(m)}let ot=(()=>{class v{static forRoot(P=null){return{ngModule:v,providers:[{provide:Fe,useValue:P},{provide:se.w,useFactory:Xe,deps:[J.Agw,Fe]}]}}}return v.\u0275fac=function(P){return new(P||v)},v.\u0275mod=J.$C({type:v}),v.\u0275inj=J.G2t({}),v})();var ut=k(7673),ct=k(1985),tt=k(8455),Dt=k(274),vt=k(5964),ue=k(6354),De=k(980),Re=k(5558);class Ke{}class nt{}class Ze{constructor(m){this.normalizedNames=new Map,this.lazyUpdate=null,m?"string"==typeof m?this.lazyInit=()=>{this.headers=new Map,m.split("\n").forEach(P=>{const L=P.indexOf(":");if(L>0){const Y=P.slice(0,L),be=Y.toLowerCase(),it=P.slice(L+1).trim();this.maybeSetNormalizedName(Y,be),this.headers.has(be)?this.headers.get(be).push(it):this.headers.set(be,[it])}})}:typeof Headers<"u"&&m instanceof Headers?(this.headers=new Map,m.forEach((P,L)=>{this.setHeaderEntries(L,P)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(m).forEach(([P,L])=>{this.setHeaderEntries(P,L)})}:this.headers=new Map}has(m){return this.init(),this.headers.has(m.toLowerCase())}get(m){this.init();const P=this.headers.get(m.toLowerCase());return P&&P.length>0?P[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(m){return this.init(),this.headers.get(m.toLowerCase())||null}append(m,P){return this.clone({name:m,value:P,op:"a"})}set(m,P){return this.clone({name:m,value:P,op:"s"})}delete(m,P){return this.clone({name:m,value:P,op:"d"})}maybeSetNormalizedName(m,P){this.normalizedNames.has(P)||this.normalizedNames.set(P,m)}init(){this.lazyInit&&(this.lazyInit instanceof Ze?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(m=>this.applyUpdate(m)),this.lazyUpdate=null))}copyFrom(m){m.init(),Array.from(m.headers.keys()).forEach(P=>{this.headers.set(P,m.headers.get(P)),this.normalizedNames.set(P,m.normalizedNames.get(P))})}clone(m){const P=new Ze;return P.lazyInit=this.lazyInit&&this.lazyInit instanceof Ze?this.lazyInit:this,P.lazyUpdate=(this.lazyUpdate||[]).concat([m]),P}applyUpdate(m){const P=m.name.toLowerCase();switch(m.op){case"a":case"s":let L=m.value;if("string"==typeof L&&(L=[L]),0===L.length)return;this.maybeSetNormalizedName(m.name,P);const Y=("a"===m.op?this.headers.get(P):void 0)||[];Y.push(...L),this.headers.set(P,Y);break;case"d":const be=m.value;if(be){let it=this.headers.get(P);if(!it)return;it=it.filter(Mt=>-1===be.indexOf(Mt)),0===it.length?(this.headers.delete(P),this.normalizedNames.delete(P)):this.headers.set(P,it)}else this.headers.delete(P),this.normalizedNames.delete(P)}}setHeaderEntries(m,P){const L=(Array.isArray(P)?P:[P]).map(be=>be.toString()),Y=m.toLowerCase();this.headers.set(Y,L),this.maybeSetNormalizedName(m,Y)}forEach(m){this.init(),Array.from(this.normalizedNames.keys()).forEach(P=>m(this.normalizedNames.get(P),this.headers.get(P)))}}class rt{encodeKey(m){return tn(m)}encodeValue(m){return tn(m)}decodeKey(m){return decodeURIComponent(m)}decodeValue(m){return decodeURIComponent(m)}}const Xt=/%(\d[a-f0-9])/gi,En={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tn(v){return encodeURIComponent(v).replace(Xt,(m,P)=>{var L;return null!==(L=En[P])&&void 0!==L?L:m})}function cn(v){return`${v}`}class ft{constructor(m={}){if(this.updates=null,this.cloneFrom=null,this.encoder=m.encoder||new rt,m.fromString){if(m.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ot(v,m){const P=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach(Y=>{const be=Y.indexOf("="),[it,Mt]=-1==be?[m.decodeKey(Y),""]:[m.decodeKey(Y.slice(0,be)),m.decodeValue(Y.slice(be+1))],hn=P.get(it)||[];hn.push(Mt),P.set(it,hn)}),P}(m.fromString,this.encoder)}else m.fromObject?(this.map=new Map,Object.keys(m.fromObject).forEach(P=>{const L=m.fromObject[P],Y=Array.isArray(L)?L.map(cn):[cn(L)];this.map.set(P,Y)})):this.map=null}has(m){return this.init(),this.map.has(m)}get(m){this.init();const P=this.map.get(m);return P?P[0]:null}getAll(m){return this.init(),this.map.get(m)||null}keys(){return this.init(),Array.from(this.map.keys())}append(m,P){return this.clone({param:m,value:P,op:"a"})}appendAll(m){const P=[];return Object.keys(m).forEach(L=>{const Y=m[L];Array.isArray(Y)?Y.forEach(be=>{P.push({param:L,value:be,op:"a"})}):P.push({param:L,value:Y,op:"a"})}),this.clone(P)}set(m,P){return this.clone({param:m,value:P,op:"s"})}delete(m,P){return this.clone({param:m,value:P,op:"d"})}toString(){return this.init(),this.keys().map(m=>{const P=this.encoder.encodeKey(m);return this.map.get(m).map(L=>P+"="+this.encoder.encodeValue(L)).join("&")}).filter(m=>""!==m).join("&")}clone(m){const P=new ft({encoder:this.encoder});return P.cloneFrom=this.cloneFrom||this,P.updates=(this.updates||[]).concat(m),P}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(m=>this.map.set(m,this.cloneFrom.map.get(m))),this.updates.forEach(m=>{switch(m.op){case"a":case"s":const P=("a"===m.op?this.map.get(m.param):void 0)||[];P.push(cn(m.value)),this.map.set(m.param,P);break;case"d":if(void 0===m.value){this.map.delete(m.param);break}{let L=this.map.get(m.param)||[];const Y=L.indexOf(cn(m.value));-1!==Y&&L.splice(Y,1),L.length>0?this.map.set(m.param,L):this.map.delete(m.param)}}}),this.cloneFrom=this.updates=null)}}class ie{constructor(){this.map=new Map}set(m,P){return this.map.set(m,P),this}get(m){return this.map.has(m)||this.map.set(m,m.defaultValue()),this.map.get(m)}delete(m){return this.map.delete(m),this}has(m){return this.map.has(m)}keys(){return this.map.keys()}}function he(v){return typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer}function Ge(v){return typeof Blob<"u"&&v instanceof Blob}function mt(v){return typeof FormData<"u"&&v instanceof FormData}class at{constructor(m,P,L,Y){var be,it;let Mt;if(this.url=P,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=m.toUpperCase(),function oe(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Y?(this.body=void 0!==L?L:null,Mt=Y):Mt=L,Mt&&(this.reportProgress=!!Mt.reportProgress,this.withCredentials=!!Mt.withCredentials,Mt.responseType&&(this.responseType=Mt.responseType),Mt.headers&&(this.headers=Mt.headers),Mt.context&&(this.context=Mt.context),Mt.params&&(this.params=Mt.params),this.transferCache=Mt.transferCache),null!==(be=this.headers)&&void 0!==be||(this.headers=new Ze),null!==(it=this.context)&&void 0!==it||(this.context=new ie),this.params){const hn=this.params.toString();if(0===hn.length)this.urlWithParams=P;else{const gn=P.indexOf("?");this.urlWithParams=P+(-1===gn?"?":gn<P.length-1?"&":"")+hn}}else this.params=new ft,this.urlWithParams=P}serializeBody(){return null===this.body?null:"string"==typeof this.body||he(this.body)||Ge(this.body)||mt(this.body)||function yt(v){return typeof URLSearchParams<"u"&&v instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ft?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mt(this.body)?null:Ge(this.body)?this.body.type||null:he(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ft?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(m={}){var P,L,Y,be;const it=m.method||this.method,Mt=m.url||this.url,hn=m.responseType||this.responseType,gn=null!==(P=m.transferCache)&&void 0!==P?P:this.transferCache,sr=void 0!==m.body?m.body:this.body,dr=null!==(L=m.withCredentials)&&void 0!==L?L:this.withCredentials,Or=null!==(Y=m.reportProgress)&&void 0!==Y?Y:this.reportProgress;let Jr=m.headers||this.headers,pi=m.params||this.params;const xi=null!==(be=m.context)&&void 0!==be?be:this.context;return void 0!==m.setHeaders&&(Jr=Object.keys(m.setHeaders).reduce((xr,Yr)=>xr.set(Yr,m.setHeaders[Yr]),Jr)),m.setParams&&(pi=Object.keys(m.setParams).reduce((xr,Yr)=>xr.set(Yr,m.setParams[Yr]),pi)),new at(it,Mt,sr,{params:pi,headers:Jr,context:xi,reportProgress:Or,responseType:hn,withCredentials:dr,transferCache:gn})}}var Ft=function(v){return v[v.Sent=0]="Sent",v[v.UploadProgress=1]="UploadProgress",v[v.ResponseHeader=2]="ResponseHeader",v[v.DownloadProgress=3]="DownloadProgress",v[v.Response=4]="Response",v[v.User=5]="User",v}(Ft||{});class Pt{constructor(m,P=200,L="OK"){this.headers=m.headers||new Ze,this.status=void 0!==m.status?m.status:P,this.statusText=m.statusText||L,this.url=m.url||null,this.ok=this.status>=200&&this.status<300}}class wt extends Pt{constructor(m={}){super(m),this.type=Ft.ResponseHeader}clone(m={}){return new wt({headers:m.headers||this.headers,status:void 0!==m.status?m.status:this.status,statusText:m.statusText||this.statusText,url:m.url||this.url||void 0})}}class Nn extends Pt{constructor(m={}){super(m),this.type=Ft.Response,this.body=void 0!==m.body?m.body:null}clone(m={}){return new Nn({body:void 0!==m.body?m.body:this.body,headers:m.headers||this.headers,status:void 0!==m.status?m.status:this.status,statusText:m.statusText||this.statusText,url:m.url||this.url||void 0})}}class St extends Pt{constructor(m){super(m,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${m.url||"(unknown url)"}`:`Http failure response for ${m.url||"(unknown url)"}: ${m.status} ${m.statusText}`,this.error=m.error||null}}function qt(v,m){return{body:m,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials,transferCache:v.transferCache}}let Zt=(()=>{var v;class m{constructor(L){this.handler=L}request(L,Y,be={}){let it;if(L instanceof at)it=L;else{let gn,sr;gn=be.headers instanceof Ze?be.headers:new Ze(be.headers),be.params&&(sr=be.params instanceof ft?be.params:new ft({fromObject:be.params})),it=new at(L,Y,void 0!==be.body?be.body:null,{headers:gn,context:be.context,params:sr,reportProgress:be.reportProgress,responseType:be.responseType||"json",withCredentials:be.withCredentials,transferCache:be.transferCache})}const Mt=(0,ut.of)(it).pipe((0,Dt.H)(gn=>this.handler.handle(gn)));if(L instanceof at||"events"===be.observe)return Mt;const hn=Mt.pipe((0,vt.p)(gn=>gn instanceof Nn));switch(be.observe||"body"){case"body":switch(it.responseType){case"arraybuffer":return hn.pipe((0,ue.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return hn.pipe((0,ue.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return hn.pipe((0,ue.T)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));default:return hn.pipe((0,ue.T)(gn=>gn.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${be.observe}}`)}}delete(L,Y={}){return this.request("DELETE",L,Y)}get(L,Y={}){return this.request("GET",L,Y)}head(L,Y={}){return this.request("HEAD",L,Y)}jsonp(L,Y){return this.request("JSONP",L,{params:(new ft).append(Y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(L,Y={}){return this.request("OPTIONS",L,Y)}patch(L,Y,be={}){return this.request("PATCH",L,qt(be,Y))}post(L,Y,be={}){return this.request("POST",L,qt(be,Y))}put(L,Y,be={}){return this.request("PUT",L,qt(be,Y))}}return(v=m).\u0275fac=function(L){return new(L||v)(J.KVO(Ke))},v.\u0275prov=J.jDH({token:v,factory:v.\u0275fac}),m})();const rr=/^\)\]\}',?\n/;function $e(v){if(v.url)return v.url;const m="X-Request-URL".toLocaleLowerCase();return v.headers.get(m)}let Ue=(()=>{var v;class m{constructor(){var L,Y;this.fetchImpl=null!==(L=null===(Y=(0,J.WQX)(Lt,{optional:!0}))||void 0===Y?void 0:Y.fetch)&&void 0!==L?L:(...be)=>globalThis.fetch(...be),this.ngZone=(0,J.WQX)(J.SKi)}handle(L){return new ct.c(Y=>{const be=new AbortController;return this.doRequest(L,be.signal,Y).then(yn,it=>Y.error(new St({error:it}))),()=>be.abort()})}doRequest(L,Y,be){var it=this;return(0,Ve.A)(function*(){var Mt;const hn=it.createRequestInit(L);let gn;try{const Zi=it.ngZone.runOutsideAngular(()=>it.fetchImpl(L.urlWithParams,{signal:Y,...hn}));(function ir(v){v.then(yn,yn)})(Zi),be.next({type:Ft.Sent}),gn=yield Zi}catch(Zi){var sr;return void be.error(new St({error:Zi,status:null!==(sr=Zi.status)&&void 0!==sr?sr:0,statusText:Zi.statusText,url:L.urlWithParams,headers:Zi.headers}))}const dr=new Ze(gn.headers),Or=gn.statusText,Jr=null!==(Mt=$e(gn))&&void 0!==Mt?Mt:L.urlWithParams;let pi=gn.status,xi=null;if(L.reportProgress&&be.next(new wt({headers:dr,status:pi,statusText:Or,url:Jr})),gn.body){const Zi=gn.headers.get("content-length"),Ii=[],es=gn.body.getReader();let To,Dl,ts=0;const Yu=typeof Zone<"u"&&Zone.current;yield it.ngZone.runOutsideAngular((0,Ve.A)(function*(){for(;;){const{done:Fh,value:zd}=yield es.read();if(Fh)break;if(Ii.push(zd),ts+=zd.length,L.reportProgress){var Ju,Lh;Dl="text"===L.responseType?(null!==(Ju=Dl)&&void 0!==Ju?Ju:"")+(null!==(Lh=To)&&void 0!==Lh?Lh:To=new TextDecoder).decode(zd,{stream:!0}):void 0;const Bf=()=>be.next({type:Ft.DownloadProgress,total:Zi?+Zi:void 0,loaded:ts,partialText:Dl});Yu?Yu.run(Bf):Bf()}}}));const Hd=it.concatChunks(Ii,ts);try{var xr;const Ju=null!==(xr=gn.headers.get("Content-Type"))&&void 0!==xr?xr:"";xi=it.parseBody(L,Hd,Ju)}catch(Ju){var Yr;return void be.error(new St({error:Ju,headers:new Ze(gn.headers),status:gn.status,statusText:gn.statusText,url:null!==(Yr=$e(gn))&&void 0!==Yr?Yr:L.urlWithParams}))}}0===pi&&(pi=xi?200:0),pi>=200&&pi<300?(be.next(new Nn({body:xi,headers:dr,status:pi,statusText:Or,url:Jr})),be.complete()):be.error(new St({error:xi,headers:dr,status:pi,statusText:Or,url:Jr}))})()}parseBody(L,Y,be){switch(L.responseType){case"json":const it=(new TextDecoder).decode(Y).replace(rr,"");return""===it?null:JSON.parse(it);case"text":return(new TextDecoder).decode(Y);case"blob":return new Blob([Y],{type:be});case"arraybuffer":return Y.buffer}}createRequestInit(L){const Y={},be=L.withCredentials?"include":void 0;if(L.headers.forEach((it,Mt)=>Y[it]=Mt.join(",")),L.headers.has("Accept")||(Y.Accept="application/json, text/plain, */*"),!L.headers.has("Content-Type")){const it=L.detectContentTypeHeader();null!==it&&(Y["Content-Type"]=it)}return{body:L.serializeBody(),method:L.method,headers:Y,credentials:be}}concatChunks(L,Y){const be=new Uint8Array(Y);let it=0;for(const Mt of L)be.set(Mt,it),it+=Mt.length;return be}}return(v=m).\u0275fac=function(L){return new(L||v)},v.\u0275prov=J.jDH({token:v,factory:v.\u0275fac}),m})();class Lt{}function yn(){}function lr(v,m){return m(v)}function Hn(v,m){return(P,L)=>m.intercept(P,{handle:Y=>v(Y,L)})}const gr=new J.nKC(""),ur=new J.nKC(""),mr=new J.nKC(""),vr=new J.nKC("",{providedIn:"root",factory:()=>!0});function Lr(){let v=null;return(m,P)=>{var L;null===v&&(v=(null!==(L=(0,J.WQX)(gr,{optional:!0}))&&void 0!==L?L:[]).reduceRight(Hn,lr));const Y=(0,J.WQX)(J.TgB);if((0,J.WQX)(vr)){const it=Y.add();return v(m,P).pipe((0,De.j)(()=>Y.remove(it)))}return v(m,P)}}let wi=(()=>{var v;class m extends Ke{constructor(L,Y){super(),this.backend=L,this.injector=Y,this.chain=null,this.pendingTasks=(0,J.WQX)(J.TgB),this.contributeToStability=(0,J.WQX)(vr)}handle(L){if(null===this.chain){const Y=Array.from(new Set([...this.injector.get(ur),...this.injector.get(mr,[])]));this.chain=Y.reduceRight((be,it)=>function zt(v,m,P){return(L,Y)=>(0,J.N4e)(P,()=>m(L,be=>v(be,Y)))}(be,it,this.injector),lr)}if(this.contributeToStability){const Y=this.pendingTasks.add();return this.chain(L,be=>this.backend.handle(be)).pipe((0,De.j)(()=>this.pendingTasks.remove(Y)))}return this.chain(L,Y=>this.backend.handle(Y))}}return(v=m).\u0275fac=function(L){return new(L||v)(J.KVO(nt),J.KVO(J.uvJ))},v.\u0275prov=J.jDH({token:v,factory:v.\u0275fac}),m})();const Gt=/^\)\]\}',?\n/;let We=(()=>{var v;class m{constructor(L){this.xhrFactory=L}handle(L){if("JSONP"===L.method)throw new J.wOt(-2800,!1);const Y=this.xhrFactory;return(Y.\u0275loadImpl?(0,tt.H)(Y.\u0275loadImpl()):(0,ut.of)(null)).pipe((0,Re.n)(()=>new ct.c(it=>{const Mt=Y.build();if(Mt.open(L.method,L.urlWithParams),L.withCredentials&&(Mt.withCredentials=!0),L.headers.forEach((xr,Yr)=>Mt.setRequestHeader(xr,Yr.join(","))),L.headers.has("Accept")||Mt.setRequestHeader("Accept","application/json, text/plain, */*"),!L.headers.has("Content-Type")){const xr=L.detectContentTypeHeader();null!==xr&&Mt.setRequestHeader("Content-Type",xr)}if(L.responseType){const xr=L.responseType.toLowerCase();Mt.responseType="json"!==xr?xr:"text"}const hn=L.serializeBody();let gn=null;const sr=()=>{if(null!==gn)return gn;const xr=Mt.statusText||"OK",Yr=new Ze(Mt.getAllResponseHeaders()),Zo=function ke(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}(Mt)||L.url;return gn=new wt({headers:Yr,status:Mt.status,statusText:xr,url:Zo}),gn},dr=()=>{let{headers:xr,status:Yr,statusText:Zo,url:Zi}=sr(),Ii=null;204!==Yr&&(Ii=typeof Mt.response>"u"?Mt.responseText:Mt.response),0===Yr&&(Yr=Ii?200:0);let es=Yr>=200&&Yr<300;if("json"===L.responseType&&"string"==typeof Ii){const ts=Ii;Ii=Ii.replace(Gt,"");try{Ii=""!==Ii?JSON.parse(Ii):null}catch(To){Ii=ts,es&&(es=!1,Ii={error:To,text:Ii})}}es?(it.next(new Nn({body:Ii,headers:xr,status:Yr,statusText:Zo,url:Zi||void 0})),it.complete()):it.error(new St({error:Ii,headers:xr,status:Yr,statusText:Zo,url:Zi||void 0}))},Or=xr=>{const{url:Yr}=sr(),Zo=new St({error:xr,status:Mt.status||0,statusText:Mt.statusText||"Unknown Error",url:Yr||void 0});it.error(Zo)};let Jr=!1;const pi=xr=>{Jr||(it.next(sr()),Jr=!0);let Yr={type:Ft.DownloadProgress,loaded:xr.loaded};xr.lengthComputable&&(Yr.total=xr.total),"text"===L.responseType&&Mt.responseText&&(Yr.partialText=Mt.responseText),it.next(Yr)},xi=xr=>{let Yr={type:Ft.UploadProgress,loaded:xr.loaded};xr.lengthComputable&&(Yr.total=xr.total),it.next(Yr)};return Mt.addEventListener("load",dr),Mt.addEventListener("error",Or),Mt.addEventListener("timeout",Or),Mt.addEventListener("abort",Or),L.reportProgress&&(Mt.addEventListener("progress",pi),null!==hn&&Mt.upload&&Mt.upload.addEventListener("progress",xi)),Mt.send(hn),it.next({type:Ft.Sent}),()=>{Mt.removeEventListener("error",Or),Mt.removeEventListener("abort",Or),Mt.removeEventListener("load",dr),Mt.removeEventListener("timeout",Or),L.reportProgress&&(Mt.removeEventListener("progress",pi),null!==hn&&Mt.upload&&Mt.upload.removeEventListener("progress",xi)),Mt.readyState!==Mt.DONE&&Mt.abort()}})))}}return(v=m).\u0275fac=function(L){return new(L||v)(J.KVO(we.N0))},v.\u0275prov=J.jDH({token:v,factory:v.\u0275fac}),m})();const X=new J.nKC(""),ee=new J.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),He=new J.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Wt{}let In=(()=>{var v;class m{constructor(L,Y,be){this.doc=L,this.platform=Y,this.cookieName=be,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const L=this.doc.cookie||"";return L!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,we._b)(L,this.cookieName),this.lastCookieString=L),this.lastToken}}return(v=m).\u0275fac=function(L){return new(L||v)(J.KVO(we.qQ),J.KVO(J.Agw),J.KVO(ee))},v.\u0275prov=J.jDH({token:v,factory:v.\u0275fac}),m})();function Xn(v,m){const P=v.url.toLowerCase();if(!(0,J.WQX)(X)||"GET"===v.method||"HEAD"===v.method||P.startsWith("http://")||P.startsWith("https://"))return m(v);const L=(0,J.WQX)(Wt).getToken(),Y=(0,J.WQX)(He);return null!=L&&!v.headers.has(Y)&&(v=v.clone({headers:v.headers.set(Y,L)})),m(v)}var ht=function(v){return v[v.Interceptors=0]="Interceptors",v[v.LegacyInterceptors=1]="LegacyInterceptors",v[v.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",v[v.NoXsrfProtection=3]="NoXsrfProtection",v[v.JsonpSupport=4]="JsonpSupport",v[v.RequestsMadeViaParent=5]="RequestsMadeViaParent",v[v.Fetch=6]="Fetch",v}(ht||{});function fr(v,m){return{\u0275kind:v,\u0275providers:m}}function xn(...v){const m=[Zt,We,wi,{provide:Ke,useExisting:wi},{provide:nt,useFactory:()=>{var P;return null!==(P=(0,J.WQX)(Ue,{optional:!0}))&&void 0!==P?P:(0,J.WQX)(We)}},{provide:ur,useValue:Xn,multi:!0},{provide:X,useValue:!0},{provide:Wt,useClass:In}];for(const P of v)m.push(...P.\u0275providers);return(0,J.EmA)(m)}const ji=new J.nKC("");let Je=(()=>{var v;class m{}return(v=m).\u0275fac=function(L){return new(L||v)},v.\u0275mod=J.$C({type:v}),v.\u0275inj=J.G2t({providers:[xn(fr(ht.LegacyInterceptors,[{provide:ji,useFactory:Lr},{provide:ur,useExisting:ji,multi:!0}]))]}),m})();var Sn=k(9253),Un=k(1182),Jn=k(8334),ar=k(9842),Rr=k(5407),Xr=k(3236),Si=k(9974),jr=k(4360),ko=k(9574),Lo=k(1631),Fo=k(1401),rs=k(8779);const Do="firebasestorage.googleapis.com",_i="storageBucket";class Qi extends Fo.g{constructor(m,P,L=0){super(As(m),`Firebase Storage: ${P} (${As(m)})`),this.status_=L,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(m){this.status_=m}_codeEquals(m){return As(m)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(m){this.customData.serverResponse=m,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var _r=function(v){return v.UNKNOWN="unknown",v.OBJECT_NOT_FOUND="object-not-found",v.BUCKET_NOT_FOUND="bucket-not-found",v.PROJECT_NOT_FOUND="project-not-found",v.QUOTA_EXCEEDED="quota-exceeded",v.UNAUTHENTICATED="unauthenticated",v.UNAUTHORIZED="unauthorized",v.UNAUTHORIZED_APP="unauthorized-app",v.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",v.INVALID_CHECKSUM="invalid-checksum",v.CANCELED="canceled",v.INVALID_EVENT_NAME="invalid-event-name",v.INVALID_URL="invalid-url",v.INVALID_DEFAULT_BUCKET="invalid-default-bucket",v.NO_DEFAULT_BUCKET="no-default-bucket",v.CANNOT_SLICE_BLOB="cannot-slice-blob",v.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",v.NO_DOWNLOAD_URL="no-download-url",v.INVALID_ARGUMENT="invalid-argument",v.INVALID_ARGUMENT_COUNT="invalid-argument-count",v.APP_DELETED="app-deleted",v.INVALID_ROOT_OPERATION="invalid-root-operation",v.INVALID_FORMAT="invalid-format",v.INTERNAL_ERROR="internal-error",v.UNSUPPORTED_ENVIRONMENT="unsupported-environment",v}(_r||{});function As(v){return"storage/"+v}function zi(){return new Qi(_r.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function fs(){return new Qi(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vi(){return new Qi(_r.CANCELED,"User canceled the upload/download.")}function T(){return new Qi(_r.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qt(v){return new Qi(_r.INVALID_ARGUMENT,v)}function rn(){return new Qi(_r.APP_DELETED,"The Firebase app was deleted.")}function en(v){return new Qi(_r.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function on(v,m){return new Qi(_r.INVALID_FORMAT,"String does not match format '"+v+"': "+m)}function Fn(v){throw new Qi(_r.INTERNAL_ERROR,"Internal error: "+v)}class Rn{constructor(m,P){this.bucket=m,this.path_=P}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const m=encodeURIComponent;return"/b/"+m(this.bucket)+"/o/"+m(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(m,P){let L;try{L=Rn.makeFromUrl(m,P)}catch{return new Rn(m,"")}if(""===L.path)return L;throw function A(v){return new Qi(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(m)}static makeFromUrl(m,P){let L=null;const Y="([A-Za-z0-9.\\-_]+)",Mt=new RegExp("^gs://"+Y+"(/(.*))?$","i");function gn(Ii){Ii.path_=decodeURIComponent(Ii.path)}const dr=P.replace(/[.]/g,"\\."),Zi=[{regex:Mt,indices:{bucket:1,path:3},postModify:function be(Ii){"/"===Ii.path.charAt(Ii.path.length-1)&&(Ii.path_=Ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${dr}/v[A-Za-z0-9_]+/b/${Y}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:gn},{regex:new RegExp(`^https?://${P===Do?"(?:storage.googleapis.com|storage.cloud.google.com)":P}/${Y}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:gn}];for(let Ii=0;Ii<Zi.length;Ii++){const es=Zi[Ii],ts=es.regex.exec(m);if(ts){let Dl=ts[es.indices.path];Dl||(Dl=""),L=new Rn(ts[es.indices.bucket],Dl),es.postModify(L);break}}if(null==L)throw function x(v){return new Qi(_r.INVALID_URL,"Invalid URL '"+v+"'.")}(m);return L}}class Yn{constructor(m){this.promise_=Promise.reject(m)}getPromise(){return this.promise_}cancel(m=!1){}}function ei(v){return"string"==typeof v||v instanceof String}function ss(v){return mo()&&v instanceof Blob}function mo(){return typeof Blob<"u"}function Gn(v,m,P,L){if(L<m)throw Qt(`Invalid value for '${v}'. Expected ${m} or greater.`);if(L>P)throw Qt(`Invalid value for '${v}'. Expected ${P} or less.`)}function Yi(v,m,P){let L=m;return null==P&&(L=`https://${m}`),`${P}://${L}/v0${v}`}function as(v){const m=encodeURIComponent;let P="?";for(const L in v)v.hasOwnProperty(L)&&(P=P+(m(L)+"=")+m(v[L])+"&");return P=P.slice(0,-1),P}var ps=function(v){return v[v.NO_ERROR=0]="NO_ERROR",v[v.NETWORK_ERROR=1]="NETWORK_ERROR",v[v.ABORT=2]="ABORT",v}(ps||{});function Cs(v,m){const P=v>=500&&v<600,Y=-1!==[408,429].indexOf(v),be=-1!==m.indexOf(v);return P||Y||be}class Oa{constructor(m,P,L,Y,be,it,Mt,hn,gn,sr,dr,Or=!0){this.url_=m,this.method_=P,this.headers_=L,this.body_=Y,this.successCodes_=be,this.additionalRetryCodes_=it,this.callback_=Mt,this.errorCallback_=hn,this.timeout_=gn,this.progressCallback_=sr,this.connectionFactory_=dr,this.retry=Or,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Jr,pi)=>{this.resolve_=Jr,this.reject_=pi,this.start_()})}start_(){const P=(L,Y)=>{const be=this.resolve_,it=this.reject_,Mt=Y.connection;if(Y.wasSuccessCode)try{const hn=this.callback_(Mt,Mt.getResponse());!function Gi(v){return void 0!==v}(hn)?be():be(hn)}catch(hn){it(hn)}else if(null!==Mt){const hn=zi();hn.serverResponse=Mt.getErrorText(),it(this.errorCallback_?this.errorCallback_(Mt,hn):hn)}else it(Y.canceled?this.appDelete_?rn():Vi():fs())};this.canceled_?P(0,new wo(!1,null,!0)):this.backoffId_=function or(v,m,P){let L=1,Y=null,be=null,it=!1,Mt=0;function hn(){return 2===Mt}let gn=!1;function sr(...xr){gn||(gn=!0,m.apply(null,xr))}function dr(xr){Y=setTimeout(()=>{Y=null,v(Jr,hn())},xr)}function Or(){be&&clearTimeout(be)}function Jr(xr,...Yr){if(gn)return void Or();if(xr)return Or(),void sr.call(null,xr,...Yr);if(hn()||it)return Or(),void sr.call(null,xr,...Yr);let Zi;L<64&&(L*=2),1===Mt?(Mt=2,Zi=0):Zi=1e3*(L+Math.random()),dr(Zi)}let pi=!1;function xi(xr){pi||(pi=!0,Or(),!gn&&(null!==Y?(xr||(Mt=2),clearTimeout(Y),dr(0)):xr||(Mt=1)))}return dr(0),be=setTimeout(()=>{it=!0,xi(!0)},P),xi}((L,Y)=>{if(Y)return void L(!1,new wo(!1,null,!0));const be=this.connectionFactory_();this.pendingConnection_=be;const it=Mt=>{null!==this.progressCallback_&&this.progressCallback_(Mt.loaded,Mt.lengthComputable?Mt.total:-1)};null!==this.progressCallback_&&be.addUploadProgressListener(it),be.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&be.removeUploadProgressListener(it),this.pendingConnection_=null;const Mt=be.getErrorCode()===ps.NO_ERROR,hn=be.getStatus();if(!Mt||Cs(hn,this.additionalRetryCodes_)&&this.retry){const sr=be.getErrorCode()===ps.ABORT;return void L(!1,new wo(!1,null,sr))}const gn=-1!==this.successCodes_.indexOf(hn);L(!0,new wo(gn,be))})},P,this.timeout_)}getPromise(){return this.promise_}cancel(m){this.canceled_=!0,this.appDelete_=m||!1,null!==this.backoffId_&&function ti(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wo{constructor(m,P,L){this.wasSuccessCode=m,this.connection=P,this.canceled=!!L}}function bs(...v){const m=function Eo(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==m){const P=new m;for(let L=0;L<v.length;L++)P.append(v[L]);return P.getBlob()}if(mo())return new Blob(v);throw new Qi(_r.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const So={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ra{constructor(m,P){this.data=m,this.contentType=P||null}}function qr(v,m){switch(v){case So.RAW:return new ra(Qa(m));case So.BASE64:case So.BASE64URL:return new ra(Vr(v,m));case So.DATA_URL:return new ra(function ga(v){const m=new mi(v);return m.base64?Vr(So.BASE64,m.rest):function yi(v){let m;try{m=decodeURIComponent(v)}catch{throw on(So.DATA_URL,"Malformed data URL.")}return Qa(m)}(m.rest)}(m),function zs(v){return new mi(v).contentType}(m))}throw zi()}function Qa(v){const m=[];for(let P=0;P<v.length;P++){let L=v.charCodeAt(P);L<=127?m.push(L):L<=2047?m.push(192|L>>6,128|63&L):55296==(64512&L)?P<v.length-1&&56320==(64512&v.charCodeAt(P+1))?(L=65536|(1023&L)<<10|1023&v.charCodeAt(++P),m.push(240|L>>18,128|L>>12&63,128|L>>6&63,128|63&L)):m.push(239,191,189):56320==(64512&L)?m.push(239,191,189):m.push(224|L>>12,128|L>>6&63,128|63&L)}return new Uint8Array(m)}function Vr(v,m){switch(v){case So.BASE64:{const Y=-1!==m.indexOf("-"),be=-1!==m.indexOf("_");if(Y||be)throw on(v,"Invalid character '"+(Y?"-":"_")+"' found: is it base64url encoded?");break}case So.BASE64URL:{const Y=-1!==m.indexOf("+"),be=-1!==m.indexOf("/");if(Y||be)throw on(v,"Invalid character '"+(Y?"+":"/")+"' found: is it base64 encoded?");m=m.replace(/-/g,"+").replace(/_/g,"/");break}}let P;try{P=function Wi(v){if(typeof atob>"u")throw function dt(v){return new Qi(_r.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(m)}catch(Y){throw Y.message.includes("polyfill")?Y:on(v,"Invalid character found")}const L=new Uint8Array(P.length);for(let Y=0;Y<P.length;Y++)L[Y]=P.charCodeAt(Y);return L}class mi{constructor(m){this.base64=!1,this.contentType=null;const P=m.match(/^data:([^,]+)?,/);if(null===P)throw on(So.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const L=P[1]||null;null!=L&&(this.base64=function Cr(v,m){return v.length>=m.length&&v.substring(v.length-m.length)===m}(L,";base64"),this.contentType=this.base64?L.substring(0,L.length-7):L),this.rest=m.substring(m.indexOf(",")+1)}}class Vo{constructor(m,P){let L=0,Y="";ss(m)?(this.data_=m,L=m.size,Y=m.type):m instanceof ArrayBuffer?(P?this.data_=new Uint8Array(m):(this.data_=new Uint8Array(m.byteLength),this.data_.set(new Uint8Array(m))),L=this.data_.length):m instanceof Uint8Array&&(P?this.data_=m:(this.data_=new Uint8Array(m.length),this.data_.set(m)),L=m.length),this.size_=L,this.type_=Y}size(){return this.size_}type(){return this.type_}slice(m,P){if(ss(this.data_)){const Y=function gi(v,m,P){return v.webkitSlice?v.webkitSlice(m,P):v.mozSlice?v.mozSlice(m,P):v.slice?v.slice(m,P):null}(this.data_,m,P);return null===Y?null:new Vo(Y)}{const L=new Uint8Array(this.data_.buffer,m,P-m);return new Vo(L,!0)}}static getBlob(...m){if(mo()){const P=m.map(L=>L instanceof Vo?L.data_:L);return new Vo(bs.apply(null,P))}{const P=m.map(it=>ei(it)?qr(So.RAW,it).data:it.data_);let L=0;P.forEach(it=>{L+=it.byteLength});const Y=new Uint8Array(L);let be=0;return P.forEach(it=>{for(let Mt=0;Mt<it.length;Mt++)Y[be++]=it[Mt]}),new Vo(Y,!0)}}uploadData(){return this.data_}}function Uo(v){let m;try{m=JSON.parse(v)}catch{return null}return function Ri(v){return"object"==typeof v&&!Array.isArray(v)}(m)?m:null}function Ei(v){const m=v.lastIndexOf("/",v.length-2);return-1===m?v:v.slice(m+1)}function Go(v,m){return m}class Wo{constructor(m,P,L,Y){this.server=m,this.local=P||m,this.writable=!!L,this.xform=Y||Go}}let Pl=null;function Ja(){if(Pl)return Pl;const v=[];v.push(new Wo("bucket")),v.push(new Wo("generation")),v.push(new Wo("metageneration")),v.push(new Wo("name","fullPath",!0));const P=new Wo("name");P.xform=function m(be,it){return function ru(v){return!ei(v)||v.length<2?v:Ei(v)}(it)},v.push(P);const Y=new Wo("size");return Y.xform=function L(be,it){return void 0!==it?Number(it):it},v.push(Y),v.push(new Wo("timeCreated")),v.push(new Wo("updated")),v.push(new Wo("md5Hash",null,!0)),v.push(new Wo("cacheControl",null,!0)),v.push(new Wo("contentDisposition",null,!0)),v.push(new Wo("contentEncoding",null,!0)),v.push(new Wo("contentLanguage",null,!0)),v.push(new Wo("contentType",null,!0)),v.push(new Wo("metadata","customMetadata",!0)),Pl=v,Pl}function F(v,m,P){const L=Uo(m);return null===L?null:function Q(v,m,P){const L={type:"file"},Y=P.length;for(let be=0;be<Y;be++){const it=P[be];L[it.local]=it.xform(L,m[it.server])}return function gl(v,m){Object.defineProperty(v,"ref",{get:function P(){const be=new Rn(v.bucket,v.fullPath);return m._makeStorageReference(be)}})}(L,v),L}(v,L,P)}function W(v,m){const P={},L=m.length;for(let Y=0;Y<L;Y++){const be=m[Y];be.writable&&(P[be.server]=v[be.local])}return JSON.stringify(P)}const ge="prefixes",_n="items";class Ki{constructor(m,P,L,Y){this.url=m,this.method=P,this.handler=L,this.timeout=Y,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ui(v){if(!v)throw zi()}function Pr(v,m){return function P(L,Y){const be=F(v,Y,m);return Ui(null!==be),be}}function cs(v){return function m(P,L){let Y;return Y=401===P.getStatus()?P.getErrorText().includes("Firebase App Check token is invalid")?function Ci(){return new Qi(_r.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function os(){return new Qi(_r.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===P.getStatus()?function Ts(v){return new Qi(_r.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===P.getStatus()?function Na(v){return new Qi(_r.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):L,Y.status=P.getStatus(),Y.serverResponse=L.serverResponse,Y}}function Gs(v){const m=cs(v);return function P(L,Y){let be=m(L,Y);return 404===L.getStatus()&&(be=function ci(v){return new Qi(_r.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),be.serverResponse=Y.serverResponse,be}}function ia(v,m,P){const Y=Yi(m.fullServerUrl(),v.host,v._protocol),it=v.maxOperationRetryTime,Mt=new Ki(Y,"GET",Pr(v,P),it);return Mt.errorHandler=Gs(m),Mt}function Ko(v,m,P,L,Y){const be={};be.prefix=m.isRoot?"":m.path+"/",P&&P.length>0&&(be.delimiter=P),L&&(be.pageToken=L),Y&&(be.maxResults=Y);const Mt=Yi(m.bucketOnlyServerUrl(),v.host,v._protocol),gn=v.maxOperationRetryTime,sr=new Ki(Mt,"GET",function Za(v,m){return function P(L,Y){const be=function Li(v,m,P){const L=Uo(P);return null===L?null:function yr(v,m,P){const L={prefixes:[],items:[],nextPageToken:P.nextPageToken};if(P[ge])for(const Y of P[ge]){const be=Y.replace(/\/$/,""),it=v._makeStorageReference(new Rn(m,be));L.prefixes.push(it)}if(P[_n])for(const Y of P[_n]){const be=v._makeStorageReference(new Rn(m,Y.name));L.items.push(be)}return L}(v,m,L)}(v,m,Y);return Ui(null!==be),be}}(v,m.bucket),gn);return sr.urlParams=be,sr.errorHandler=cs(m),sr}function br(v,m,P){const L=Object.assign({},P);return L.fullPath=v.path,L.size=m.size(),L.contentType||(L.contentType=function va(v,m){return v&&v.contentType||m&&m.type()||"application/octet-stream"}(null,m)),L}class oa{constructor(m,P,L,Y){this.current=m,this.total=P,this.finalized=!!L,this.metadata=Y||null}}function el(v,m){let P=null;try{P=v.getResponseHeader("X-Goog-Upload-Status")}catch{Ui(!1)}return Ui(!!P&&-1!==(m||["active"]).indexOf(P)),P}const ds={STATE_CHANGED:"state_changed"},Xo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vl(v){switch(v){case"running":case"pausing":case"canceling":return Xo.RUNNING;case"paused":return Xo.PAUSED;case"success":return Xo.SUCCESS;case"canceled":return Xo.CANCELED;default:return Xo.ERROR}}class ka{constructor(m,P,L){if(function li(v){return"function"==typeof v}(m)||null!=P||null!=L)this.next=m,this.error=null!=P?P:void 0,this.complete=null!=L?L:void 0;else{const be=m;this.next=be.next,this.error=be.error,this.complete=be.complete}}}function Ro(v){return(...m)=>{Promise.resolve().then(()=>v(...m))}}let La=null;class tl{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ps.NO_ERROR,this.sendPromise_=new Promise(m=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ps.ABORT,m()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ps.NETWORK_ERROR,m()}),this.xhr_.addEventListener("load",()=>{m()})})}send(m,P,L,Y){if(this.sent_)throw Fn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(P,m,!0),void 0!==Y)for(const be in Y)Y.hasOwnProperty(be)&&this.xhr_.setRequestHeader(be,Y[be].toString());return void 0!==L?this.xhr_.send(L):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(m){return this.xhr_.getResponseHeader(m)}addUploadProgressListener(m){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",m)}removeUploadProgressListener(m){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",m)}}class _l extends tl{initXhr(){this.xhr_.responseType="text"}}function Po(){return La?La():new _l}class ou{constructor(m,P,L=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=m,this._blob=P,this._metadata=L,this._mappings=Ja(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Y=>{if(this._request=void 0,this._chunkMultiplier=1,Y._codeEquals(_r.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const be=this.isExponentialBackoffExpired();if(Cs(Y.status,[])){if(!be)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Y=fs()}this._error=Y,this._transition("error")}},this._metadataErrorHandler=Y=>{this._request=void 0,Y._codeEquals(_r.CANCELED)?this.completeTransitions_():(this._error=Y,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Y,be)=>{this._resolve=Y,this._reject=be,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const m=this._transferred;return P=>this._updateProgress(m+P)}_shouldDoResumable(m){return m.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(m){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([P,L])=>{switch(this._state){case"running":m(P,L);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((m,P)=>{const L=function iu(v,m,P,L,Y){const be=m.bucketOnlyServerUrl(),it=br(m,L,Y),Mt={name:it.fullPath},hn=Yi(be,v.host,v._protocol),sr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${L.size()}`,"X-Goog-Upload-Header-Content-Type":it.contentType,"Content-Type":"application/json; charset=utf-8"},dr=W(it,P),pi=new Ki(hn,"POST",function Jr(xi){let xr;el(xi);try{xr=xi.getResponseHeader("X-Goog-Upload-URL")}catch{Ui(!1)}return Ui(ei(xr)),xr},v.maxUploadRetryTime);return pi.urlParams=Mt,pi.headers=sr,pi.body=dr,pi.errorHandler=cs(m),pi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Y=this._ref.storage._makeRequest(L,Po,m,P);this._request=Y,Y.getPromise().then(be=>{this._request=void 0,this._uploadUrl=be,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const m=this._uploadUrl;this._resolveToken((P,L)=>{const Y=function wu(v,m,P,L){const hn=new Ki(P,"POST",function be(gn){const sr=el(gn,["active","final"]);let dr=null;try{dr=gn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ui(!1)}dr||Ui(!1);const Or=Number(dr);return Ui(!isNaN(Or)),new oa(Or,L.size(),"final"===sr)},v.maxUploadRetryTime);return hn.headers={"X-Goog-Upload-Command":"query"},hn.errorHandler=cs(m),hn}(this._ref.storage,this._ref._location,m,this._blob),be=this._ref.storage._makeRequest(Y,Po,P,L);this._request=be,be.getPromise().then(it=>{this._request=void 0,this._updateProgress(it.current),this._needToFetchStatus=!1,it.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const m=262144*this._chunkMultiplier,P=new oa(this._transferred,this._blob.size()),L=this._uploadUrl;this._resolveToken((Y,be)=>{let it;try{it=function Dd(v,m,P,L,Y,be,it,Mt){const hn=new oa(0,0);if(it?(hn.current=it.current,hn.total=it.total):(hn.current=0,hn.total=L.size()),L.size()!==hn.total)throw function z(){return new Qi(_r.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const gn=hn.total-hn.current;let sr=gn;Y>0&&(sr=Math.min(sr,Y));const dr=hn.current;let Jr="";Jr=0===sr?"finalize":gn===sr?"upload, finalize":"upload";const pi={"X-Goog-Upload-Command":Jr,"X-Goog-Upload-Offset":`${hn.current}`},xi=L.slice(dr,dr+sr);if(null===xi)throw T();const Zi=new Ki(P,"POST",function xr(Ii,es){const ts=el(Ii,["active","final"]),To=hn.current+sr,Dl=L.size();let Yu;return Yu="final"===ts?Pr(m,be)(Ii,es):null,new oa(To,Dl,"final"===ts,Yu)},m.maxUploadRetryTime);return Zi.headers=pi,Zi.body=xi.uploadData(),Zi.progressCallback=Mt||null,Zi.errorHandler=cs(v),Zi}(this._ref._location,this._ref.storage,L,this._blob,m,this._mappings,P,this._makeProgressCallback())}catch(hn){return this._error=hn,void this._transition("error")}const Mt=this._ref.storage._makeRequest(it,Po,Y,be,!1);this._request=Mt,Mt.getPromise().then(hn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(hn.current),hn.finalized?(this._metadata=hn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((m,P)=>{const L=ia(this._ref.storage,this._ref._location,this._mappings),Y=this._ref.storage._makeRequest(L,Po,m,P);this._request=Y,Y.getPromise().then(be=>{this._request=void 0,this._metadata=be,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((m,P)=>{const L=function ms(v,m,P,L,Y){const be=m.bucketOnlyServerUrl(),it={"X-Goog-Upload-Protocol":"multipart"},hn=function Mt(){let Zi="";for(let Ii=0;Ii<2;Ii++)Zi+=Math.random().toString().slice(2);return Zi}();it["Content-Type"]="multipart/related; boundary="+hn;const gn=br(m,L,Y),sr=W(gn,P),Jr=Vo.getBlob("--"+hn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sr+"\r\n--"+hn+"\r\nContent-Type: "+gn.contentType+"\r\n\r\n",L,"\r\n--"+hn+"--");if(null===Jr)throw T();const pi={name:gn.fullPath},xi=Yi(be,v.host,v._protocol),Yr=v.maxUploadRetryTime,Zo=new Ki(xi,"POST",Pr(v,P),Yr);return Zo.urlParams=pi,Zo.headers=it,Zo.body=Jr.uploadData(),Zo.errorHandler=cs(m),Zo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Y=this._ref.storage._makeRequest(L,Po,m,P);this._request=Y,Y.getPromise().then(be=>{this._request=void 0,this._metadata=be,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(m){const P=this._transferred;this._transferred=m,this._transferred!==P&&this._notifyObservers()}_transition(m){if(this._state!==m)switch(m){case"canceling":case"pausing":this._state=m,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const P="paused"===this._state;this._state=m,P&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=m,this._notifyObservers();break;case"canceled":this._error=Vi(),this._state=m,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const m=vl(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:m,metadata:this._metadata,task:this,ref:this._ref}}on(m,P,L,Y){const be=new ka(P||void 0,L||void 0,Y||void 0);return this._addObserver(be),()=>{this._removeObserver(be)}}then(m,P){return this._promise.then(m,P)}catch(m){return this.then(null,m)}_addObserver(m){this._observers.push(m),this._notifyObserver(m)}_removeObserver(m){const P=this._observers.indexOf(m);-1!==P&&this._observers.splice(P,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(P=>{this._notifyObserver(P)})}_finishPromise(){if(void 0!==this._resolve){let m=!0;switch(vl(this._state)){case Xo.SUCCESS:Ro(this._resolve.bind(null,this.snapshot))();break;case Xo.CANCELED:case Xo.ERROR:Ro(this._reject.bind(null,this._error))();break;default:m=!1}m&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(m){switch(vl(this._state)){case Xo.RUNNING:case Xo.PAUSED:m.next&&Ro(m.next.bind(m,this.snapshot))();break;case Xo.SUCCESS:m.complete&&Ro(m.complete.bind(m))();break;default:m.error&&Ro(m.error.bind(m,this._error))()}}resume(){const m="paused"===this._state||"pausing"===this._state;return m&&this._transition("running"),m}pause(){const m="running"===this._state;return m&&this._transition("pausing"),m}cancel(){const m="running"===this._state||"pausing"===this._state;return m&&this._transition("canceling"),m}}class Ds{constructor(m,P){this._service=m,this._location=P instanceof Rn?P:Rn.makeFromUrl(P,m.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(m,P){return new Ds(m,P)}get root(){const m=new Rn(this._location.bucket,"");return this._newRef(this._service,m)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ei(this._location.path)}get storage(){return this._service}get parent(){const m=function pl(v){if(0===v.length)return null;const m=v.lastIndexOf("/");return-1===m?"":v.slice(0,m)}(this._location.path);if(null===m)return null;const P=new Rn(this._location.bucket,m);return new Ds(this._service,P)}_throwIfRoot(m){if(""===this._location.path)throw en(m)}}function sa(v,m,P){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,Ve.A)(function*(v,m,P){const Y=yield su(v,{pageToken:P});m.prefixes.push(...Y.prefixes),m.items.push(...Y.items),null!=Y.nextPageToken&&(yield sa(v,m,Y.nextPageToken))})).apply(this,arguments)}function su(v,m){null!=m&&"number"==typeof m.maxResults&&Gn("options.maxResults",1,1e3,m.maxResults);const P=m||{},L=Ko(v.storage,v._location,"/",P.pageToken,P.maxResults);return v.storage.makeRequestWithTokens(L,Po)}function q(v){v._throwIfRoot("getDownloadURL");const m=function xa(v,m,P){const Y=Yi(m.fullServerUrl(),v.host,v._protocol),it=v.maxOperationRetryTime,Mt=new Ki(Y,"GET",function us(v,m){return function P(L,Y){const be=F(v,Y,m);return Ui(null!==be),function le(v,m,P,L){const Y=Uo(m);if(null===Y||!ei(Y.downloadTokens))return null;const be=Y.downloadTokens;if(0===be.length)return null;const it=encodeURIComponent;return be.split(",").map(gn=>{const dr=v.fullPath;return Yi("/b/"+it(v.bucket)+"/o/"+it(dr),P,L)+as({alt:"media",token:gn})})[0]}(be,Y,v.host,v._protocol)}}(v,P),it);return Mt.errorHandler=Gs(m),Mt}(v.storage,v._location,Ja());return v.storage.makeRequestWithTokens(m,Po).then(P=>{if(null===P)throw function ae(){return new Qi(_r.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return P})}function G(v,m){const P=function Ya(v,m){const P=m.split("/").filter(L=>L.length>0).join("/");return 0===v.length?P:v+"/"+P}(v._location.path,m),L=new Rn(v._location.bucket,P);return new Ds(v.storage,L)}function Jt(v,m){if(v instanceof Hr){const P=v;if(null==P._bucket)throw function O(){return new Qi(_r.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_i+"' property when initializing the app?")}();const L=new Ds(P,P._bucket);return null!=m?Jt(L,m):L}return void 0!==m?G(v,m):v}function bn(v,m){if(m&&function _e(v){return/^[A-Za-z]+:\/\//.test(v)}(m)){if(v instanceof Hr)return function je(v,m){return new Ds(v,m)}(v,m);throw Qt("To use ref(service, url), the first argument must be a Storage instance.")}return Jt(v,m)}function wr(v,m){const P=null==m?void 0:m[_i];return null==P?null:Rn.makeFromBucketSpec(P,v)}class Hr{constructor(m,P,L,Y,be){this.app=m,this._authProvider=P,this._appCheckProvider=L,this._url=Y,this._firebaseVersion=be,this._bucket=null,this._host=Do,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Y?Rn.makeFromBucketSpec(Y,this._host):wr(this._host,this.app.options)}get host(){return this._host}set host(m){this._host=m,this._bucket=null!=this._url?Rn.makeFromBucketSpec(this._url,m):wr(m,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(m){Gn("time",0,Number.POSITIVE_INFINITY,m),this._maxUploadRetryTime=m}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(m){Gn("time",0,Number.POSITIVE_INFINITY,m),this._maxOperationRetryTime=m}_getAuthToken(){var m=this;return(0,Ve.A)(function*(){if(m._overrideAuthToken)return m._overrideAuthToken;const P=m._authProvider.getImmediate({optional:!0});if(P){const L=yield P.getToken();if(null!==L)return L.accessToken}return null})()}_getAppCheckToken(){var m=this;return(0,Ve.A)(function*(){const P=m._appCheckProvider.getImmediate({optional:!0});return P?(yield P.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(m=>m.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(m){return new Ds(this,m)}_makeRequest(m,P,L,Y,be=!0){if(this._deleted)return new Yn(rn());{const it=function fl(v,m,P,L,Y,be,it=!0){const Mt=as(v.urlParams),hn=v.url+Mt,gn=Object.assign({},v.headers);return function gs(v,m){m&&(v["X-Firebase-GMPID"]=m)}(gn,m),function yo(v,m){null!==m&&m.length>0&&(v.Authorization="Firebase "+m)}(gn,P),function ls(v,m){v["X-Firebase-Storage-Version"]="webjs/"+(null!=m?m:"AppManager")}(gn,be),function Hs(v,m){null!==m&&(v["X-Firebase-AppCheck"]=m)}(gn,L),new Oa(hn,v.method,gn,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,Y,it)}(m,this._appId,L,Y,P,this._firebaseVersion,be);return this._requests.add(it),it.getPromise().then(()=>this._requests.delete(it),()=>this._requests.delete(it)),it}}makeRequestWithTokens(m,P){var L=this;return(0,Ve.A)(function*(){const[Y,be]=yield Promise.all([L._getAuthToken(),L._getAppCheckToken()]);return L._makeRequest(m,P,Y,be).getPromise()})()}}const Ur="@firebase/storage";function Ml(v,m){return bn(v=(0,Fo.Ku)(v),m)}function Xs(v,{instanceIdentifier:m}){const P=v.getProvider("app").getImmediate(),L=v.getProvider("auth-internal"),Y=v.getProvider("app-check-internal");return new Hr(P,L,Y,m,Lo.SDK_VERSION)}!function ac(){(0,Lo._registerComponent)(new rs.uA("storage",Xs,"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(Ur,"0.13.2",""),(0,Lo.registerVersion)(Ur,"0.13.2","esm2017")}();class ol{constructor(m,P,L){this._delegate=m,this.task=P,this.ref=L}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class lc{constructor(m,P){this._delegate=m,this._ref=P,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ol(this._delegate.snapshot,this,this._ref)}then(m,P){return this._delegate.then(L=>{if(m)return m(new ol(L,this,this._ref))},P)}on(m,P,L,Y){let be;return P&&(be="function"==typeof P?it=>P(new ol(it,this,this._ref)):{next:P.next?it=>P.next(new ol(it,this,this._ref)):void 0,complete:P.complete||void 0,error:P.error||void 0}),this._delegate.on(m,be,L||void 0,Y||void 0)}}class Su{constructor(m,P){this._delegate=m,this._service=P}get prefixes(){return this._delegate.prefixes.map(m=>new Es(m,this._service))}get items(){return this._delegate.items.map(m=>new Es(m,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Es{constructor(m,P){this._delegate=m,this.storage=P}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(m){const P=function Io(v,m){return G(v,m)}(this._delegate,m);return new Es(P,this.storage)}get root(){return new Es(this._delegate.root,this.storage)}get parent(){const m=this._delegate.parent;return null==m?null:new Es(m,this.storage)}put(m,P){return this._throwIfRoot("put"),new lc(function _s(v,m,P){return function il(v,m,P){return v._throwIfRoot("uploadBytesResumable"),new ou(v,new Vo(m),P)}(v=(0,Fo.Ku)(v),m,P)}(this._delegate,m,P),this)}putString(m,P=So.RAW,L){this._throwIfRoot("putString");const Y=qr(P,m),be=Object.assign({},L);return null==be.contentType&&null!=Y.contentType&&(be.contentType=Y.contentType),new lc(new ou(this._delegate,new Vo(Y.data,!0),be),this)}listAll(){return function Fa(v){return function Os(v){const m={prefixes:[],items:[]};return sa(v,m).then(()=>m)}(v=(0,Fo.Ku)(v))}(this._delegate).then(m=>new Su(m,this.storage))}list(m){return function Ks(v,m){return su(v=(0,Fo.Ku)(v),m)}(this._delegate,m||void 0).then(P=>new Su(P,this.storage))}getMetadata(){return function ys(v){return function yl(v){v._throwIfRoot("getMetadata");const m=ia(v.storage,v._location,Ja());return v.storage.makeRequestWithTokens(m,Po)}(v=(0,Fo.Ku)(v))}(this._delegate)}updateMetadata(m){return function ws(v,m){return function w(v,m){v._throwIfRoot("updateMetadata");const P=function ma(v,m,P,L){const be=Yi(m.fullServerUrl(),v.host,v._protocol),Mt=W(P,L),gn=v.maxOperationRetryTime,sr=new Ki(be,"PATCH",Pr(v,L),gn);return sr.headers={"Content-Type":"application/json; charset=utf-8"},sr.body=Mt,sr.errorHandler=Gs(m),sr}(v.storage,v._location,m,Ja());return v.storage.makeRequestWithTokens(P,Po)}(v=(0,Fo.Ku)(v),m)}(this._delegate,m)}getDownloadURL(){return function aa(v){return q(v=(0,Fo.Ku)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Lc(v){return function Le(v){v._throwIfRoot("deleteObject");const m=function ml(v,m){const L=Yi(m.fullServerUrl(),v.host,v._protocol),Mt=new Ki(L,"DELETE",function it(hn,gn){},v.maxOperationRetryTime);return Mt.successCodes=[200,204],Mt.errorHandler=Gs(m),Mt}(v.storage,v._location);return v.storage.makeRequestWithTokens(m,Po)}(v=(0,Fo.Ku)(v))}(this._delegate)}_throwIfRoot(m){if(""===this._delegate._location.path)throw en(m)}}class Nl{constructor(m,P){this.app=m,this._delegate=P}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(m){if(co(m))throw Qt("ref() expected a child path but got a URL, use refFromURL instead.");return new Es(Ml(this._delegate,m),this)}refFromURL(m){if(!co(m))throw Qt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rn.makeFromUrl(m,this._delegate.host)}catch{throw Qt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Es(Ml(this._delegate,m),this)}setMaxUploadRetryTime(m){this._delegate.maxUploadRetryTime=m}setMaxOperationRetryTime(m){this._delegate.maxOperationRetryTime=m}useEmulator(m,P,L={}){!function El(v,m,P,L={}){!function ui(v,m,P,L={}){v.host=`${m}:${P}`,v._protocol="http";const{mockUserToken:Y}=L;Y&&(v._overrideAuthToken="string"==typeof Y?Y:(0,Fo.Fy)(Y,v.app.options.projectId))}(v,m,P,L)}(this._delegate,m,P,L)}}function co(v){return/^[A-Za-z]+:\/\//.test(v)}function xl(v,{instanceIdentifier:m}){const P=v.getProvider("app-compat").getImmediate(),L=v.getProvider("storage").getImmediate({identifier:m});return new Nl(P,L)}!function _a(v){const m={TaskState:Xo,TaskEvent:ds,StringFormat:So,Storage:Nl,Reference:Es};v.INTERNAL.registerComponent(new rs.uA("storage-compat",xl,"PUBLIC").setServiceProps(m).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.12")}(ko.A);var Di=k(762);function Fc(v){const m=function la(v){return new ct.c(m=>{const P=it=>m.next(it);P(v.snapshot);const be=v.on("state_changed",P);return v.then(it=>{P(it),m.complete()},it=>{P(v.snapshot),(it=>{m.error(it)})(it)}),function(){be()}}).pipe(function oo(v,m=Xr.E){return(0,Si.N)((P,L)=>{let Y=null,be=null,it=null;const Mt=()=>{if(Y){Y.unsubscribe(),Y=null;const gn=be;be=null,L.next(gn)}};function hn(){const gn=it+v,sr=m.now();if(sr<gn)return Y=this.schedule(void 0,gn-sr),void L.add(Y);Mt()}P.subscribe((0,jr._)(L,gn=>{be=gn,it=m.now(),Y||(Y=m.schedule(hn,v),L.add(Y))},()=>{Mt(),L.complete()},void 0,()=>{be=Y=null}))})}(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>m,percentageChanges:()=>m.pipe((0,ue.T)(P=>P.bytesTransferred/P.totalBytes*100))}}function Il(v){return{getDownloadURL:()=>(0,ut.of)(void 0).pipe(Rr.Oe,(0,Re.n)(()=>v.getDownloadURL()),Rr.U0),getMetadata:()=>(0,ut.of)(void 0).pipe(Rr.Oe,(0,Re.n)(()=>v.getMetadata()),Rr.U0),delete:()=>(0,tt.H)(v.delete()),child:m=>Il(v.child(m)),updateMetadata:m=>(0,tt.H)(v.updateMetadata(m)),put:(m,P)=>Fc(v.put(m,P)),putString:(m,P,L)=>Fc(v.putString(m,P,L)),list:m=>(0,tt.H)(v.list(m)),listAll:()=>(0,tt.H)(v.listAll())}}const Ru=new J.nKC("angularfire2.storageBucket"),kl=new J.nKC("angularfire2.storage.maxUploadRetryTime"),qs=new J.nKC("angularfire2.storage.maxOperationRetryTime"),Yo=new J.nKC("angularfire2.storage.use-emulator");let au=(()=>{var v;class m{constructor(L,Y,be,it,Mt,hn,gn,sr,dr,Or){(0,ar.A)(this,"storage",void 0);const Jr=(0,Sn.iB)(L,Mt,Y);this.storage=(0,Sn.BM)(`${Jr.name}.storage.${be}`,"AngularFireStorage",Jr.name,()=>{const pi=Mt.runOutsideAngular(()=>Jr.storage(be||void 0)),xi=dr;return xi&&pi.useEmulator(...xi),gn&&pi.setMaxUploadRetryTime(gn),sr&&pi.setMaxOperationRetryTime(sr),pi},[gn,sr])}ref(L){return Il(this.storage.ref(L))}refFromURL(L){return Il(this.storage.refFromURL(L))}upload(L,Y,be){return Il(this.storage.ref(L)).put(Y,be)}}return v=m,(0,ar.A)(m,"\u0275fac",function(L){return new(L||v)(J.KVO(Sn.rx),J.KVO(Sn.uP,8),J.KVO(Ru,8),J.KVO(J.Agw),J.KVO(J.SKi),J.KVO(Rr.u0),J.KVO(kl,8),J.KVO(qs,8),J.KVO(Yo,8),J.KVO(Rr.Jv,8))}),(0,ar.A)(m,"\u0275prov",J.jDH({token:v,factory:v.\u0275fac,providedIn:"any"})),m})(),ho=(()=>{var v;class m{}return v=m,(0,ar.A)(m,"\u0275fac",function(L){return new(L||v)}),(0,ar.A)(m,"\u0275mod",J.$C({type:v})),(0,ar.A)(m,"\u0275inj",J.G2t({})),m})(),lu=(()=>{var v;class m{constructor(){Di.A.registerVersion("angularfire",Rr.xv.full,"gcs-compat")}}return v=m,(0,ar.A)(m,"\u0275fac",function(L){return new(L||v)}),(0,ar.A)(m,"\u0275mod",J.$C({type:v})),(0,ar.A)(m,"\u0275inj",J.G2t({providers:[au],imports:[ho]})),m})();const ya_firebaseConfig={apiKey:"AIzaSyCXMoykv2bcS-wdkCo14GVYmThAYhFcCI8",authDomain:"safecityproyec.firebaseapp.com",projectId:"safecityproyec",storageBucket:"safecityproyec.firebasestorage.app",messagingSenderId:"393725576908",appId:"1:393725576908:web:6c7359e361723308f5a469"};var uc=k(4341),Ua=k(5553);const Uc=function(v){const m=[];let P=0;for(let L=0;L<v.length;L++){let Y=v.charCodeAt(L);Y<128?m[P++]=Y:Y<2048?(m[P++]=Y>>6|192,m[P++]=63&Y|128):55296==(64512&Y)&&L+1<v.length&&56320==(64512&v.charCodeAt(L+1))?(Y=65536+((1023&Y)<<10)+(1023&v.charCodeAt(++L)),m[P++]=Y>>18|240,m[P++]=Y>>12&63|128,m[P++]=Y>>6&63|128,m[P++]=63&Y|128):(m[P++]=Y>>12|224,m[P++]=Y>>6&63|128,m[P++]=63&Y|128)}return m},Bc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(v,m){if(!Array.isArray(v))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=m?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let Y=0;Y<v.length;Y+=3){const be=v[Y],it=Y+1<v.length,Mt=it?v[Y+1]:0,hn=Y+2<v.length,gn=hn?v[Y+2]:0;let Or=(15&Mt)<<2|gn>>6,Jr=63&gn;hn||(Jr=64,it||(Or=64)),L.push(P[be>>2],P[(3&be)<<4|Mt>>4],P[Or],P[Jr])}return L.join("")},encodeString(v,m){return this.HAS_NATIVE_SUPPORT&&!m?btoa(v):this.encodeByteArray(Uc(v),m)},decodeString(v,m){return this.HAS_NATIVE_SUPPORT&&!m?atob(v):function(v){const m=[];let P=0,L=0;for(;P<v.length;){const Y=v[P++];if(Y<128)m[L++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const be=v[P++];m[L++]=String.fromCharCode((31&Y)<<6|63&be)}else if(Y>239&&Y<365){const hn=((7&Y)<<18|(63&v[P++])<<12|(63&v[P++])<<6|63&v[P++])-65536;m[L++]=String.fromCharCode(55296+(hn>>10)),m[L++]=String.fromCharCode(56320+(1023&hn))}else{const be=v[P++],it=v[P++];m[L++]=String.fromCharCode((15&Y)<<12|(63&be)<<6|63&it)}}return m.join("")}(this.decodeStringToByteArray(v,m))},decodeStringToByteArray(v,m){this.init_();const P=m?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let Y=0;Y<v.length;){const be=P[v.charAt(Y++)],Mt=Y<v.length?P[v.charAt(Y)]:0;++Y;const gn=Y<v.length?P[v.charAt(Y)]:64;++Y;const dr=Y<v.length?P[v.charAt(Y)]:64;if(++Y,null==be||null==Mt||null==gn||null==dr)throw new $c;L.push(be<<2|Mt>>4),64!==gn&&(L.push(Mt<<4&240|gn>>2),64!==dr&&L.push(gn<<6&192|dr))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let v=0;v<this.ENCODED_VALS.length;v++)this.byteToCharMap_[v]=this.ENCODED_VALS.charAt(v),this.charToByteMap_[this.byteToCharMap_[v]]=v,this.byteToCharMapWebSafe_[v]=this.ENCODED_VALS_WEBSAFE.charAt(v),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[v]]=v,v>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(v)]=v,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(v)]=v)}}};class $c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M=function(v){return function(v){const m=Uc(v);return Bc.encodeByteArray(m,!0)}(v).replace(/\./g,"")},Wn=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const v=process.env.__FIREBASE_DEFAULTS__;return v?JSON.parse(v):void 0})()||(()=>{if(typeof document>"u")return;let v;try{v=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const m=v&&function(v){try{return Bc.decodeString(v,!0)}catch(m){console.error("base64Decode failed: ",m)}return null}(v[1]);return m&&JSON.parse(m)})()}catch(v){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${v}`)}};class Ir{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((m,P)=>{this.resolve=m,this.reject=P})}wrapCallback(m){return(P,L)=>{P?this.reject(P):this.resolve(L),"function"==typeof m&&(this.promise.catch(()=>{}),1===m.length?m(P):m(P,L))}}}class $l extends Error{constructor(m,P,L){super(P),this.code=m,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,$l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(m,P,L){this.service=m,this.serviceName=P,this.errors=L}create(m,...P){const L=P[0]||{},Y=`${this.service}/${m}`,be=this.errors[m],it=be?function al(v,m){return v.replace(cu,(P,L)=>{const Y=m[L];return null!=Y?String(Y):`<${L}?>`})}(be,L):"Error";return new $l(Y,`${this.serviceName}: ${it} (${Y}).`,L)}}const cu=/\{\$([^}]+)}/g;function Ha(v,m){if(v===m)return!0;const P=Object.keys(v),L=Object.keys(m);for(const Y of P){if(!L.includes(Y))return!1;const be=v[Y],it=m[Y];if(Sd(be)&&Sd(it)){if(!Ha(be,it))return!1}else if(be!==it)return!1}for(const Y of L)if(!P.includes(Y))return!1;return!0}function Sd(v){return null!==v&&"object"==typeof v}class po{constructor(m,P,L){this.name=m,this.instanceFactory=P,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(m){return this.instantiationMode=m,this}setMultipleInstances(m){return this.multipleInstances=m,this}setServiceProps(m){return this.serviceProps=m,this}setInstanceCreatedCallback(m){return this.onInstanceCreated=m,this}}const jo="[DEFAULT]";class Ys{constructor(m,P){this.name=m,this.container=P,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(m){const P=this.normalizeInstanceIdentifier(m);if(!this.instancesDeferred.has(P)){const L=new Ir;if(this.instancesDeferred.set(P,L),this.isInitialized(P)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:P});Y&&L.resolve(Y)}catch{}}return this.instancesDeferred.get(P).promise}getImmediate(m){var P;const L=this.normalizeInstanceIdentifier(null==m?void 0:m.identifier),Y=null!==(P=null==m?void 0:m.optional)&&void 0!==P&&P;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(be){if(Y)return null;throw be}}getComponent(){return this.component}setComponent(m){if(m.name!==this.name)throw Error(`Mismatching Component ${m.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=m,this.shouldAutoInitialize()){if(function lo(v){return"EAGER"===v.instantiationMode}(m))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[P,L]of this.instancesDeferred.entries()){const Y=this.normalizeInstanceIdentifier(P);try{const be=this.getOrInitializeService({instanceIdentifier:Y});L.resolve(be)}catch{}}}}clearInstance(m=jo){this.instancesDeferred.delete(m),this.instancesOptions.delete(m),this.instances.delete(m)}delete(){var m=this;return(0,Ve.A)(function*(){const P=Array.from(m.instances.values());yield Promise.all([...P.filter(L=>"INTERNAL"in L).map(L=>L.INTERNAL.delete()),...P.filter(L=>"_delete"in L).map(L=>L._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(m=jo){return this.instances.has(m)}getOptions(m=jo){return this.instancesOptions.get(m)||{}}initialize(m={}){const{options:P={}}=m,L=this.normalizeInstanceIdentifier(m.instanceIdentifier);if(this.isInitialized(L))throw Error(`${this.name}(${L}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Y=this.getOrInitializeService({instanceIdentifier:L,options:P});for(const[be,it]of this.instancesDeferred.entries())L===this.normalizeInstanceIdentifier(be)&&it.resolve(Y);return Y}onInit(m,P){var L;const Y=this.normalizeInstanceIdentifier(P),be=null!==(L=this.onInitCallbacks.get(Y))&&void 0!==L?L:new Set;be.add(m),this.onInitCallbacks.set(Y,be);const it=this.instances.get(Y);return it&&m(it,Y),()=>{be.delete(m)}}invokeOnInitCallbacks(m,P){const L=this.onInitCallbacks.get(P);if(L)for(const Y of L)try{Y(m,P)}catch{}}getOrInitializeService({instanceIdentifier:m,options:P={}}){let L=this.instances.get(m);if(!L&&this.component&&(L=this.component.instanceFactory(this.container,{instanceIdentifier:(v=m,v===jo?void 0:v),options:P}),this.instances.set(m,L),this.instancesOptions.set(m,P),this.invokeOnInitCallbacks(L,m),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,m,L)}catch{}var v;return L||null}normalizeInstanceIdentifier(m=jo){return this.component?this.component.multipleInstances?m:jo:m}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ea{constructor(m){this.name=m,this.providers=new Map}addComponent(m){const P=this.getProvider(m.name);if(P.isComponentSet())throw new Error(`Component ${m.name} has already been registered with ${this.name}`);P.setComponent(m)}addOrOverwriteComponent(m){this.getProvider(m.name).isComponentSet()&&this.providers.delete(m.name),this.addComponent(m)}getProvider(m){if(this.providers.has(m))return this.providers.get(m);const P=new Ys(m,this);return this.providers.set(m,P),P}getProviders(){return Array.from(this.providers.values())}}const Br=[];var Bi=function(v){return v[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT",v}(Bi||{});const xd={debug:Bi.DEBUG,verbose:Bi.VERBOSE,info:Bi.INFO,warn:Bi.WARN,error:Bi.ERROR,silent:Bi.SILENT},pu=Bi.INFO,Ao={[Bi.DEBUG]:"log",[Bi.VERBOSE]:"log",[Bi.INFO]:"info",[Bi.WARN]:"warn",[Bi.ERROR]:"error"},ll=(v,m,...P)=>{if(m<v.logLevel)return;const L=(new Date).toISOString(),Y=Ao[m];if(!Y)throw new Error(`Attempted to log a message with an invalid logType (value: ${m})`);console[Y](`[${L}]  ${v.name}:`,...P)};var yh=k(6749);class Ga{constructor(m){this.container=m}getPlatformInfoString(){return this.container.getProviders().map(P=>{if(function Wa(v){const m=v.getComponent();return"VERSION"===(null==m?void 0:m.type)}(P)){const L=P.getImmediate();return`${L.library}/${L.version}`}return null}).filter(P=>P).join(" ")}}const Jo="@firebase/app",hr="0.10.16",Ia=new class gu{constructor(m){this.name=m,this._logLevel=pu,this._logHandler=ll,this._userLogHandler=null,Br.push(this)}get logLevel(){return this._logLevel}set logLevel(m){if(!(m in Bi))throw new TypeError(`Invalid value "${m}" assigned to \`logLevel\``);this._logLevel=m}setLogLevel(m){this._logLevel="string"==typeof m?xd[m]:m}get logHandler(){return this._logHandler}set logHandler(m){if("function"!=typeof m)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=m}get userLogHandler(){return this._userLogHandler}set userLogHandler(m){this._userLogHandler=m}debug(...m){this._userLogHandler&&this._userLogHandler(this,Bi.DEBUG,...m),this._logHandler(this,Bi.DEBUG,...m)}log(...m){this._userLogHandler&&this._userLogHandler(this,Bi.VERBOSE,...m),this._logHandler(this,Bi.VERBOSE,...m)}info(...m){this._userLogHandler&&this._userLogHandler(this,Bi.INFO,...m),this._logHandler(this,Bi.INFO,...m)}warn(...m){this._userLogHandler&&this._userLogHandler(this,Bi.WARN,...m),this._logHandler(this,Bi.WARN,...m)}error(...m){this._userLogHandler&&this._userLogHandler(this,Bi.ERROR,...m),this._logHandler(this,Bi.ERROR,...m)}}("@firebase/app"),_c="@firebase/app-compat",Aa="@firebase/analytics-compat",Xc="@firebase/analytics",Fu="@firebase/app-check-compat",Ho="@firebase/app-check",Vu="@firebase/auth",Mi="@firebase/auth-compat",hs="@firebase/database",yc="@firebase/data-connect",mu="@firebase/database-compat",Uu="@firebase/functions",ua="@firebase/functions-compat",Bu="@firebase/installations",$u="@firebase/installations-compat",ju="@firebase/messaging",kd="@firebase/messaging-compat",Eh="@firebase/performance",Ec="@firebase/performance-compat",Hu="@firebase/remote-config",vu="@firebase/remote-config-compat",qc="@firebase/storage",Ld="@firebase/storage-compat",Ih="@firebase/firestore",jp="@firebase/vertexai",Df="@firebase/firestore-compat",Hp="firebase",Ah={[Jo]:"fire-core",[_c]:"fire-core-compat",[Xc]:"fire-analytics",[Aa]:"fire-analytics-compat",[Ho]:"fire-app-check",[Fu]:"fire-app-check-compat",[Vu]:"fire-auth",[Mi]:"fire-auth-compat",[hs]:"fire-rtdb",[yc]:"fire-data-connect",[mu]:"fire-rtdb-compat",[Uu]:"fire-fn",[ua]:"fire-fn-compat",[Bu]:"fire-iid",[$u]:"fire-iid-compat",[ju]:"fire-fcm",[kd]:"fire-fcm-compat",[Eh]:"fire-perf",[Ec]:"fire-perf-compat",[Hu]:"fire-rc",[vu]:"fire-rc-compat",[qc]:"fire-gcs",[Ld]:"fire-gcs-compat",[Ih]:"fire-fst",[Df]:"fire-fst-compat",[jp]:"fire-vertex","fire-js":"fire-js",[Hp]:"fire-js-all"},Ac=new Map,Tc=new Map,b=new Map;function p(v,m){try{v.container.addComponent(m)}catch(P){Ia.debug(`Component ${m.name} failed to register with FirebaseApp ${v.name}`,P)}}function S(v){const m=v.name;if(b.has(m))return Ia.debug(`There were multiple attempts to register component ${m}.`),!1;b.set(m,v);for(const P of Ac.values())p(P,v);for(const P of Tc.values())p(P,v);return!0}const cr=new Hc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class hi{constructor(m,P,L){this._isDeleted=!1,this._options=Object.assign({},m),this._config=Object.assign({},P),this._name=P.name,this._automaticDataCollectionEnabled=P.automaticDataCollectionEnabled,this._container=L,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(m){this.checkDestroyed(),this._automaticDataCollectionEnabled=m}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(m){this._isDeleted=m}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}function fi(v,m,P){var L;let Y=null!==(L=Ah[v])&&void 0!==L?L:v;P&&(Y+=`-${P}`);const be=Y.match(/\s|\//),it=m.match(/\s|\//);if(be||it){const Mt=[`Unable to register library "${Y}" with version "${m}":`];return be&&Mt.push(`library name "${Y}" contains illegal characters (whitespace or "/")`),be&&it&&Mt.push("and"),it&&Mt.push(`version name "${m}" contains illegal characters (whitespace or "/")`),void Ia.warn(Mt.join(" "))}S(new po(`${Y}-version`,()=>({library:Y,version:m}),"VERSION"))}const Is="firebase-heartbeat-database",wf=1,Ta="firebase-heartbeat-store";let Ca=null;function Js(){return Ca||(Ca=(0,yh.P2)(Is,wf,{upgrade:(v,m)=>{if(0===m)try{v.createObjectStore(Ta)}catch(P){console.warn(P)}}}).catch(v=>{throw cr.create("idb-open",{originalErrorMessage:v.message})})),Ca}function Fd(){return(Fd=(0,Ve.A)(function*(v){try{const P=(yield Js()).transaction(Ta),L=yield P.objectStore(Ta).get(Th(v));return yield P.done,L}catch(m){if(m instanceof $l)Ia.warn(m.message);else{const P=cr.create("idb-get",{originalErrorMessage:null==m?void 0:m.message});Ia.warn(P.message)}}})).apply(this,arguments)}function Ls(v,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,Ve.A)(function*(v,m){try{const L=(yield Js()).transaction(Ta,"readwrite");yield L.objectStore(Ta).put(m,Th(v)),yield L.done}catch(P){if(P instanceof $l)Ia.warn(P.message);else{const L=cr.create("idb-set",{originalErrorMessage:null==P?void 0:P.message});Ia.warn(L.message)}}})).apply(this,arguments)}function Th(v){return`${v.name}!${v.options.appId}`}class Zc{constructor(m){this.container=m,this._heartbeatsCache=null;const P=this.container.getProvider("app").getImmediate();this._storage=new bh(P),this._heartbeatsCachePromise=this._storage.read().then(L=>(this._heartbeatsCache=L,L))}triggerHeartbeat(){var m=this;return(0,Ve.A)(function*(){var P,L;try{const be=m.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),it=Ud();return null==(null===(P=m._heartbeatsCache)||void 0===P?void 0:P.heartbeats)&&(m._heartbeatsCache=yield m._heartbeatsCachePromise,null==(null===(L=m._heartbeatsCache)||void 0===L?void 0:L.heartbeats))||m._heartbeatsCache.lastSentHeartbeatDate===it||m._heartbeatsCache.heartbeats.some(Mt=>Mt.date===it)?void 0:(m._heartbeatsCache.heartbeats.push({date:it,agent:be}),m._heartbeatsCache.heartbeats=m._heartbeatsCache.heartbeats.filter(Mt=>{const hn=new Date(Mt.date).valueOf();return Date.now()-hn<=2592e6}),m._storage.overwrite(m._heartbeatsCache))}catch(Y){Ia.warn(Y)}})()}getHeartbeatsHeader(){var m=this;return(0,Ve.A)(function*(){var P;try{if(null===m._heartbeatsCache&&(yield m._heartbeatsCachePromise),null==(null===(P=m._heartbeatsCache)||void 0===P?void 0:P.heartbeats)||0===m._heartbeatsCache.heartbeats.length)return"";const L=Ud(),{heartbeatsToSend:Y,unsentEntries:be}=function Ch(v,m=1024){const P=[];let L=v.slice();for(const Y of v){const be=P.find(it=>it.agent===Y.agent);if(be){if(be.dates.push(Y.date),Dh(P)>m){be.dates.pop();break}}else if(P.push({agent:Y.agent,dates:[Y.date]}),Dh(P)>m){P.pop();break}L=L.slice(1)}return{heartbeatsToSend:P,unsentEntries:L}}(m._heartbeatsCache.heartbeats),it=M(JSON.stringify({version:2,heartbeats:Y}));return m._heartbeatsCache.lastSentHeartbeatDate=L,be.length>0?(m._heartbeatsCache.heartbeats=be,yield m._storage.overwrite(m._heartbeatsCache)):(m._heartbeatsCache.heartbeats=[],m._storage.overwrite(m._heartbeatsCache)),it}catch(L){return Ia.warn(L),""}})()}}function Ud(){return(new Date).toISOString().substring(0,10)}class bh{constructor(m){this.app=m,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,Ve.A)(function*(){return!!function vh(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function jc(){return new Promise((v,m)=>{try{let P=!0;const L="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(L);Y.onsuccess=()=>{Y.result.close(),P||self.indexedDB.deleteDatabase(L),v(!0)},Y.onupgradeneeded=()=>{P=!1},Y.onerror=()=>{var be;m((null===(be=Y.error)||void 0===be?void 0:be.message)||"")}}catch(P){m(P)}})}().then(()=>!0).catch(()=>!1)})()}read(){var m=this;return(0,Ve.A)(function*(){if(yield m._canUseIndexedDBPromise){const L=yield function Mm(v){return Fd.apply(this,arguments)}(m.app);return null!=L&&L.heartbeats?L:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(m){var P=this;return(0,Ve.A)(function*(){var L;if(yield P._canUseIndexedDBPromise){const be=yield P.read();return Ls(P.app,{lastSentHeartbeatDate:null!==(L=m.lastSentHeartbeatDate)&&void 0!==L?L:be.lastSentHeartbeatDate,heartbeats:m.heartbeats})}})()}add(m){var P=this;return(0,Ve.A)(function*(){var L;if(yield P._canUseIndexedDBPromise){const be=yield P.read();return Ls(P.app,{lastSentHeartbeatDate:null!==(L=m.lastSentHeartbeatDate)&&void 0!==L?L:be.lastSentHeartbeatDate,heartbeats:[...be.heartbeats,...m.heartbeats]})}})()}}function Dh(v){return M(JSON.stringify({version:2,heartbeats:v})).length}!function yu(v){S(new po("platform-logger",m=>new Ga(m),"PRIVATE")),S(new po("heartbeat",m=>new Zc(m),"PRIVATE")),fi(Jo,hr,v),fi(Jo,hr,"esm2017"),fi("fire-js","")}(""),fi("firebase","11.0.2","app");var zl=k(7037);class Gl{constructor(m){return m}}const Bd=new J.nKC("angularfire2._apps"),wh={provide:Gl,useFactory:function ed(v){return v&&1===v.length?v[0]:new Gl((0,zl.Sx)())},deps:[[new J.Xx1,Bd]]},Wl={provide:class Gp{constructor(){return(0,zl.Dk)()}},deps:[[new J.Xx1,Bd]]};let Wu=(()=>{var v;class m{constructor(L){(0,zl.KO)("angularfire",Rr.xv.full,"core"),(0,zl.KO)("angularfire",Rr.xv.full,"app"),(0,zl.KO)("angular",J.xvI.full,L.toString())}}return v=m,(0,ar.A)(m,"\u0275fac",function(L){return new(L||v)(J.KVO(J.Agw))}),(0,ar.A)(m,"\u0275mod",J.$C({type:v})),(0,ar.A)(m,"\u0275inj",J.G2t({providers:[wh,Wl]})),m})();k(5948);class td{constructor(m){return m}}const Kp=new J.nKC("angularfire2.auth-instances"),Sh={provide:class Ku{constructor(){return(0,Rr.CA)("auth")}},deps:[[new J.Xx1,Kp]]},xf={provide:td,useFactory:function C_(v,m){const P=(0,Rr.lR)("auth",v,m);return P&&new td(P)},deps:[[new J.Xx1,Kp],Gl]};let Fs=(()=>{var v;class m{constructor(){(0,zl.KO)("angularfire",Rr.xv.full,"auth")}}return v=m,(0,ar.A)(m,"\u0275fac",function(L){return new(L||v)}),(0,ar.A)(m,"\u0275mod",J.$C({type:v})),(0,ar.A)(m,"\u0275inj",J.G2t({providers:[xf,Sh]})),m})();!function zu(v,m={}){let P=v;"object"!=typeof m&&(m={name:m});const L=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},m),Y=L.name;if("string"!=typeof Y||!Y)throw cr.create("bad-app-name",{appName:String(Y)});if(P||(P=(()=>{var v;return null===(v=Wn())||void 0===v?void 0:v.config})()),!P)throw cr.create("no-options");const be=Ac.get(Y);if(be){if(Ha(P,be.options)&&Ha(L,be.config))return be;throw cr.create("duplicate-app",{appName:Y})}const it=new Ea(Y);for(const hn of b.values())it.addComponent(hn);const Mt=new hi(P,L,it);return Ac.set(Y,Mt),Mt}(ya_firebaseConfig);let M_=(()=>{var v;class m{}return(v=m).\u0275fac=function(L){return new(L||v)},v.\u0275mod=J.$C({type:v,bootstrap:[Oe]}),v.\u0275inj=J.G2t({providers:[{provide:h.b,useClass:B.jM},xn()],imports:[d.Bb,Ee.bv.forRoot({swipeBackEnabled:!1}),Se,ot.forRoot(),Sn.bf.initializeApp(ya_firebaseConfig),Un.X8,Jn.cM,lu,uc.YN,Ua.h,Fs,Wu,Je]}),m})();d.sG().bootstrapModule(M_).catch(v=>console.log(v))},119:Mn=>{Mn.exports=function h(B,Ee,J){function ye(Ve,we){if(!Ee[Ve]){if(!B[Ve]){if(Se)return Se(Ve,!0);var Fe=new Error("Cannot find module '"+Ve+"'");throw Fe.code="MODULE_NOT_FOUND",Fe}var Ye=Ee[Ve]={exports:{}};B[Ve][0].call(Ye.exports,function(Xe){return ye(B[Ve][1][Xe]||Xe)},Ye,Ye.exports,h,B,Ee,J)}return Ee[Ve].exports}for(var Se=void 0,Oe=0;Oe<J.length;Oe++)ye(J[Oe]);return ye}({1:[function(h,B,Ee){(function(J){"use strict";var Se,ye=J.MutationObserver||J.WebKitMutationObserver;if(ye){var Oe=0,Ve=new ye(Xe),we=J.document.createTextNode("");Ve.observe(we,{characterData:!0}),Se=function(){we.data=Oe=++Oe%2}}else if(!J.setImmediate&&typeof J.MessageChannel<"u"){var se=new J.MessageChannel;se.port1.onmessage=Xe,Se=function(){se.port2.postMessage(0)}}else Se="document"in J&&"onreadystatechange"in J.document.createElement("script")?function(){var ut=J.document.createElement("script");ut.onreadystatechange=function(){Xe(),ut.onreadystatechange=null,ut.parentNode.removeChild(ut),ut=null},J.document.documentElement.appendChild(ut)}:function(){setTimeout(Xe,0)};var Fe,Ye=[];function Xe(){Fe=!0;for(var ut,ct,tt=Ye.length;tt;){for(ct=Ye,Ye=[],ut=-1;++ut<tt;)ct[ut]();tt=Ye.length}Fe=!1}B.exports=function ot(ut){1===Ye.push(ut)&&!Fe&&Se()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(h,B,Ee){"use strict";var J=h(1);function ye(){}var Se={},Oe=["REJECTED"],Ve=["FULFILLED"],we=["PENDING"];function se(ue){if("function"!=typeof ue)throw new TypeError("resolver must be a function");this.state=we,this.queue=[],this.outcome=void 0,ue!==ye&&ot(this,ue)}function Fe(ue,De,Re){this.promise=ue,"function"==typeof De&&(this.onFulfilled=De,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Re&&(this.onRejected=Re,this.callRejected=this.otherCallRejected)}function Ye(ue,De,Re){J(function(){var Ke;try{Ke=De(Re)}catch(nt){return Se.reject(ue,nt)}Ke===ue?Se.reject(ue,new TypeError("Cannot resolve promise with itself")):Se.resolve(ue,Ke)})}function Xe(ue){var De=ue&&ue.then;if(ue&&("object"==typeof ue||"function"==typeof ue)&&"function"==typeof De)return function(){De.apply(ue,arguments)}}function ot(ue,De){var Re=!1;function Ke(rt){Re||(Re=!0,Se.reject(ue,rt))}function nt(rt){Re||(Re=!0,Se.resolve(ue,rt))}var pe=ut(function Ze(){De(nt,Ke)});"error"===pe.status&&Ke(pe.value)}function ut(ue,De){var Re={};try{Re.value=ue(De),Re.status="success"}catch(Ke){Re.status="error",Re.value=Ke}return Re}B.exports=se,se.prototype.catch=function(ue){return this.then(null,ue)},se.prototype.then=function(ue,De){if("function"!=typeof ue&&this.state===Ve||"function"!=typeof De&&this.state===Oe)return this;var Re=new this.constructor(ye);return this.state!==we?Ye(Re,this.state===Ve?ue:De,this.outcome):this.queue.push(new Fe(Re,ue,De)),Re},Fe.prototype.callFulfilled=function(ue){Se.resolve(this.promise,ue)},Fe.prototype.otherCallFulfilled=function(ue){Ye(this.promise,this.onFulfilled,ue)},Fe.prototype.callRejected=function(ue){Se.reject(this.promise,ue)},Fe.prototype.otherCallRejected=function(ue){Ye(this.promise,this.onRejected,ue)},Se.resolve=function(ue,De){var Re=ut(Xe,De);if("error"===Re.status)return Se.reject(ue,Re.value);var Ke=Re.value;if(Ke)ot(ue,Ke);else{ue.state=Ve,ue.outcome=De;for(var nt=-1,Ze=ue.queue.length;++nt<Ze;)ue.queue[nt].callFulfilled(De)}return ue},Se.reject=function(ue,De){ue.state=Oe,ue.outcome=De;for(var Re=-1,Ke=ue.queue.length;++Re<Ke;)ue.queue[Re].callRejected(De);return ue},se.resolve=function ct(ue){return ue instanceof this?ue:Se.resolve(new this(ye),ue)},se.reject=function tt(ue){var De=new this(ye);return Se.reject(De,ue)},se.all=function Dt(ue){var De=this;if("[object Array]"!==Object.prototype.toString.call(ue))return this.reject(new TypeError("must be an array"));var Re=ue.length,Ke=!1;if(!Re)return this.resolve([]);for(var nt=new Array(Re),Ze=0,pe=-1,rt=new this(ye);++pe<Re;)Ot(ue[pe],pe);return rt;function Ot(Xt,En){De.resolve(Xt).then(function tn(cn){nt[En]=cn,++Ze===Re&&!Ke&&(Ke=!0,Se.resolve(rt,nt))},function(cn){Ke||(Ke=!0,Se.reject(rt,cn))})}},se.race=function vt(ue){var De=this;if("[object Array]"!==Object.prototype.toString.call(ue))return this.reject(new TypeError("must be an array"));var Re=ue.length,Ke=!1;if(!Re)return this.resolve([]);for(var nt=-1,Ze=new this(ye);++nt<Re;)De.resolve(ue[nt]).then(function(Ot){Ke||(Ke=!0,Se.resolve(Ze,Ot))},function(Ot){Ke||(Ke=!0,Se.reject(Ze,Ot))});return Ze}},{1:1}],3:[function(h,B,Ee){(function(J){"use strict";"function"!=typeof J.Promise&&(J.Promise=h(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(h,B,Ee){"use strict";var J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ie){return typeof Ie}:function(Ie){return Ie&&"function"==typeof Symbol&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie};var Oe=function Se(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function we(Ie,Qe){Ie=Ie||[],Qe=Qe||{};try{return new Blob(Ie,Qe)}catch(gt){if("TypeError"!==gt.name)throw gt;for(var At=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Rt=0;Rt<Ie.length;Rt+=1)At.append(Ie[Rt]);return At.getBlob(Qe.type)}}typeof Promise>"u"&&h(3);var se=Promise;function Fe(Ie,Qe){Qe&&Ie.then(function(xe){Qe(null,xe)},function(xe){Qe(xe)})}function Ye(Ie,Qe,xe){"function"==typeof Qe&&Ie.then(Qe),"function"==typeof xe&&Ie.catch(xe)}function Xe(Ie){return"string"!=typeof Ie&&(console.warn(Ie+" used as a key, but it is not a string."),Ie=String(Ie)),Ie}function ot(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var ut="local-forage-detect-blob-support",ct=void 0,tt={},Dt=Object.prototype.toString,vt="readonly",ue="readwrite";function De(Ie){for(var Qe=Ie.length,xe=new ArrayBuffer(Qe),At=new Uint8Array(xe),Rt=0;Rt<Qe;Rt++)At[Rt]=Ie.charCodeAt(Rt);return xe}function Ke(Ie){return"boolean"==typeof ct?se.resolve(ct):function Re(Ie){return new se(function(Qe){var xe=Ie.transaction(ut,ue),At=we([""]);xe.objectStore(ut).put(At,"key"),xe.onabort=function(Rt){Rt.preventDefault(),Rt.stopPropagation(),Qe(!1)},xe.oncomplete=function(){var Rt=navigator.userAgent.match(/Chrome\/(\d+)/),gt=navigator.userAgent.match(/Edge\//);Qe(gt||!Rt||parseInt(Rt[1],10)>=43)}}).catch(function(){return!1})}(Ie).then(function(Qe){return ct=Qe})}function nt(Ie){var Qe=tt[Ie.name],xe={};xe.promise=new se(function(At,Rt){xe.resolve=At,xe.reject=Rt}),Qe.deferredOperations.push(xe),Qe.dbReady=Qe.dbReady?Qe.dbReady.then(function(){return xe.promise}):xe.promise}function Ze(Ie){var xe=tt[Ie.name].deferredOperations.pop();if(xe)return xe.resolve(),xe.promise}function pe(Ie,Qe){var At=tt[Ie.name].deferredOperations.pop();if(At)return At.reject(Qe),At.promise}function rt(Ie,Qe){return new se(function(xe,At){if(tt[Ie.name]=tt[Ie.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},Ie.db){if(!Qe)return xe(Ie.db);nt(Ie),Ie.db.close()}var Rt=[Ie.name];Qe&&Rt.push(Ie.version);var gt=Oe.open.apply(Oe,Rt);Qe&&(gt.onupgradeneeded=function(sn){var vn=gt.result;try{vn.createObjectStore(Ie.storeName),sn.oldVersion<=1&&vn.createObjectStore(ut)}catch(An){if("ConstraintError"!==An.name)throw An;console.warn('The database "'+Ie.name+'" has been upgraded from version '+sn.oldVersion+" to version "+sn.newVersion+', but the storage "'+Ie.storeName+'" already exists.')}}),gt.onerror=function(sn){sn.preventDefault(),At(gt.error)},gt.onsuccess=function(){var sn=gt.result;sn.onversionchange=function(vn){vn.target.close()},xe(sn),Ze(Ie)}})}function Ot(Ie){return rt(Ie,!1)}function Xt(Ie){return rt(Ie,!0)}function En(Ie,Qe){if(!Ie.db)return!0;var xe=!Ie.db.objectStoreNames.contains(Ie.storeName),Rt=Ie.version>Ie.db.version;if(Ie.version<Ie.db.version&&(Ie.version!==Qe&&console.warn('The database "'+Ie.name+"\" can't be downgraded from version "+Ie.db.version+" to version "+Ie.version+"."),Ie.version=Ie.db.version),Rt||xe){if(xe){var gt=Ie.db.version+1;gt>Ie.version&&(Ie.version=gt)}return!0}return!1}function cn(Ie){return we([De(atob(Ie.data))],{type:Ie.type})}function ft(Ie){return Ie&&Ie.__local_forage_encoded_blob}function Me(Ie){var Qe=this,xe=Qe._initReady().then(function(){var At=tt[Qe._dbInfo.name];if(At&&At.dbReady)return At.dbReady});return Ye(xe,Ie,Ie),xe}function oe(Ie,Qe,xe,At){void 0===At&&(At=1);try{var Rt=Ie.db.transaction(Ie.storeName,Qe);xe(null,Rt)}catch(gt){if(At>0&&(!Ie.db||"InvalidStateError"===gt.name||"NotFoundError"===gt.name))return se.resolve().then(function(){if(!Ie.db||"NotFoundError"===gt.name&&!Ie.db.objectStoreNames.contains(Ie.storeName)&&Ie.version<=Ie.db.version)return Ie.db&&(Ie.version=Ie.db.version+1),Xt(Ie)}).then(function(){return function ie(Ie){nt(Ie);for(var Qe=tt[Ie.name],xe=Qe.forages,At=0;At<xe.length;At++){var Rt=xe[At];Rt._dbInfo.db&&(Rt._dbInfo.db.close(),Rt._dbInfo.db=null)}return Ie.db=null,Ot(Ie).then(function(gt){return Ie.db=gt,En(Ie)?Xt(Ie):gt}).then(function(gt){Ie.db=Qe.db=gt;for(var sn=0;sn<xe.length;sn++)xe[sn]._dbInfo.db=gt}).catch(function(gt){throw pe(Ie,gt),gt})}(Ie).then(function(){oe(Ie,Qe,xe,At-1)})}).catch(xe);xe(gt)}}var Ln={_driver:"asyncStorage",_initStorage:function Ge(Ie){var Qe=this,xe={db:null};if(Ie)for(var At in Ie)xe[At]=Ie[At];var Rt=tt[xe.name];Rt||(tt[xe.name]=Rt={forages:[],db:null,dbReady:null,deferredOperations:[]}),Rt.forages.push(Qe),Qe._initReady||(Qe._initReady=Qe.ready,Qe.ready=Me);var gt=[];function sn(){return se.resolve()}for(var vn=0;vn<Rt.forages.length;vn++){var An=Rt.forages[vn];An!==Qe&&gt.push(An._initReady().catch(sn))}var Sn=Rt.forages.slice(0);return se.all(gt).then(function(){return xe.db=Rt.db,Ot(xe)}).then(function(Un){return xe.db=Un,En(xe,Qe._defaultConfig.version)?Xt(xe):Un}).then(function(Un){xe.db=Rt.db=Un,Qe._dbInfo=xe;for(var Jn=0;Jn<Sn.length;Jn++){var ar=Sn[Jn];ar!==Qe&&(ar._dbInfo.db=xe.db,ar._dbInfo.version=xe.version)}})},_support:function Ve(){try{if(!Oe||!Oe.open)return!1;var Ie=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Qe="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!Ie||Qe)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function yt(Ie,Qe){var xe=this,At=new se(function(Rt,gt){xe.ready().then(function(){oe(xe._dbInfo,vt,function(sn,vn){if(sn)return gt(sn);try{var Sn=vn.objectStore(xe._dbInfo.storeName).openCursor(),Un=1;Sn.onsuccess=function(){var Jn=Sn.result;if(Jn){var ar=Jn.value;ft(ar)&&(ar=cn(ar));var Rr=Ie(ar,Jn.key,Un++);void 0!==Rr?Rt(Rr):Jn.continue()}else Rt()},Sn.onerror=function(){gt(Sn.error)}}catch(Jn){gt(Jn)}})}).catch(gt)});return Fe(At,Qe),At},getItem:function mt(Ie,Qe){var xe=this;Ie=Xe(Ie);var At=new se(function(Rt,gt){xe.ready().then(function(){oe(xe._dbInfo,vt,function(sn,vn){if(sn)return gt(sn);try{var Sn=vn.objectStore(xe._dbInfo.storeName).get(Ie);Sn.onsuccess=function(){var Un=Sn.result;void 0===Un&&(Un=null),ft(Un)&&(Un=cn(Un)),Rt(Un)},Sn.onerror=function(){gt(Sn.error)}}catch(Un){gt(Un)}})}).catch(gt)});return Fe(At,Qe),At},setItem:function at(Ie,Qe,xe){var At=this;Ie=Xe(Ie);var Rt=new se(function(gt,sn){var vn;At.ready().then(function(){return vn=At._dbInfo,"[object Blob]"===Dt.call(Qe)?Ke(vn.db).then(function(An){return An?Qe:function tn(Ie){return new se(function(Qe,xe){var At=new FileReader;At.onerror=xe,At.onloadend=function(Rt){var gt=btoa(Rt.target.result||"");Qe({__local_forage_encoded_blob:!0,data:gt,type:Ie.type})},At.readAsBinaryString(Ie)})}(Qe)}):Qe}).then(function(An){oe(At._dbInfo,ue,function(Sn,Un){if(Sn)return sn(Sn);try{var Jn=Un.objectStore(At._dbInfo.storeName);null===An&&(An=void 0);var ar=Jn.put(An,Ie);Un.oncomplete=function(){void 0===An&&(An=null),gt(An)},Un.onabort=Un.onerror=function(){sn(ar.error?ar.error:ar.transaction.error)}}catch(Rr){sn(Rr)}})}).catch(sn)});return Fe(Rt,xe),Rt},removeItem:function Ft(Ie,Qe){var xe=this;Ie=Xe(Ie);var At=new se(function(Rt,gt){xe.ready().then(function(){oe(xe._dbInfo,ue,function(sn,vn){if(sn)return gt(sn);try{var Sn=vn.objectStore(xe._dbInfo.storeName).delete(Ie);vn.oncomplete=function(){Rt()},vn.onerror=function(){gt(Sn.error)},vn.onabort=function(){gt(Sn.error?Sn.error:Sn.transaction.error)}}catch(Un){gt(Un)}})}).catch(gt)});return Fe(At,Qe),At},clear:function Pt(Ie){var Qe=this,xe=new se(function(At,Rt){Qe.ready().then(function(){oe(Qe._dbInfo,ue,function(gt,sn){if(gt)return Rt(gt);try{var An=sn.objectStore(Qe._dbInfo.storeName).clear();sn.oncomplete=function(){At()},sn.onabort=sn.onerror=function(){Rt(An.error?An.error:An.transaction.error)}}catch(Sn){Rt(Sn)}})}).catch(Rt)});return Fe(xe,Ie),xe},length:function wt(Ie){var Qe=this,xe=new se(function(At,Rt){Qe.ready().then(function(){oe(Qe._dbInfo,vt,function(gt,sn){if(gt)return Rt(gt);try{var An=sn.objectStore(Qe._dbInfo.storeName).count();An.onsuccess=function(){At(An.result)},An.onerror=function(){Rt(An.error)}}catch(Sn){Rt(Sn)}})}).catch(Rt)});return Fe(xe,Ie),xe},key:function Nn(Ie,Qe){var xe=this,At=new se(function(Rt,gt){Ie<0?Rt(null):xe.ready().then(function(){oe(xe._dbInfo,vt,function(sn,vn){if(sn)return gt(sn);try{var An=vn.objectStore(xe._dbInfo.storeName),Sn=!1,Un=An.openKeyCursor();Un.onsuccess=function(){var Jn=Un.result;Jn?0===Ie||Sn?Rt(Jn.key):(Sn=!0,Jn.advance(Ie)):Rt(null)},Un.onerror=function(){gt(Un.error)}}catch(Jn){gt(Jn)}})}).catch(gt)});return Fe(At,Qe),At},keys:function St(Ie){var Qe=this,xe=new se(function(At,Rt){Qe.ready().then(function(){oe(Qe._dbInfo,vt,function(gt,sn){if(gt)return Rt(gt);try{var An=sn.objectStore(Qe._dbInfo.storeName).openKeyCursor(),Sn=[];An.onsuccess=function(){var Un=An.result;Un?(Sn.push(Un.key),Un.continue()):At(Sn)},An.onerror=function(){Rt(An.error)}}catch(Un){Rt(Un)}})}).catch(Rt)});return Fe(xe,Ie),xe},dropInstance:function kn(Ie,Qe){Qe=ot.apply(this,arguments);var Rt,xe=this.config();return(Ie="function"!=typeof Ie&&Ie||{}).name||(Ie.name=Ie.name||xe.name,Ie.storeName=Ie.storeName||xe.storeName),Fe(Rt=Ie.name?(Ie.name===xe.name&&this._dbInfo.db?se.resolve(this._dbInfo.db):Ot(Ie).then(function(vn){var An=tt[Ie.name],Sn=An.forages;An.db=vn;for(var Un=0;Un<Sn.length;Un++)Sn[Un]._dbInfo.db=vn;return vn})).then(Ie.storeName?function(vn){if(vn.objectStoreNames.contains(Ie.storeName)){var An=vn.version+1;nt(Ie);var Sn=tt[Ie.name],Un=Sn.forages;vn.close();for(var Jn=0;Jn<Un.length;Jn++){var ar=Un[Jn];ar._dbInfo.db=null,ar._dbInfo.version=An}return new se(function(Xr,Si){var jr=Oe.open(Ie.name,An);jr.onerror=function(oo){jr.result.close(),Si(oo)},jr.onupgradeneeded=function(){jr.result.deleteObjectStore(Ie.storeName)},jr.onsuccess=function(){var oo=jr.result;oo.close(),Xr(oo)}}).then(function(Xr){Sn.db=Xr;for(var Si=0;Si<Un.length;Si++){var jr=Un[Si];jr._dbInfo.db=Xr,Ze(jr._dbInfo)}}).catch(function(Xr){throw(pe(Ie,Xr)||se.resolve()).catch(function(){}),Xr})}}:function(vn){nt(Ie);var An=tt[Ie.name],Sn=An.forages;vn.close();for(var Un=0;Un<Sn.length;Un++)Sn[Un]._dbInfo.db=null;return new se(function(Rr,Xr){var Si=Oe.deleteDatabase(Ie.name);Si.onerror=function(){var jr=Si.result;jr&&jr.close(),Xr(Si.error)},Si.onblocked=function(){console.warn('dropInstance blocked for database "'+Ie.name+'" until all open connections are closed')},Si.onsuccess=function(){var jr=Si.result;jr&&jr.close(),Rr(jr)}}).then(function(Rr){An.db=Rr;for(var Xr=0;Xr<Sn.length;Xr++)Ze(Sn[Xr]._dbInfo)}).catch(function(Rr){throw(pe(Ie,Rr)||se.resolve()).catch(function(){}),Rr})}):se.reject("Invalid arguments"),Qe),Rt}};var qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rr=/^~~local_forage_type~([^~]+)~/,ln="__lfsc__:",Ue="arbf",Lt="blob",Ni=Object.prototype.toString;function Vn(Ie){var At,gt,sn,vn,An,Qe=.75*Ie.length,xe=Ie.length,Rt=0;"="===Ie[Ie.length-1]&&(Qe--,"="===Ie[Ie.length-2]&&Qe--);var Sn=new ArrayBuffer(Qe),Un=new Uint8Array(Sn);for(At=0;At<xe;At+=4)gt=qt.indexOf(Ie[At]),sn=qt.indexOf(Ie[At+1]),vn=qt.indexOf(Ie[At+2]),An=qt.indexOf(Ie[At+3]),Un[Rt++]=gt<<2|sn>>4,Un[Rt++]=(15&sn)<<4|vn>>2,Un[Rt++]=(3&vn)<<6|63&An;return Sn}function wi(Ie){var At,Qe=new Uint8Array(Ie),xe="";for(At=0;At<Qe.length;At+=3)xe+=qt[Qe[At]>>2],xe+=qt[(3&Qe[At])<<4|Qe[At+1]>>4],xe+=qt[(15&Qe[At+1])<<2|Qe[At+2]>>6],xe+=qt[63&Qe[At+2]];return Qe.length%3==2?xe=xe.substring(0,xe.length-1)+"=":Qe.length%3==1&&(xe=xe.substring(0,xe.length-2)+"=="),xe}var zn={serialize:function Qn(Ie,Qe){var xe="";if(Ie&&(xe=Ni.call(Ie)),Ie&&("[object ArrayBuffer]"===xe||Ie.buffer&&"[object ArrayBuffer]"===Ni.call(Ie.buffer))){var At,Rt=ln;Ie instanceof ArrayBuffer?(At=Ie,Rt+=Ue):(At=Ie.buffer,"[object Int8Array]"===xe?Rt+="si08":"[object Uint8Array]"===xe?Rt+="ui08":"[object Uint8ClampedArray]"===xe?Rt+="uic8":"[object Int16Array]"===xe?Rt+="si16":"[object Uint16Array]"===xe?Rt+="ur16":"[object Int32Array]"===xe?Rt+="si32":"[object Uint32Array]"===xe?Rt+="ui32":"[object Float32Array]"===xe?Rt+="fl32":"[object Float64Array]"===xe?Rt+="fl64":Qe(new Error("Failed to get type for BinaryArray"))),Qe(Rt+wi(At))}else if("[object Blob]"===xe){var gt=new FileReader;gt.onload=function(){var sn="~~local_forage_type~"+Ie.type+"~"+wi(this.result);Qe(ln+Lt+sn)},gt.readAsArrayBuffer(Ie)}else try{Qe(JSON.stringify(Ie))}catch(sn){console.error("Couldn't convert value into a JSON string: ",Ie),Qe(null,sn)}},deserialize:function Zn(Ie){if(Ie.substring(0,9)!==ln)return JSON.parse(Ie);var At,Qe=Ie.substring(13),xe=Ie.substring(9,13);if(xe===Lt&&rr.test(Qe)){var Rt=Qe.match(rr);At=Rt[1],Qe=Qe.substring(Rt[0].length)}var gt=Vn(Qe);switch(xe){case Ue:return gt;case Lt:return we([gt],{type:At});case"si08":return new Int8Array(gt);case"ui08":return new Uint8Array(gt);case"uic8":return new Uint8ClampedArray(gt);case"si16":return new Int16Array(gt);case"ur16":return new Uint16Array(gt);case"si32":return new Int32Array(gt);case"ui32":return new Uint32Array(gt);case"fl32":return new Float32Array(gt);case"fl64":return new Float64Array(gt);default:throw new Error("Unkown type: "+xe)}},stringToBuffer:Vn,bufferToString:wi};function Ai(Ie,Qe,xe,At){Ie.executeSql("CREATE TABLE IF NOT EXISTS "+Qe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],xe,At)}function si(Ie,Qe,xe,At,Rt,gt){Ie.executeSql(xe,At,Rt,function(sn,vn){vn.code===vn.SYNTAX_ERR?sn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Qe.storeName],function(An,Sn){Sn.rows.length?gt(An,vn):Ai(An,Qe,function(){An.executeSql(xe,At,Rt,gt)},gt)},gt):gt(sn,vn)},gt)}function ai(Ie,Qe,xe,At){var Rt=this;Ie=Xe(Ie);var gt=new se(function(sn,vn){Rt.ready().then(function(){void 0===Qe&&(Qe=null);var An=Qe,Sn=Rt._dbInfo;Sn.serializer.serialize(Qe,function(Un,Jn){Jn?vn(Jn):Sn.db.transaction(function(ar){si(ar,Sn,"INSERT OR REPLACE INTO "+Sn.storeName+" (key, value) VALUES (?, ?)",[Ie,Un],function(){sn(An)},function(Rr,Xr){vn(Xr)})},function(ar){if(ar.code===ar.QUOTA_ERR){if(At>0)return void sn(ai.apply(Rt,[Ie,An,xe,At-1]));vn(ar)}})})}).catch(vn)});return Fe(gt,xe),gt}var Ne={_driver:"webSQLStorage",_initStorage:function tr(Ie){var Qe=this,xe={db:null};if(Ie)for(var At in Ie)xe[At]="string"!=typeof Ie[At]?Ie[At].toString():Ie[At];var Rt=new se(function(gt,sn){try{xe.db=openDatabase(xe.name,String(xe.version),xe.description,xe.size)}catch(vn){return sn(vn)}xe.db.transaction(function(vn){Ai(vn,xe,function(){Qe._dbInfo=xe,gt()},function(An,Sn){sn(Sn)})},sn)});return xe.serializer=zn,Rt},_support:function jn(){return"function"==typeof openDatabase}(),iterate:function Dn(Ie,Qe){var xe=this,At=new se(function(Rt,gt){xe.ready().then(function(){var sn=xe._dbInfo;sn.db.transaction(function(vn){si(vn,sn,"SELECT * FROM "+sn.storeName,[],function(An,Sn){for(var Un=Sn.rows,Jn=Un.length,ar=0;ar<Jn;ar++){var Rr=Un.item(ar),Xr=Rr.value;if(Xr&&(Xr=sn.serializer.deserialize(Xr)),void 0!==(Xr=Ie(Xr,Rr.key,ar+1)))return void Rt(Xr)}Rt()},function(An,Sn){gt(Sn)})})}).catch(gt)});return Fe(At,Qe),At},getItem:function Ar(Ie,Qe){var xe=this;Ie=Xe(Ie);var At=new se(function(Rt,gt){xe.ready().then(function(){var sn=xe._dbInfo;sn.db.transaction(function(vn){si(vn,sn,"SELECT * FROM "+sn.storeName+" WHERE key = ? LIMIT 1",[Ie],function(An,Sn){var Un=Sn.rows.length?Sn.rows.item(0).value:null;Un&&(Un=sn.serializer.deserialize(Un)),Rt(Un)},function(An,Sn){gt(Sn)})})}).catch(gt)});return Fe(At,Qe),At},setItem:function Ut(Ie,Qe,xe){return ai.apply(this,[Ie,Qe,xe,1])},removeItem:function _t(Ie,Qe){var xe=this;Ie=Xe(Ie);var At=new se(function(Rt,gt){xe.ready().then(function(){var sn=xe._dbInfo;sn.db.transaction(function(vn){si(vn,sn,"DELETE FROM "+sn.storeName+" WHERE key = ?",[Ie],function(){Rt()},function(An,Sn){gt(Sn)})})}).catch(gt)});return Fe(At,Qe),At},clear:function Gt(Ie){var Qe=this,xe=new se(function(At,Rt){Qe.ready().then(function(){var gt=Qe._dbInfo;gt.db.transaction(function(sn){si(sn,gt,"DELETE FROM "+gt.storeName,[],function(){At()},function(vn,An){Rt(An)})})}).catch(Rt)});return Fe(xe,Ie),xe},length:function ke(Ie){var Qe=this,xe=new se(function(At,Rt){Qe.ready().then(function(){var gt=Qe._dbInfo;gt.db.transaction(function(sn){si(sn,gt,"SELECT COUNT(key) as c FROM "+gt.storeName,[],function(vn,An){var Sn=An.rows.item(0).c;At(Sn)},function(vn,An){Rt(An)})})}).catch(Rt)});return Fe(xe,Ie),xe},key:function We(Ie,Qe){var xe=this,At=new se(function(Rt,gt){xe.ready().then(function(){var sn=xe._dbInfo;sn.db.transaction(function(vn){si(vn,sn,"SELECT key FROM "+sn.storeName+" WHERE id = ? LIMIT 1",[Ie+1],function(An,Sn){var Un=Sn.rows.length?Sn.rows.item(0).key:null;Rt(Un)},function(An,Sn){gt(Sn)})})}).catch(gt)});return Fe(At,Qe),At},keys:function X(Ie){var Qe=this,xe=new se(function(At,Rt){Qe.ready().then(function(){var gt=Qe._dbInfo;gt.db.transaction(function(sn){si(sn,gt,"SELECT key FROM "+gt.storeName,[],function(vn,An){for(var Sn=[],Un=0;Un<An.rows.length;Un++)Sn.push(An.rows.item(Un).key);At(Sn)},function(vn,An){Rt(An)})})}).catch(Rt)});return Fe(xe,Ie),xe},dropInstance:function ee(Ie,Qe){Qe=ot.apply(this,arguments);var xe=this.config();(Ie="function"!=typeof Ie&&Ie||{}).name||(Ie.name=Ie.name||xe.name,Ie.storeName=Ie.storeName||xe.storeName);var Rt,At=this;return Fe(Rt=Ie.name?new se(function(gt){var sn;sn=Ie.name===xe.name?At._dbInfo.db:openDatabase(Ie.name,"","",0),gt(Ie.storeName?{db:sn,storeNames:[Ie.storeName]}:function K(Ie){return new se(function(Qe,xe){Ie.transaction(function(At){At.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Rt,gt){for(var sn=[],vn=0;vn<gt.rows.length;vn++)sn.push(gt.rows.item(vn).name);Qe({db:Ie,storeNames:sn})},function(Rt,gt){xe(gt)})},function(At){xe(At)})})}(sn))}).then(function(gt){return new se(function(sn,vn){gt.db.transaction(function(An){function Sn(Rr){return new se(function(Xr,Si){An.executeSql("DROP TABLE IF EXISTS "+Rr,[],function(){Xr()},function(jr,oo){Si(oo)})})}for(var Un=[],Jn=0,ar=gt.storeNames.length;Jn<ar;Jn++)Un.push(Sn(gt.storeNames[Jn]));se.all(Un).then(function(){sn()}).catch(function(Rr){vn(Rr)})},function(An){vn(An)})})}):se.reject("Invalid arguments"),Qe),Rt}};function Wt(Ie,Qe){var xe=Ie.name+"/";return Ie.storeName!==Qe.storeName&&(xe+=Ie.storeName+"/"),xe}function Xn(){return!function In(){var Ie="_localforage_support_test";try{return localStorage.setItem(Ie,!0),localStorage.removeItem(Ie),!1}catch{return!0}}()||localStorage.length>0}var bo={_driver:"localStorageWrapper",_initStorage:function Tr(Ie){var xe={};if(Ie)for(var At in Ie)xe[At]=Ie[At];return xe.keyPrefix=Wt(Ie,this._defaultConfig),Xn()?(this._dbInfo=xe,xe.serializer=zn,se.resolve()):se.reject()},_support:function He(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function xn(Ie,Qe){var xe=this,At=xe.ready().then(function(){for(var Rt=xe._dbInfo,gt=Rt.keyPrefix,sn=gt.length,vn=localStorage.length,An=1,Sn=0;Sn<vn;Sn++){var Un=localStorage.key(Sn);if(0===Un.indexOf(gt)){var Jn=localStorage.getItem(Un);if(Jn&&(Jn=Rt.serializer.deserialize(Jn)),void 0!==(Jn=Ie(Jn,Un.substring(sn),An++)))return Jn}}});return Fe(At,Qe),At},getItem:function fr(Ie,Qe){var xe=this;Ie=Xe(Ie);var At=xe.ready().then(function(){var Rt=xe._dbInfo,gt=localStorage.getItem(Rt.keyPrefix+Ie);return gt&&(gt=Rt.serializer.deserialize(gt)),gt});return Fe(At,Qe),At},setItem:function xo(Ie,Qe,xe){var At=this;Ie=Xe(Ie);var Rt=At.ready().then(function(){void 0===Qe&&(Qe=null);var gt=Qe;return new se(function(sn,vn){var An=At._dbInfo;An.serializer.serialize(Qe,function(Sn,Un){if(Un)vn(Un);else try{localStorage.setItem(An.keyPrefix+Ie,Sn),sn(gt)}catch(Jn){("QuotaExceededError"===Jn.name||"NS_ERROR_DOM_QUOTA_REACHED"===Jn.name)&&vn(Jn),vn(Jn)}})})});return Fe(Rt,xe),Rt},removeItem:function Ti(Ie,Qe){var xe=this;Ie=Xe(Ie);var At=xe.ready().then(function(){localStorage.removeItem(xe._dbInfo.keyPrefix+Ie)});return Fe(At,Qe),At},clear:function ht(Ie){var Qe=this,xe=Qe.ready().then(function(){for(var At=Qe._dbInfo.keyPrefix,Rt=localStorage.length-1;Rt>=0;Rt--){var gt=localStorage.key(Rt);0===gt.indexOf(At)&&localStorage.removeItem(gt)}});return Fe(xe,Ie),xe},length:function no(Ie){var xe=this.keys().then(function(At){return At.length});return Fe(xe,Ie),xe},key:function Wr(Ie,Qe){var xe=this,At=xe.ready().then(function(){var gt,Rt=xe._dbInfo;try{gt=localStorage.key(Ie)}catch{gt=null}return gt&&(gt=gt.substring(Rt.keyPrefix.length)),gt});return Fe(At,Qe),At},keys:function ji(Ie){var Qe=this,xe=Qe.ready().then(function(){for(var At=Qe._dbInfo,Rt=localStorage.length,gt=[],sn=0;sn<Rt;sn++){var vn=localStorage.key(sn);0===vn.indexOf(At.keyPrefix)&&gt.push(vn.substring(At.keyPrefix.length))}return gt});return Fe(xe,Ie),xe},dropInstance:function Hi(Ie,Qe){if(Qe=ot.apply(this,arguments),!(Ie="function"!=typeof Ie&&Ie||{}).name){var xe=this.config();Ie.name=Ie.name||xe.name,Ie.storeName=Ie.storeName||xe.storeName}var Rt,At=this;return Fe(Rt=Ie.name?new se(function(gt){gt(Ie.storeName?Wt(Ie,At._defaultConfig):Ie.name+"/")}).then(function(gt){for(var sn=localStorage.length-1;sn>=0;sn--){var vn=localStorage.key(sn);0===vn.indexOf(gt)&&localStorage.removeItem(vn)}}):se.reject("Invalid arguments"),Qe),Rt}},zo=function(Qe,xe){return Qe===xe||"number"==typeof Qe&&"number"==typeof xe&&isNaN(Qe)&&isNaN(xe)},_o=function(Qe,xe){for(var At=Qe.length,Rt=0;Rt<At;){if(zo(Qe[Rt],xe))return!0;Rt++}return!1},Je=Array.isArray||function(Ie){return"[object Array]"===Object.prototype.toString.call(Ie)},Te={},Et={},ce={INDEXEDDB:Ln,WEBSQL:Ne,LOCALSTORAGE:bo},de=[ce.INDEXEDDB._driver,ce.WEBSQL._driver,ce.LOCALSTORAGE._driver],ze=["dropInstance"],Bt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ze),mn={description:"",driver:de.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function wn(Ie,Qe){Ie[Qe]=function(){var xe=arguments;return Ie.ready().then(function(){return Ie[Qe].apply(Ie,xe)})}}function Kn(){for(var Ie=1;Ie<arguments.length;Ie++){var Qe=arguments[Ie];if(Qe)for(var xe in Qe)Qe.hasOwnProperty(xe)&&(arguments[0][xe]=Je(Qe[xe])?Qe[xe].slice():Qe[xe])}return arguments[0]}var Sr=function(){function Ie(Qe){for(var xe in function ye(Ie,Qe){if(!(Ie instanceof Qe))throw new TypeError("Cannot call a class as a function")}(this,Ie),ce)if(ce.hasOwnProperty(xe)){var At=ce[xe],Rt=At._driver;this[xe]=Rt,Te[Rt]||this.defineDriver(At)}this._defaultConfig=Kn({},mn),this._config=Kn({},this._defaultConfig,Qe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Ie.prototype.config=function(xe){if("object"===(typeof xe>"u"?"undefined":J(xe))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var At in xe){if("storeName"===At&&(xe[At]=xe[At].replace(/\W/g,"_")),"version"===At&&"number"!=typeof xe[At])return new Error("Database version must be a number.");this._config[At]=xe[At]}return!("driver"in xe)||!xe.driver||this.setDriver(this._config.driver)}return"string"==typeof xe?this._config[xe]:this._config},Ie.prototype.defineDriver=function(xe,At,Rt){var gt=new se(function(sn,vn){try{var An=xe._driver,Sn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!xe._driver)return void vn(Sn);for(var Un=Bt.concat("_initStorage"),Jn=0,ar=Un.length;Jn<ar;Jn++){var Rr=Un[Jn];if((!_o(ze,Rr)||xe[Rr])&&"function"!=typeof xe[Rr])return void vn(Sn)}!function(){for(var ko=function(_i){return function(){var js=new Error("Method "+_i+" is not implemented by the current driver"),is=se.reject(js);return Fe(is,arguments[arguments.length-1]),is}},Lo=0,Fo=ze.length;Lo<Fo;Lo++){var rs=ze[Lo];xe[rs]||(xe[rs]=ko(rs))}}();var jr=function(ko){Te[An]&&console.info("Redefining LocalForage driver: "+An),Te[An]=xe,Et[An]=ko,sn()};"_support"in xe?xe._support&&"function"==typeof xe._support?xe._support().then(jr,vn):jr(!!xe._support):jr(!0)}catch(oo){vn(oo)}});return Ye(gt,At,Rt),gt},Ie.prototype.driver=function(){return this._driver||null},Ie.prototype.getDriver=function(xe,At,Rt){var gt=Te[xe]?se.resolve(Te[xe]):se.reject(new Error("Driver not found."));return Ye(gt,At,Rt),gt},Ie.prototype.getSerializer=function(xe){var At=se.resolve(zn);return Ye(At,xe),At},Ie.prototype.ready=function(xe){var At=this,Rt=At._driverSet.then(function(){return null===At._ready&&(At._ready=At._initDriver()),At._ready});return Ye(Rt,xe,xe),Rt},Ie.prototype.setDriver=function(xe,At,Rt){var gt=this;Je(xe)||(xe=[xe]);var sn=this._getSupportedDrivers(xe);function vn(){gt._config.driver=gt.driver()}function An(Jn){return gt._extend(Jn),vn(),gt._ready=gt._initStorage(gt._config),gt._ready}var Un=null!==this._driverSet?this._driverSet.catch(function(){return se.resolve()}):se.resolve();return this._driverSet=Un.then(function(){var Jn=sn[0];return gt._dbInfo=null,gt._ready=null,gt.getDriver(Jn).then(function(ar){gt._driver=ar._driver,vn(),gt._wrapLibraryMethodsWithReady(),gt._initDriver=function Sn(Jn){return function(){var ar=0;return function Rr(){for(;ar<Jn.length;){var Xr=Jn[ar];return ar++,gt._dbInfo=null,gt._ready=null,gt.getDriver(Xr).then(An).catch(Rr)}vn();var Si=new Error("No available storage method found.");return gt._driverSet=se.reject(Si),gt._driverSet}()}}(sn)})}).catch(function(){vn();var Jn=new Error("No available storage method found.");return gt._driverSet=se.reject(Jn),gt._driverSet}),Ye(this._driverSet,At,Rt),this._driverSet},Ie.prototype.supports=function(xe){return!!Et[xe]},Ie.prototype._extend=function(xe){Kn(this,xe)},Ie.prototype._getSupportedDrivers=function(xe){for(var At=[],Rt=0,gt=xe.length;Rt<gt;Rt++){var sn=xe[Rt];this.supports(sn)&&At.push(sn)}return At},Ie.prototype._wrapLibraryMethodsWithReady=function(){for(var xe=0,At=Bt.length;xe<At;xe++)wn(this,Bt[xe])},Ie.prototype.createInstance=function(xe){return new Ie(xe)},Ie}(),ki=new Sr;B.exports=ki},{3:3}]},{},[4])(4)},4412:(Mn,It,k)=>{"use strict";k.d(It,{t:()=>h});var d=k(1413);class h extends d.B{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const J=super._subscribe(Ee);return!J.closed&&Ee.next(this._value),J}getValue(){const{hasError:Ee,thrownError:J,_value:ye}=this;if(Ee)throw J;return this._throwIfClosed(),ye}next(Ee){super.next(this._value=Ee)}}},1985:(Mn,It,k)=>{"use strict";k.d(It,{c:()=>Oe});var d=k(7707),h=k(8359),B=k(3494),Ee=k(1203),J=k(1026),ye=k(8071),Se=k(9786);let Oe=(()=>{class Fe{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const ot=new Fe;return ot.source=this,ot.operator=Xe,ot}subscribe(Xe,ot,ut){const ct=function se(Fe){return Fe&&Fe instanceof d.vU||function we(Fe){return Fe&&(0,ye.T)(Fe.next)&&(0,ye.T)(Fe.error)&&(0,ye.T)(Fe.complete)}(Fe)&&(0,h.Uv)(Fe)}(Xe)?Xe:new d.Ms(Xe,ot,ut);return(0,Se.Y)(()=>{const{operator:tt,source:Dt}=this;ct.add(tt?tt.call(ct,Dt):Dt?this._subscribe(ct):this._trySubscribe(ct))}),ct}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(ot){Xe.error(ot)}}forEach(Xe,ot){return new(ot=Ve(ot))((ut,ct)=>{const tt=new d.Ms({next:Dt=>{try{Xe(Dt)}catch(vt){ct(vt),tt.unsubscribe()}},error:ct,complete:ut});this.subscribe(tt)})}_subscribe(Xe){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(Xe)}[B.s](){return this}pipe(...Xe){return(0,Ee.m)(Xe)(this)}toPromise(Xe){return new(Xe=Ve(Xe))((ot,ut)=>{let ct;this.subscribe(tt=>ct=tt,tt=>ut(tt),()=>ot(ct))})}}return Fe.create=Ye=>new Fe(Ye),Fe})();function Ve(Fe){var Ye;return null!==(Ye=null!=Fe?Fe:J.$.Promise)&&void 0!==Ye?Ye:Promise}},1413:(Mn,It,k)=>{"use strict";k.d(It,{B:()=>Se});var d=k(1985),h=k(8359);const Ee=(0,k(1853).L)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=k(7908),ye=k(9786);let Se=(()=>{class Ve extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Fe=new Oe(this,this);return Fe.operator=se,Fe}_throwIfClosed(){if(this.closed)throw new Ee}next(se){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(se)}})}error(se){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(se)}})}complete(){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Fe,isStopped:Ye,observers:Xe}=this;return Fe||Ye?h.Kn:(this.currentObservers=null,Xe.push(se),new h.yU(()=>{this.currentObservers=null,(0,J.o)(Xe,se)}))}_checkFinalizedStatuses(se){const{hasError:Fe,thrownError:Ye,isStopped:Xe}=this;Fe?se.error(Ye):Xe&&se.complete()}asObservable(){const se=new d.c;return se.source=this,se}}return Ve.create=(we,se)=>new Oe(we,se),Ve})();class Oe extends Se{constructor(we,se){super(),this.destination=we,this.source=se}next(we){var se,Fe;null===(Fe=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Fe||Fe.call(se,we)}error(we){var se,Fe;null===(Fe=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Fe||Fe.call(se,we)}complete(){var we,se;null===(se=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===se||se.call(we)}_subscribe(we){var se,Fe;return null!==(Fe=null===(se=this.source)||void 0===se?void 0:se.subscribe(we))&&void 0!==Fe?Fe:h.Kn}}},7707:(Mn,It,k)=>{"use strict";k.d(It,{Ms:()=>ut,vU:()=>Fe});var d=k(8071),h=k(8359),B=k(1026),Ee=k(5334),J=k(5343);const ye=Ve("C",void 0,void 0);function Ve(ue,De,Re){return{kind:ue,value:De,error:Re}}var we=k(9270),se=k(9786);class Fe extends h.yU{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,h.Uv)(De)&&De.add(this)):this.destination=vt}static create(De,Re,Ke){return new ut(De,Re,Ke)}next(De){this.isStopped?Dt(function Oe(ue){return Ve("N",ue,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Dt(function Se(ue){return Ve("E",void 0,ue)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Dt(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Xe(ue,De){return Ye.call(ue,De)}class ot{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Re}=this;if(Re.next)try{Re.next(De)}catch(Ke){ct(Ke)}}error(De){const{partialObserver:Re}=this;if(Re.error)try{Re.error(De)}catch(Ke){ct(Ke)}else ct(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Re){ct(Re)}}}class ut extends Fe{constructor(De,Re,Ke){let nt;if(super(),(0,d.T)(De)||!De)nt={next:null!=De?De:void 0,error:null!=Re?Re:void 0,complete:null!=Ke?Ke:void 0};else{let Ze;this&&B.$.useDeprecatedNextContext?(Ze=Object.create(De),Ze.unsubscribe=()=>this.unsubscribe(),nt={next:De.next&&Xe(De.next,Ze),error:De.error&&Xe(De.error,Ze),complete:De.complete&&Xe(De.complete,Ze)}):nt=De}this.destination=new ot(nt)}}function ct(ue){B.$.useDeprecatedSynchronousErrorHandling?(0,se.l)(ue):(0,Ee.m)(ue)}function Dt(ue,De){const{onStoppedNotification:Re}=B.$;Re&&we.f.setTimeout(()=>Re(ue,De))}const vt={closed:!0,next:J.l,error:function tt(ue){throw ue},complete:J.l}},8359:(Mn,It,k)=>{"use strict";k.d(It,{Kn:()=>ye,yU:()=>J,Uv:()=>Se});var d=k(8071);const B=(0,k(1853).L)(Ve=>function(se){Ve(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Fe,Ye)=>`${Ye+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Ee=k(7908);class J{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Xe of se)Xe.remove(this);else se.remove(this);const{initialTeardown:Fe}=this;if((0,d.T)(Fe))try{Fe()}catch(Xe){we=Xe instanceof B?Xe.errors:[Xe]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Xe of Ye)try{Oe(Xe)}catch(ot){we=null!=we?we:[],ot instanceof B?we=[...we,...ot.errors]:we.push(ot)}}if(we)throw new B(we)}}add(we){var se;if(we&&we!==this)if(this.closed)Oe(we);else{if(we instanceof J){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(we)}}_hasParent(we){const{_parentage:se}=this;return se===we||Array.isArray(se)&&se.includes(we)}_addParent(we){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(we),se):se?[se,we]:we}_removeParent(we){const{_parentage:se}=this;se===we?this._parentage=null:Array.isArray(se)&&(0,Ee.o)(se,we)}remove(we){const{_finalizers:se}=this;se&&(0,Ee.o)(se,we),we instanceof J&&we._removeParent(this)}}J.EMPTY=(()=>{const Ve=new J;return Ve.closed=!0,Ve})();const ye=J.EMPTY;function Se(Ve){return Ve instanceof J||Ve&&"closed"in Ve&&(0,d.T)(Ve.remove)&&(0,d.T)(Ve.add)&&(0,d.T)(Ve.unsubscribe)}function Oe(Ve){(0,d.T)(Ve)?Ve():Ve.unsubscribe()}},1026:(Mn,It,k)=>{"use strict";k.d(It,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Mn,It,k)=>{"use strict";k.d(It,{z:()=>we});var d=k(1985),h=k(3073),B=k(8455),Ee=k(3669),J=k(6450),ye=k(3794),Se=k(8496),Oe=k(4360),Ve=k(5225);function we(...Ye){const Xe=(0,ye.lI)(Ye),ot=(0,ye.ms)(Ye),{args:ut,keys:ct}=(0,h.D)(Ye);if(0===ut.length)return(0,B.H)([],Xe);const tt=new d.c(function se(Ye,Xe,ot=Ee.D){return ut=>{Fe(Xe,()=>{const{length:ct}=Ye,tt=new Array(ct);let Dt=ct,vt=ct;for(let ue=0;ue<ct;ue++)Fe(Xe,()=>{const De=(0,B.H)(Ye[ue],Xe);let Re=!1;De.subscribe((0,Oe._)(ut,Ke=>{tt[ue]=Ke,Re||(Re=!0,vt--),vt||ut.next(ot(tt.slice()))},()=>{--Dt||ut.complete()}))},ut)},ut)}}(ut,Xe,ct?Dt=>(0,Se.e)(ct,Dt):Ee.D));return ot?tt.pipe((0,J.I)(ot)):tt}function Fe(Ye,Xe,ot){Ye?(0,Ve.N)(ot,Ye,Xe):Xe()}},8793:(Mn,It,k)=>{"use strict";k.d(It,{x:()=>J});var d=k(6365),B=k(3794),Ee=k(8455);function J(...ye){return function h(){return(0,d.U)(1)}()((0,Ee.H)(ye,(0,B.lI)(ye)))}},983:(Mn,It,k)=>{"use strict";k.d(It,{w:()=>h});const h=new(k(1985).c)(J=>J.complete())},8455:(Mn,It,k)=>{"use strict";k.d(It,{H:()=>De});var d=k(8750),h=k(941),B=k(6745),ye=k(1985),Oe=k(4761),Ve=k(8071),we=k(5225);function Fe(Re,Ke){if(!Re)throw new Error("Iterable cannot be null");return new ye.c(nt=>{(0,we.N)(nt,Ke,()=>{const Ze=Re[Symbol.asyncIterator]();(0,we.N)(nt,Ke,()=>{Ze.next().then(pe=>{pe.done?nt.complete():nt.next(pe.value)})},0,!0)})})}var Ye=k(5055),Xe=k(9858),ot=k(7441),ut=k(5397),ct=k(7953),tt=k(591),Dt=k(5196);function De(Re,Ke){return Ke?function ue(Re,Ke){if(null!=Re){if((0,Ye.l)(Re))return function Ee(Re,Ke){return(0,d.Tg)(Re).pipe((0,B._)(Ke),(0,h.Q)(Ke))}(Re,Ke);if((0,ot.X)(Re))return function Se(Re,Ke){return new ye.c(nt=>{let Ze=0;return Ke.schedule(function(){Ze===Re.length?nt.complete():(nt.next(Re[Ze++]),nt.closed||this.schedule())})})}(Re,Ke);if((0,Xe.y)(Re))return function J(Re,Ke){return(0,d.Tg)(Re).pipe((0,B._)(Ke),(0,h.Q)(Ke))}(Re,Ke);if((0,ct.T)(Re))return Fe(Re,Ke);if((0,ut.x)(Re))return function se(Re,Ke){return new ye.c(nt=>{let Ze;return(0,we.N)(nt,Ke,()=>{Ze=Re[Oe.l](),(0,we.N)(nt,Ke,()=>{let pe,rt;try{({value:pe,done:rt}=Ze.next())}catch(Ot){return void nt.error(Ot)}rt?nt.complete():nt.next(pe)},0,!0)}),()=>(0,Ve.T)(null==Ze?void 0:Ze.return)&&Ze.return()})}(Re,Ke);if((0,Dt.U)(Re))return function vt(Re,Ke){return Fe((0,Dt.C)(Re),Ke)}(Re,Ke)}throw(0,tt.L)(Re)}(Re,Ke):(0,d.Tg)(Re)}},3726:(Mn,It,k)=>{"use strict";k.d(It,{R:()=>we});var d=k(8750),h=k(1985),B=k(1397),Ee=k(7441),J=k(8071),ye=k(6450);const Se=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],Ve=["on","off"];function we(ot,ut,ct,tt){if((0,J.T)(ct)&&(tt=ct,ct=void 0),tt)return we(ot,ut,ct).pipe((0,ye.I)(tt));const[Dt,vt]=function Xe(ot){return(0,J.T)(ot.addEventListener)&&(0,J.T)(ot.removeEventListener)}(ot)?Oe.map(ue=>De=>ot[ue](ut,De,ct)):function Fe(ot){return(0,J.T)(ot.addListener)&&(0,J.T)(ot.removeListener)}(ot)?Se.map(se(ot,ut)):function Ye(ot){return(0,J.T)(ot.on)&&(0,J.T)(ot.off)}(ot)?Ve.map(se(ot,ut)):[];if(!Dt&&(0,Ee.X)(ot))return(0,B.Z)(ue=>we(ue,ut,ct))((0,d.Tg)(ot));if(!Dt)throw new TypeError("Invalid event target");return new h.c(ue=>{const De=(...Re)=>ue.next(1<Re.length?Re:Re[0]);return Dt(De),()=>vt(De)})}function se(ot,ut){return ct=>tt=>ot[ct](ut,tt)}},8750:(Mn,It,k)=>{"use strict";k.d(It,{Tg:()=>Ye});var d=k(1635),h=k(7441),B=k(9858),Ee=k(1985),J=k(5055),ye=k(7953),Se=k(591),Oe=k(5397),Ve=k(5196),we=k(8071),se=k(5334),Fe=k(3494);function Ye(ue){if(ue instanceof Ee.c)return ue;if(null!=ue){if((0,J.l)(ue))return function Xe(ue){return new Ee.c(De=>{const Re=ue[Fe.s]();if((0,we.T)(Re.subscribe))return Re.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,h.X)(ue))return function ot(ue){return new Ee.c(De=>{for(let Re=0;Re<ue.length&&!De.closed;Re++)De.next(ue[Re]);De.complete()})}(ue);if((0,B.y)(ue))return function ut(ue){return new Ee.c(De=>{ue.then(Re=>{De.closed||(De.next(Re),De.complete())},Re=>De.error(Re)).then(null,se.m)})}(ue);if((0,ye.T)(ue))return tt(ue);if((0,Oe.x)(ue))return function ct(ue){return new Ee.c(De=>{for(const Re of ue)if(De.next(Re),De.closed)return;De.complete()})}(ue);if((0,Ve.U)(ue))return function Dt(ue){return tt((0,Ve.C)(ue))}(ue)}throw(0,Se.L)(ue)}function tt(ue){return new Ee.c(De=>{(function vt(ue,De){var Re,Ke,nt,Ze;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Re=(0,d.xN)(ue);!(Ke=yield Re.next()).done;)if(De.next(Ke.value),De.closed)return}catch(pe){nt={error:pe}}finally{try{Ke&&!Ke.done&&(Ze=Re.return)&&(yield Ze.call(Re))}finally{if(nt)throw nt.error}}De.complete()})})(ue,De).catch(Re=>De.error(Re))})}},7673:(Mn,It,k)=>{"use strict";k.d(It,{of:()=>B});var d=k(3794),h=k(8455);function B(...Ee){const J=(0,d.lI)(Ee);return(0,h.H)(Ee,J)}},4360:(Mn,It,k)=>{"use strict";k.d(It,{_:()=>h});var d=k(7707);function h(Ee,J,ye,Se,Oe){return new B(Ee,J,ye,Se,Oe)}class B extends d.vU{constructor(J,ye,Se,Oe,Ve,we){super(J),this.onFinalize=Ve,this.shouldUnsubscribe=we,this._next=ye?function(se){try{ye(se)}catch(Fe){J.error(Fe)}}:super._next,this._error=Oe?function(se){try{Oe(se)}catch(Fe){J.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(se){J.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},274:(Mn,It,k)=>{"use strict";k.d(It,{H:()=>B});var d=k(1397),h=k(8071);function B(Ee,J){return(0,h.T)(J)?(0,d.Z)(Ee,J,1):(0,d.Z)(Ee,1)}},9901:(Mn,It,k)=>{"use strict";k.d(It,{U:()=>B});var d=k(9974),h=k(4360);function B(Ee){return(0,d.N)((J,ye)=>{let Se=!1;J.subscribe((0,h._)(ye,Oe=>{Se=!0,ye.next(Oe)},()=>{Se||ye.next(Ee),ye.complete()}))})}},3294:(Mn,It,k)=>{"use strict";k.d(It,{F:()=>Ee});var d=k(3669),h=k(9974),B=k(4360);function Ee(ye,Se=d.D){return ye=null!=ye?ye:J,(0,h.N)((Oe,Ve)=>{let we,se=!0;Oe.subscribe((0,B._)(Ve,Fe=>{const Ye=Se(Fe);(se||!ye(we,Ye))&&(se=!1,we=Ye,Ve.next(Fe))}))})}function J(ye,Se){return ye===Se}},5964:(Mn,It,k)=>{"use strict";k.d(It,{p:()=>B});var d=k(9974),h=k(4360);function B(Ee,J){return(0,d.N)((ye,Se)=>{let Oe=0;ye.subscribe((0,h._)(Se,Ve=>Ee.call(J,Ve,Oe++)&&Se.next(Ve)))})}},980:(Mn,It,k)=>{"use strict";k.d(It,{j:()=>h});var d=k(9974);function h(B){return(0,d.N)((Ee,J)=>{try{Ee.subscribe(J)}finally{J.add(B)}})}},1594:(Mn,It,k)=>{"use strict";k.d(It,{$:()=>Se});var d=k(9350),h=k(5964),B=k(6697),Ee=k(9901),J=k(3774),ye=k(3669);function Se(Oe,Ve){const we=arguments.length>=2;return se=>se.pipe(Oe?(0,h.p)((Fe,Ye)=>Oe(Fe,Ye,se)):ye.D,(0,B.s)(1),we?(0,Ee.U)(Ve):(0,J.v)(()=>new d.G))}},6354:(Mn,It,k)=>{"use strict";k.d(It,{T:()=>B});var d=k(9974),h=k(4360);function B(Ee,J){return(0,d.N)((ye,Se)=>{let Oe=0;ye.subscribe((0,h._)(Se,Ve=>{Se.next(Ee.call(J,Ve,Oe++))}))})}},6365:(Mn,It,k)=>{"use strict";k.d(It,{U:()=>B});var d=k(1397),h=k(3669);function B(Ee=1/0){return(0,d.Z)(h.D,Ee)}},1397:(Mn,It,k)=>{"use strict";k.d(It,{Z:()=>Oe});var d=k(6354),h=k(8750),B=k(9974),Ee=k(5225),J=k(4360),Se=k(8071);function Oe(Ve,we,se=1/0){return(0,Se.T)(we)?Oe((Fe,Ye)=>(0,d.T)((Xe,ot)=>we(Fe,Xe,Ye,ot))((0,h.Tg)(Ve(Fe,Ye))),se):("number"==typeof we&&(se=we),(0,B.N)((Fe,Ye)=>function ye(Ve,we,se,Fe,Ye,Xe,ot,ut){const ct=[];let tt=0,Dt=0,vt=!1;const ue=()=>{vt&&!ct.length&&!tt&&we.complete()},De=Ke=>tt<Fe?Re(Ke):ct.push(Ke),Re=Ke=>{Xe&&we.next(Ke),tt++;let nt=!1;(0,h.Tg)(se(Ke,Dt++)).subscribe((0,J._)(we,Ze=>{null==Ye||Ye(Ze),Xe?De(Ze):we.next(Ze)},()=>{nt=!0},void 0,()=>{if(nt)try{for(tt--;ct.length&&tt<Fe;){const Ze=ct.shift();ot?(0,Ee.N)(we,ot,()=>Re(Ze)):Re(Ze)}ue()}catch(Ze){we.error(Ze)}}))};return Ve.subscribe((0,J._)(we,De,()=>{vt=!0,ue()})),()=>{null==ut||ut()}}(Fe,Ye,Ve,se)))}},941:(Mn,It,k)=>{"use strict";k.d(It,{Q:()=>Ee});var d=k(5225),h=k(9974),B=k(4360);function Ee(J,ye=0){return(0,h.N)((Se,Oe)=>{Se.subscribe((0,B._)(Oe,Ve=>(0,d.N)(Oe,J,()=>Oe.next(Ve),ye),()=>(0,d.N)(Oe,J,()=>Oe.complete(),ye),Ve=>(0,d.N)(Oe,J,()=>Oe.error(Ve),ye)))})}},2816:(Mn,It,k)=>{"use strict";k.d(It,{S:()=>Ee});var d=k(9974),h=k(4360);function Ee(J,ye){return(0,d.N)(function B(J,ye,Se,Oe,Ve){return(we,se)=>{let Fe=Se,Ye=ye,Xe=0;we.subscribe((0,h._)(se,ot=>{const ut=Xe++;Ye=Fe?J(Ye,ot,ut):(Fe=!0,ot),Oe&&se.next(Ye)},Ve&&(()=>{Fe&&se.next(Ye),se.complete()})))}}(J,ye,arguments.length>=2,!0))}},9172:(Mn,It,k)=>{"use strict";k.d(It,{Z:()=>Ee});var d=k(8793),h=k(3794),B=k(9974);function Ee(...J){const ye=(0,h.lI)(J);return(0,B.N)((Se,Oe)=>{(ye?(0,d.x)(J,Se,ye):(0,d.x)(J,Se)).subscribe(Oe)})}},6745:(Mn,It,k)=>{"use strict";k.d(It,{_:()=>h});var d=k(9974);function h(B,Ee=0){return(0,d.N)((J,ye)=>{ye.add(B.schedule(()=>J.subscribe(ye),Ee))})}},5558:(Mn,It,k)=>{"use strict";k.d(It,{n:()=>Ee});var d=k(8750),h=k(9974),B=k(4360);function Ee(J,ye){return(0,h.N)((Se,Oe)=>{let Ve=null,we=0,se=!1;const Fe=()=>se&&!Ve&&Oe.complete();Se.subscribe((0,B._)(Oe,Ye=>{null==Ve||Ve.unsubscribe();let Xe=0;const ot=we++;(0,d.Tg)(J(Ye,ot)).subscribe(Ve=(0,B._)(Oe,ut=>Oe.next(ye?ye(Ye,ut,ot,Xe++):ut),()=>{Ve=null,Fe()}))},()=>{se=!0,Fe()}))})}},6697:(Mn,It,k)=>{"use strict";k.d(It,{s:()=>Ee});var d=k(983),h=k(9974),B=k(4360);function Ee(J){return J<=0?()=>d.w:(0,h.N)((ye,Se)=>{let Oe=0;ye.subscribe((0,B._)(Se,Ve=>{++Oe<=J&&(Se.next(Ve),J<=Oe&&Se.complete())}))})}},8141:(Mn,It,k)=>{"use strict";k.d(It,{M:()=>J});var d=k(8071),h=k(9974),B=k(4360),Ee=k(3669);function J(ye,Se,Oe){const Ve=(0,d.T)(ye)||Se||Oe?{next:ye,error:Se,complete:Oe}:ye;return Ve?(0,h.N)((we,se)=>{var Fe;null===(Fe=Ve.subscribe)||void 0===Fe||Fe.call(Ve);let Ye=!0;we.subscribe((0,B._)(se,Xe=>{var ot;null===(ot=Ve.next)||void 0===ot||ot.call(Ve,Xe),se.next(Xe)},()=>{var Xe;Ye=!1,null===(Xe=Ve.complete)||void 0===Xe||Xe.call(Ve),se.complete()},Xe=>{var ot;Ye=!1,null===(ot=Ve.error)||void 0===ot||ot.call(Ve,Xe),se.error(Xe)},()=>{var Xe,ot;Ye&&(null===(Xe=Ve.unsubscribe)||void 0===Xe||Xe.call(Ve)),null===(ot=Ve.finalize)||void 0===ot||ot.call(Ve)}))}):Ee.D}},3774:(Mn,It,k)=>{"use strict";k.d(It,{v:()=>Ee});var d=k(9350),h=k(9974),B=k(4360);function Ee(ye=J){return(0,h.N)((Se,Oe)=>{let Ve=!1;Se.subscribe((0,B._)(Oe,we=>{Ve=!0,Oe.next(we)},()=>Ve?Oe.complete():Oe.error(ye())))})}function J(){return new d.G}},6780:(Mn,It,k)=>{"use strict";k.d(It,{R:()=>J});var d=k(8359);class h extends d.yU{constructor(Se,Oe){super()}schedule(Se,Oe=0){return this}}const B={setInterval(ye,Se,...Oe){const{delegate:Ve}=B;return null!=Ve&&Ve.setInterval?Ve.setInterval(ye,Se,...Oe):setInterval(ye,Se,...Oe)},clearInterval(ye){const{delegate:Se}=B;return((null==Se?void 0:Se.clearInterval)||clearInterval)(ye)},delegate:void 0};var Ee=k(7908);class J extends h{constructor(Se,Oe){super(Se,Oe),this.scheduler=Se,this.work=Oe,this.pending=!1}schedule(Se,Oe=0){var Ve;if(this.closed)return this;this.state=Se;const we=this.id,se=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(se,we,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(se,this.id,Oe),this}requestAsyncId(Se,Oe,Ve=0){return B.setInterval(Se.flush.bind(Se,this),Ve)}recycleAsyncId(Se,Oe,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Oe;null!=Oe&&B.clearInterval(Oe)}execute(Se,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Se,Oe);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Oe){let we,Ve=!1;try{this.work(Se)}catch(se){Ve=!0,we=se||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Oe}=this,{actions:Ve}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.o)(Ve,this),null!=Se&&(this.id=this.recycleAsyncId(Oe,Se,null)),this.delay=null,super.unsubscribe()}}}},9687:(Mn,It,k)=>{"use strict";k.d(It,{q:()=>B});var d=k(6129);class h{constructor(J,ye=h.now){this.schedulerActionCtor=J,this.now=ye}schedule(J,ye=0,Se){return new this.schedulerActionCtor(this,J).schedule(Se,ye)}}h.now=d.U.now;class B extends h{constructor(J,ye=h.now){super(J,ye),this.actions=[],this._active=!1}flush(J){const{actions:ye}=this;if(this._active)return void ye.push(J);let Se;this._active=!0;do{if(Se=J.execute(J.state,J.delay))break}while(J=ye.shift());if(this._active=!1,Se){for(;J=ye.shift();)J.unsubscribe();throw Se}}}},3236:(Mn,It,k)=>{"use strict";k.d(It,{E:()=>B});var d=k(6780);const B=new(k(9687).q)(d.R)},6129:(Mn,It,k)=>{"use strict";k.d(It,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(Mn,It,k)=>{"use strict";k.d(It,{f:()=>d});const d={setTimeout(h,B,...Ee){const{delegate:J}=d;return null!=J&&J.setTimeout?J.setTimeout(h,B,...Ee):setTimeout(h,B,...Ee)},clearTimeout(h){const{delegate:B}=d;return((null==B?void 0:B.clearTimeout)||clearTimeout)(h)},delegate:void 0}},4761:(Mn,It,k)=>{"use strict";k.d(It,{l:()=>h});const h=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Mn,It,k)=>{"use strict";k.d(It,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Mn,It,k)=>{"use strict";k.d(It,{G:()=>h});const h=(0,k(1853).L)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Mn,It,k)=>{"use strict";k.d(It,{R0:()=>ye,ms:()=>Ee,lI:()=>J});var d=k(8071);function B(Se){return Se[Se.length-1]}function Ee(Se){return(0,d.T)(B(Se))?Se.pop():void 0}function J(Se){return function h(Se){return Se&&(0,d.T)(Se.schedule)}(B(Se))?Se.pop():void 0}function ye(Se,Oe){return"number"==typeof B(Se)?Se.pop():Oe}},3073:(Mn,It,k)=>{"use strict";k.d(It,{D:()=>J});const{isArray:d}=Array,{getPrototypeOf:h,prototype:B,keys:Ee}=Object;function J(Se){if(1===Se.length){const Oe=Se[0];if(d(Oe))return{args:Oe,keys:null};if(function ye(Se){return Se&&"object"==typeof Se&&h(Se)===B}(Oe)){const Ve=Ee(Oe);return{args:Ve.map(we=>Oe[we]),keys:Ve}}}return{args:Se,keys:null}}},7908:(Mn,It,k)=>{"use strict";function d(h,B){if(h){const Ee=h.indexOf(B);0<=Ee&&h.splice(Ee,1)}}k.d(It,{o:()=>d})},1853:(Mn,It,k)=>{"use strict";function d(h){const Ee=h(J=>{Error.call(J),J.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}k.d(It,{L:()=>d})},8496:(Mn,It,k)=>{"use strict";function d(h,B){return h.reduce((Ee,J,ye)=>(Ee[J]=B[ye],Ee),{})}k.d(It,{e:()=>d})},9786:(Mn,It,k)=>{"use strict";k.d(It,{Y:()=>B,l:()=>Ee});var d=k(1026);let h=null;function B(J){if(d.$.useDeprecatedSynchronousErrorHandling){const ye=!h;if(ye&&(h={errorThrown:!1,error:null}),J(),ye){const{errorThrown:Se,error:Oe}=h;if(h=null,Se)throw Oe}}else J()}function Ee(J){d.$.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=J)}},5225:(Mn,It,k)=>{"use strict";function d(h,B,Ee,J=0,ye=!1){const Se=B.schedule(function(){Ee(),ye?h.add(this.schedule(null,J)):this.unsubscribe()},J);if(h.add(Se),!ye)return Se}k.d(It,{N:()=>d})},3669:(Mn,It,k)=>{"use strict";function d(h){return h}k.d(It,{D:()=>d})},7441:(Mn,It,k)=>{"use strict";k.d(It,{X:()=>d});const d=h=>h&&"number"==typeof h.length&&"function"!=typeof h},7953:(Mn,It,k)=>{"use strict";k.d(It,{T:()=>h});var d=k(8071);function h(B){return Symbol.asyncIterator&&(0,d.T)(null==B?void 0:B[Symbol.asyncIterator])}},8071:(Mn,It,k)=>{"use strict";function d(h){return"function"==typeof h}k.d(It,{T:()=>d})},5055:(Mn,It,k)=>{"use strict";k.d(It,{l:()=>B});var d=k(3494),h=k(8071);function B(Ee){return(0,h.T)(Ee[d.s])}},5397:(Mn,It,k)=>{"use strict";k.d(It,{x:()=>B});var d=k(4761),h=k(8071);function B(Ee){return(0,h.T)(null==Ee?void 0:Ee[d.l])}},9858:(Mn,It,k)=>{"use strict";k.d(It,{y:()=>h});var d=k(8071);function h(B){return(0,d.T)(null==B?void 0:B.then)}},5196:(Mn,It,k)=>{"use strict";k.d(It,{C:()=>B,U:()=>Ee});var d=k(1635),h=k(8071);function B(J){return(0,d.AQ)(this,arguments,function*(){const Se=J.getReader();try{for(;;){const{value:Oe,done:Ve}=yield(0,d.N3)(Se.read());if(Ve)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Oe)}}finally{Se.releaseLock()}})}function Ee(J){return(0,h.T)(null==J?void 0:J.getReader)}},9974:(Mn,It,k)=>{"use strict";k.d(It,{N:()=>B,S:()=>h});var d=k(8071);function h(Ee){return(0,d.T)(null==Ee?void 0:Ee.lift)}function B(Ee){return J=>{if(h(J))return J.lift(function(ye){try{return Ee(ye,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Mn,It,k)=>{"use strict";k.d(It,{I:()=>Ee});var d=k(6354);const{isArray:h}=Array;function Ee(J){return(0,d.T)(ye=>function B(J,ye){return h(ye)?J(...ye):J(ye)}(J,ye))}},5343:(Mn,It,k)=>{"use strict";function d(){}k.d(It,{l:()=>d})},1203:(Mn,It,k)=>{"use strict";k.d(It,{F:()=>h,m:()=>B});var d=k(3669);function h(...Ee){return B(Ee)}function B(Ee){return 0===Ee.length?d.D:1===Ee.length?Ee[0]:function(ye){return Ee.reduce((Se,Oe)=>Oe(Se),ye)}}},5334:(Mn,It,k)=>{"use strict";k.d(It,{m:()=>B});var d=k(1026),h=k(9270);function B(Ee){h.f.setTimeout(()=>{const{onUnhandledError:J}=d.$;if(!J)throw Ee;J(Ee)})}},591:(Mn,It,k)=>{"use strict";function d(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(It,{L:()=>d})},8996:(Mn,It,k)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function h(B){if(!k.o(d,B))return Promise.resolve().then(()=>{var ye=new Error("Cannot find module '"+B+"'");throw ye.code="MODULE_NOT_FOUND",ye});var Ee=d[B],J=Ee[0];return Promise.all(Ee.slice(1).map(k.e)).then(()=>k(J))}h.keys=()=>Object.keys(d),h.id=8996,Mn.exports=h},177:(Mn,It,k)=>{"use strict";k.d(It,{AJ:()=>Qt,MD:()=>dt,N0:()=>Gi,QT:()=>B,Sm:()=>ut,Sq:()=>ki,T3:()=>Xr,VF:()=>J,Vy:()=>on,Xr:()=>Rn,YU:()=>mn,ZD:()=>Ee,_b:()=>de,aZ:()=>tt,bT:()=>xe,fw:()=>ct,hb:()=>Xe,hj:()=>Ve,qQ:()=>Se});var d=k(3953);let h=null;function B(){return h}function Ee(w){var q;null!==(q=h)&&void 0!==q||(h=w)}class J{}const Se=new d.nKC("");let Oe=(()=>{var w;class q{historyGo(G){throw new Error("")}}return(w=q).\u0275fac=function(G){return new(G||w)},w.\u0275prov=d.jDH({token:w,factory:()=>(0,d.WQX)(we),providedIn:"platform"}),q})();const Ve=new d.nKC("");let we=(()=>{var w;class q extends Oe{constructor(){super(),this._doc=(0,d.WQX)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(G){const _e=B().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("popstate",G,!1),()=>_e.removeEventListener("popstate",G)}onHashChange(G){const _e=B().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("hashchange",G,!1),()=>_e.removeEventListener("hashchange",G)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(G){this._location.pathname=G}pushState(G,_e,je){this._history.pushState(G,_e,je)}replaceState(G,_e,je){this._history.replaceState(G,_e,je)}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return(w=q).\u0275fac=function(G){return new(G||w)},w.\u0275prov=d.jDH({token:w,factory:()=>new w,providedIn:"platform"}),q})();function se(w,q){if(0==w.length)return q;if(0==q.length)return w;let Le=0;return w.endsWith("/")&&Le++,q.startsWith("/")&&Le++,2==Le?w+q.substring(1):1==Le?w+q:w+"/"+q}function Fe(w){const q=w.match(/#|\?|$/),Le=q&&q.index||w.length;return w.slice(0,Le-("/"===w[Le-1]?1:0))+w.slice(Le)}function Ye(w){return w&&"?"!==w[0]?"?"+w:w}let Xe=(()=>{var w;class q{historyGo(G){throw new Error("")}}return(w=q).\u0275fac=function(G){return new(G||w)},w.\u0275prov=d.jDH({token:w,factory:()=>(0,d.WQX)(ut),providedIn:"root"}),q})();const ot=new d.nKC("");let ut=(()=>{var w;class q extends Xe{constructor(G,_e){var je,Jt,bn;super(),this._platformLocation=G,this._removeListenerFns=[],this._baseHref=null!==(je=null!==(Jt=null!=_e?_e:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Jt?Jt:null===(bn=(0,d.WQX)(Se).location)||void 0===bn?void 0:bn.origin)&&void 0!==je?je:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return se(this._baseHref,G)}path(G=!1){const _e=this._platformLocation.pathname+Ye(this._platformLocation.search),je=this._platformLocation.hash;return je&&G?`${_e}${je}`:_e}pushState(G,_e,je,Jt){const bn=this.prepareExternalUrl(je+Ye(Jt));this._platformLocation.pushState(G,_e,bn)}replaceState(G,_e,je,Jt){const bn=this.prepareExternalUrl(je+Ye(Jt));this._platformLocation.replaceState(G,_e,bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){var _e,je;null===(_e=(je=this._platformLocation).historyGo)||void 0===_e||_e.call(je,G)}}return(w=q).\u0275fac=function(G){return new(G||w)(d.KVO(Oe),d.KVO(ot,8))},w.\u0275prov=d.jDH({token:w,factory:w.\u0275fac,providedIn:"root"}),q})(),ct=(()=>{var w;class q extends Xe{constructor(G,_e){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=_e&&(this._baseHref=_e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){var _e;const je=null!==(_e=this._platformLocation.hash)&&void 0!==_e?_e:"#";return je.length>0?je.substring(1):je}prepareExternalUrl(G){const _e=se(this._baseHref,G);return _e.length>0?"#"+_e:_e}pushState(G,_e,je,Jt){let bn=this.prepareExternalUrl(je+Ye(Jt));0==bn.length&&(bn=this._platformLocation.pathname),this._platformLocation.pushState(G,_e,bn)}replaceState(G,_e,je,Jt){let bn=this.prepareExternalUrl(je+Ye(Jt));0==bn.length&&(bn=this._platformLocation.pathname),this._platformLocation.replaceState(G,_e,bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){var _e,je;null===(_e=(je=this._platformLocation).historyGo)||void 0===_e||_e.call(je,G)}}return(w=q).\u0275fac=function(G){return new(G||w)(d.KVO(Oe),d.KVO(ot,8))},w.\u0275prov=d.jDH({token:w,factory:w.\u0275fac}),q})(),tt=(()=>{var w;class q{constructor(G){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=G;const _e=this._locationStrategy.getBaseHref();this._basePath=function De(w){if(new RegExp("^(https?:)?//").test(w)){const[,Le]=w.split(/\/\/[^\/]+/);return Le}return w}(Fe(ue(_e))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){var G;null===(G=this._urlChangeSubscription)||void 0===G||G.unsubscribe(),this._urlChangeListeners=[]}path(G=!1){return this.normalize(this._locationStrategy.path(G))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(G,_e=""){return this.path()==this.normalize(G+Ye(_e))}normalize(G){return q.stripTrailingSlash(function vt(w,q){if(!w||!q.startsWith(w))return q;const Le=q.substring(w.length);return""===Le||["/",";","?","#"].includes(Le[0])?Le:q}(this._basePath,ue(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._locationStrategy.prepareExternalUrl(G)}go(G,_e="",je=null){this._locationStrategy.pushState(je,"",G,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Ye(_e)),je)}replaceState(G,_e="",je=null){this._locationStrategy.replaceState(je,"",G,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Ye(_e)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(G=0){var _e,je;null===(_e=(je=this._locationStrategy).historyGo)||void 0===_e||_e.call(je,G)}onUrlChange(G){var _e;return this._urlChangeListeners.push(G),null!==(_e=this._urlChangeSubscription)&&void 0!==_e||(this._urlChangeSubscription=this.subscribe(je=>{this._notifyUrlChangeListeners(je.url,je.state)})),()=>{const je=this._urlChangeListeners.indexOf(G);var Jt;this._urlChangeListeners.splice(je,1),0===this._urlChangeListeners.length&&(null===(Jt=this._urlChangeSubscription)||void 0===Jt||Jt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(G="",_e){this._urlChangeListeners.forEach(je=>je(G,_e))}subscribe(G,_e,je){return this._subject.subscribe({next:G,error:_e,complete:je})}}return(w=q).normalizeQueryParams=Ye,w.joinWithSlash=se,w.stripTrailingSlash=Fe,w.\u0275fac=function(G){return new(G||w)(d.KVO(Xe))},w.\u0275prov=d.jDH({token:w,factory:()=>function Dt(){return new tt((0,d.KVO)(Xe))}(),providedIn:"root"}),q})();function ue(w){return w.replace(/\/index.html$/,"")}function de(w,q){q=encodeURIComponent(q);for(const Le of w.split(";")){const G=Le.indexOf("="),[_e,je]=-1==G?[Le,""]:[Le.slice(0,G),Le.slice(G+1)];if(_e.trim()===q)return decodeURIComponent(je)}return null}const ze=/\s+/,Bt=[];let mn=(()=>{var w;class q{constructor(G,_e){this._ngEl=G,this._renderer=_e,this.initialClasses=Bt,this.stateMap=new Map}set klass(G){this.initialClasses=null!=G?G.trim().split(ze):Bt}set ngClass(G){this.rawClass="string"==typeof G?G.trim().split(ze):G}ngDoCheck(){for(const _e of this.initialClasses)this._updateState(_e,!0);const G=this.rawClass;if(Array.isArray(G)||G instanceof Set)for(const _e of G)this._updateState(_e,!0);else if(null!=G)for(const _e of Object.keys(G))this._updateState(_e,!!G[_e]);this._applyStateDiff()}_updateState(G,_e){const je=this.stateMap.get(G);void 0!==je?(je.enabled!==_e&&(je.changed=!0,je.enabled=_e),je.touched=!0):this.stateMap.set(G,{enabled:_e,changed:!0,touched:!0})}_applyStateDiff(){for(const G of this.stateMap){const _e=G[0],je=G[1];je.changed?(this._toggleClass(_e,je.enabled),je.changed=!1):je.touched||(je.enabled&&this._toggleClass(_e,!1),this.stateMap.delete(_e)),je.touched=!1}}_toggleClass(G,_e){(G=G.trim()).length>0&&G.split(ze).forEach(je=>{_e?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return(w=q).\u0275fac=function(G){return new(G||w)(d.rXU(d.aKT),d.rXU(d.sFG))},w.\u0275dir=d.FsC({type:w,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),q})();class Sr{constructor(q,Le,G,_e){this.$implicit=q,this.ngForOf=Le,this.index=G,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{var w;class q{set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}constructor(G,_e,je){this._viewContainer=G,this._template=_e,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;!this._differ&&G&&(this._differ=this._differs.find(G).create(this.ngForTrackBy))}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const _e=this._viewContainer;G.forEachOperation((je,Jt,bn)=>{if(null==je.previousIndex)_e.createEmbeddedView(this._template,new Sr(je.item,this._ngForOf,-1,-1),null===bn?void 0:bn);else if(null==bn)_e.remove(null===Jt?void 0:Jt);else if(null!==Jt){const wr=_e.get(Jt);_e.move(wr,bn),Ie(wr,je)}});for(let je=0,Jt=_e.length;je<Jt;je++){const wr=_e.get(je).context;wr.index=je,wr.count=Jt,wr.ngForOf=this._ngForOf}G.forEachIdentityChange(je=>{Ie(_e.get(je.currentIndex),je)})}static ngTemplateContextGuard(G,_e){return!0}}return(w=q).\u0275fac=function(G){return new(G||w)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},w.\u0275dir=d.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Ie(w,q){w.context.$implicit=q.item}let xe=(()=>{var w;class q{constructor(G,_e){this._viewContainer=G,this._context=new At,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_e}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){Rt("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){Rt("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,_e){return!0}}return(w=q).\u0275fac=function(G){return new(G||w)(d.rXU(d.c1b),d.rXU(d.C4Q))},w.\u0275dir=d.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class At{constructor(){this.$implicit=null,this.ngIf=null}}function Rt(w,q){if(q&&!q.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,d.Tbb)(q)}'.`)}let Xr=(()=>{var w;class q{constructor(G){this._viewContainerRef=G,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(G){if(this._shouldRecreateView(G)){var _e;const je=this._viewContainerRef;if(this._viewRef&&je.remove(je.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Jt=this._createContextForwardProxy();this._viewRef=je.createEmbeddedView(this.ngTemplateOutlet,Jt,{injector:null!==(_e=this.ngTemplateOutletInjector)&&void 0!==_e?_e:void 0})}}_shouldRecreateView(G){return!!G.ngTemplateOutlet||!!G.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(G,_e,je)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,_e,je),get:(G,_e,je)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,_e,je)}})}}return(w=q).\u0275fac=function(G){return new(G||w)(d.rXU(d.c1b))},w.\u0275dir=d.FsC({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),q})(),dt=(()=>{var w;class q{}return(w=q).\u0275fac=function(G){return new(G||w)},w.\u0275mod=d.$C({type:w}),w.\u0275inj=d.G2t({}),q})();const Qt="browser",rn="server";function on(w){return w===rn}let Rn=(()=>{var w;class q{}return(w=q).\u0275prov=(0,d.jDH)({token:w,providedIn:"root",factory:()=>function en(w){return w===Qt}((0,d.WQX)(d.Agw))?new Yn((0,d.WQX)(Se),window):new ti}),q})();class Yn{constructor(q,Le){this.document=q,this.window=Le,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(q){this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){const Le=function or(w,q){const Le=w.getElementById(q)||w.getElementsByName(q)[0];if(Le)return Le;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const G=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let _e=G.currentNode;for(;_e;){const je=_e.shadowRoot;if(je){const Jt=je.getElementById(q)||je.querySelector(`[name="${q}"]`);if(Jt)return Jt}_e=G.nextNode()}}return null}(this.document,q);Le&&(this.scrollToElement(Le),Le.focus())}setHistoryScrollRestoration(q){this.window.history.scrollRestoration=q}scrollToElement(q){const Le=q.getBoundingClientRect(),G=Le.left+this.window.pageXOffset,_e=Le.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(G-je[0],_e-je[1])}}class ti{setOffset(q){}getScrollPosition(){return[0,0]}scrollToPosition(q){}scrollToAnchor(q){}setHistoryScrollRestoration(q){}}class Gi{}},3953:(Mn,It,k)=>{"use strict";function d(e,t){return Object.is(e,t)}k.d(It,{iLQ:()=>B0,sZ2:()=>Yf,hnV:()=>JD,Hbi:()=>hx,o8S:()=>bd,BIS:()=>Gh,gRc:()=>pw,Ql9:()=>kO,Ocv:()=>jO,Z63:()=>la,aKT:()=>zf,uvJ:()=>ja,zcH:()=>Yl,bkB:()=>Ka,$GK:()=>Kr,nKC:()=>br,zZn:()=>wa,_q3:()=>SA,MKu:()=>RA,xe9:()=>IA,Co$:()=>eC,Vns:()=>kp,SKi:()=>qo,Xx1:()=>aa,Agw:()=>Au,PLl:()=>zh,sFG:()=>wS,_9s:()=>lI,czy:()=>lt,kdw:()=>Ml,C4Q:()=>ff,NYb:()=>SO,giA:()=>QD,xvI:()=>nO,RxE:()=>HD,c1b:()=>h0,gXe:()=>qs,mal:()=>I0,L39:()=>Hx,EWP:()=>Gx,a0P:()=>Jx,Ol2:()=>CI,w6W:()=>_R,oH4:()=>cw,Rfq:()=>zs,WQX:()=>qn,naY:()=>YO,QuC:()=>Mo,EmA:()=>sl,fpN:()=>dx,HJs:()=>Zx,N4e:()=>bf,vPA:()=>LT,O8t:()=>Wx,H3F:()=>zD,zAP:()=>Uw,H8p:()=>zc,KH2:()=>Sm,TgB:()=>ad,wOt:()=>Gn,WHO:()=>XD,e01:()=>qD,H5H:()=>QI,Zy3:()=>Yi,mq5:()=>sb,JZv:()=>Wi,LfX:()=>Gs,plB:()=>_f,jNT:()=>vA,zjR:()=>YD,TL$:()=>pE,Tbb:()=>yi,Vt3:()=>II,GFd:()=>ZT,OA$:()=>Cn,Jv_:()=>vD,aNF:()=>_D,R7$:()=>Ly,BMQ:()=>FI,AVh:()=>HI,vxM:()=>eb,wni:()=>Hb,VBU:()=>dn,FsC:()=>zr,jDH:()=>Pr,G2t:()=>us,$C:()=>Nr,EJ8:()=>Ji,rXU:()=>vd,nrm:()=>XI,eu8:()=>qI,bVm:()=>P0,qex:()=>R0,k0s:()=>S0,j41:()=>w0,RV6:()=>rb,xGo:()=>Yu,KVO:()=>$r,kS0:()=>Fh,QTQ:()=>Sv,bIt:()=>ZI,lsd:()=>Wb,XpG:()=>Mb,SdG:()=>Ob,NAR:()=>Nb,Y8G:()=>$I,lJ4:()=>ID,l_i:()=>AD,mGM:()=>Gb,sdS:()=>Kb,Njj:()=>Pf,eBV:()=>Om,n$t:()=>vv,DNE:()=>DI,EFF:()=>rD,JRh:()=>rA,SpI:()=>k0,wXG:()=>by,DH7:()=>fD,mxI:()=>oA,R50:()=>iA,GBs:()=>zb});let h=null,B=!1,Ee=1;const J=Symbol("SIGNAL");function ye(e){const t=h;return h=e,t}const we={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function se(e){if(B)throw new Error("");if(null===h)return;h.consumerOnSignalRead(e);const t=h.nextProducerIndex++;Ke(h),t<h.producerNode.length&&h.producerNode[t]!==e&&Re(h)&&De(h.producerNode[t],h.producerIndexOfThis[t]),h.producerNode[t]!==e&&(h.producerNode[t]=e,h.producerIndexOfThis[t]=Re(h)?ue(e,h,t):0),h.producerLastReadVersion[t]=e.version}function Ye(e){if((!Re(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ee)){if(!e.producerMustRecompute(e)&&!Dt(e))return e.dirty=!1,void(e.lastCleanEpoch=Ee);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ee}}function Xe(e){if(void 0===e.liveConsumerNode)return;const t=B;B=!0;try{for(const r of e.liveConsumerNode)r.dirty||ut(r)}finally{B=t}}function ot(){var e;return!1!==(null===(e=h)||void 0===e?void 0:e.consumerAllowSignalWrites)}function ut(e){var t;e.dirty=!0,Xe(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function ct(e){return e&&(e.nextProducerIndex=0),ye(e)}function tt(e,t){if(ye(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Re(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)De(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Dt(e){Ke(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(Ye(r),o!==r.version))return!0}return!1}function vt(e){if(Ke(e),Re(e))for(let t=0;t<e.producerNode.length;t++)De(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ue(e,t,r){if(nt(e),0===e.liveConsumerNode.length&&Ze(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=ue(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function De(e,t){if(nt(e),1===e.liveConsumerNode.length&&Ze(e))for(let o=0;o<e.producerNode.length;o++)De(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Ke(a),a.producerIndexOfThis[o]=t}}function Re(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function Ke(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function nt(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Ze(e){return void 0!==e.producerNode}const rt=Symbol("UNSET"),Ot=Symbol("COMPUTING"),Xt=Symbol("ERRORED"),En={...we,value:rt,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===rt||e.value===Ot,producerRecomputeValue(e){if(e.value===Ot)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Ot;const r=ct(e);let o;try{o=e.computation()}catch(a){o=Xt,e.error=a}finally{tt(e,r)}t!==rt&&t!==Xt&&o!==Xt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let cn=function tn(){throw new Error};function ft(){cn()}let ie=null;function mt(e,t){ot()||ft(),e.equal(e.value,t)||(e.value=t,function Pt(e){var t;e.version++,function Fe(){Ee++}(),Xe(e),null===(t=ie)||void 0===t||t()}(e))}const Ft={...we,equal:d,value:void 0};var li,ei,Ln=k(4412),jn=k(1413),qt=k(8359),Zt=k(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const mo="https://g.co/ng/security#xss";class Gn extends Error{constructor(t,r){super(Yi(t,r)),this.code=t}}function Yi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function yo(e){return{toString:e}.toString()}const gs="__parameters__";function bs(e,t,r){return yo(()=>{const o=function Eo(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...c){if(this instanceof a)return o.apply(this,c),this;const g=new a(...c);return I.annotation=g,I;function I(D,H,Z){const fe=D.hasOwnProperty(gs)?D[gs]:Object.defineProperty(D,gs,{value:[]})[gs];for(;fe.length<=Z;)fe.push(null);return(fe[Z]=fe[Z]||[]).push(g),D}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Wi=globalThis;function qr(e){for(let t in e)if(e[t]===qr)return t;throw Error("Could not find renamed property on target object.")}function Qa(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function yi(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(yi).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Vr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ga=qr({__forward_ref__:qr});function zs(e){return e.__forward_ref__=zs,e.toString=function(){return yi(this())},e}function Cr(e){return Vo(e)?e():e}function Vo(e){return"function"==typeof e&&e.hasOwnProperty(ga)&&e.__forward_ref__===zs}function Pr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function us(e){return{providers:e.providers||[],imports:e.imports||[]}}function cs(e){return ia(e,xa)||ia(e,ml)}function Gs(e){return null!==cs(e)}function ia(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ws(e){return e&&(e.hasOwnProperty(ma)||e.hasOwnProperty(va))?e[ma]:null}const xa=qr({\u0275prov:qr}),ma=qr({\u0275inj:qr}),ml=qr({ngInjectableDef:qr}),va=qr({ngInjectorDef:qr});class br{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Pr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ka(e){return e&&!!e.\u0275providers}const Ro=qr({\u0275cmp:qr}),La=qr({\u0275dir:qr}),tl=qr({\u0275pipe:qr}),_l=qr({\u0275mod:qr}),Po=qr({\u0275fac:qr}),Fr=qr({__NG_ELEMENT_ID__:qr}),oc=qr({__NG_ENV_ID__:qr});function Mr(e){return"string"==typeof e?e:null==e?"":String(e)}function il(e,t){throw new Gn(-201,!1)}var Kr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Kr||{});let Os;function sa(){return Os}function Xi(e){const t=Os;return Os=e,t}function su(e,t,r){const o=cs(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Kr.Optional?null:void 0!==t?t:void il()}const q={},Le="__NG_DI_FLAG__",G="ngTempTokenPath",je=/\n/gm,bn="__source";let wr;function Hr(e){const t=wr;return wr=e,t}function Ur(e,t=Kr.Default){if(void 0===wr)throw new Gn(-203,!1);return null===wr?su(e,void 0,t):wr.get(e,t&Kr.Optional?null:void 0,t)}function $r(e,t=Kr.Default){return(sa()||Ur)(Cr(e),t)}function qn(e,t=Kr.Default){return $r(e,vs(t))}function vs(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qi(e){const t=[];for(let r=0;r<e.length;r++){const o=Cr(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Gn(900,!1);let a,c=Kr.Default;for(let g=0;g<o.length;g++){const I=o[g],D=ys(I);"number"==typeof D?-1===D?a=I.token:c|=D:a=I}t.push($r(a,c))}else t.push($r(o))}return t}function _s(e,t){return e[Le]=t,e.prototype[Le]=t,e}function ys(e){return e[Le]}const aa=_s(bs("Optional"),8),Ml=_s(bs("SkipSelf"),4);function ni(e,t){return e.hasOwnProperty(Po)?e[Po]:null}function Va(e,t){e.forEach(r=>Array.isArray(r)?Va(r,t):t(r))}function Xs(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function ac(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function co(e,t,r){let o=ro(e,t);return o>=0?e[1|o]=r:(o=~o,function Es(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Ol(e,t){const r=ro(e,t);if(r>=0)return e[1|r]}function ro(e,t){return function xl(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const c=o+(a-o>>1),g=e[c<<r];if(t===g)return c<<r;g>t?a=c:o=c+1}return~(a<<r)}(e,t,1)}const _a={},Di=[],la=new br(""),Fc=new br("",-1),Il=new br("");class Ru{get(t,r=q){if(r===q){const o=new Error(`NullInjectorError: No provider for ${yi(t)}!`);throw o.name="NullInjectorError",o}return r}}var kl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(kl||{}),qs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qs||{}),Yo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Yo||{});function au(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===o||e.charCodeAt(a+c)<=32)return a}r=a+1}}function Vc(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const c=r[o++],g=r[o++],I=r[o++];e.setAttribute(t,g,I,c)}else{const c=a,g=r[++o];lu(c)?e.setProperty(t,c,g):e.setAttribute(t,c,g),o++}}return o}function ho(e){return 3===e||4===e||6===e}function lu(e){return 64===e.charCodeAt(0)}function ya(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||uc(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function uc(e,t,r,o,a){let c=0,g=e.length;if(-1===t)g=-1;else for(;c<e.length;){const I=e[c++];if("number"==typeof I){if(I===t){g=-1;break}if(I>t){g=c-1;break}}}for(;c<e.length;){const I=e[c];if("number"==typeof I)break;if(I===r){if(null===o)return void(null!==a&&(e[c+1]=a));if(o===e[c+1])return void(e[c+2]=a)}c++,null!==o&&c++,null!==a&&c++}-1!==g&&(e.splice(g,0,t),c=g+1),e.splice(c++,0,r),null!==o&&e.splice(c++,0,o),null!==a&&e.splice(c++,0,a)}const Ua="ng-template";function xs(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==au(t[a+1].toLowerCase(),r,0))return!0}else if(cc(e))return!1;if(a=t.indexOf(1,a),a>-1){let c;for(;++a<t.length&&"string"==typeof(c=t[a]);)if(c.toLowerCase()===r)return!0}return!1}function cc(e){return 4===e.type&&e.value!==Ua}function wd(e,t,r){return t===(4!==e.type||r?e.value:Ua)}function Uc(e,t,r){let o=4;const a=e.attrs,c=null!==a?function M(e){for(let t=0;t<e.length;t++)if(ho(e[t]))return t;return e.length}(a):0;let g=!1;for(let I=0;I<t.length;I++){const D=t[I];if("number"!=typeof D){if(!g)if(4&o){if(o=2|1&o,""!==D&&!wd(e,D,r)||""===D&&1===t.length){if(Qs(o))return!1;g=!0}}else if(8&o){if(null===a||!xs(e,a,D,r)){if(Qs(o))return!1;g=!0}}else{const H=t[++I],Z=Bc(D,a,cc(e),r);if(-1===Z){if(Qs(o))return!1;g=!0;continue}if(""!==H){let fe;if(fe=Z>c?"":a[Z+1].toLowerCase(),2&o&&H!==fe){if(Qs(o))return!1;g=!0}}}}else{if(!g&&!Qs(o)&&!Qs(D))return!1;if(g&&Qs(D))continue;g=!1,o=D|1&o}}return Qs(o)||g}function Qs(e){return!(1&e)}function Bc(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let c=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)c=!0;else{if(1===g||2===g){let I=t[++a];for(;"string"==typeof I;)I=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=c?1:2}return-1}return function V(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function $c(e,t,r=!1){for(let o=0;o<t.length;o++)if(Uc(e,t[o],r))return!0;return!1}function R(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function $(e,t){return e?":not("+t.trim()+")":t}function me(e){let t=e[0],r=1,o=2,a="",c=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const I=e[++r];a+="["+g+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!Qs(g)&&(t+=$(c,a),a=""),o=g,c=c||!Qs(o);r++}return""!==a&&(t+=$(c,a)),t}function dn(e){return yo(()=>{var t;const r=Ll(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===kl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||qs.Emulated,styles:e.styles||Di,_:null,schemas:e.schemas||null,tView:null,id:""};Pu(o);const a=e.dependencies;return o.directiveDefs=Fl(a,!1),o.pipeDefs=Fl(a,!0),o.id=function Vl(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function Vt(e){return Ir(e)||Oi(e)}function Wn(e){return null!==e}function Nr(e){return yo(()=>({type:e.type,bootstrap:e.bootstrap||Di,declarations:e.declarations||Di,imports:e.imports||Di,exports:e.exports||Di,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Pi(e,t){if(null==e)return _a;const r={};for(const a in e)if(e.hasOwnProperty(a)){const c=e[a];let g,I,D=Yo.None;var o;Array.isArray(c)?(D=c[0],g=c[1],I=null!==(o=c[2])&&void 0!==o?o:g):(g=c,I=c),t?(r[g]=D!==Yo.None?[a,D]:a,t[g]=I):r[g]=a}return r}function zr(e){return yo(()=>{const t=Ll(e);return Pu(t),t})}function Ji(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ir(e){return e[Ro]||null}function Oi(e){return e[La]||null}function fo(e){return e[tl]||null}function Mo(e){const t=Ir(e)||Oi(e)||fo(e);return null!==t&&t.standalone}function eo(e,t){const r=e[_l]||null;if(!r&&!0===t)throw new Error(`Type ${yi(e)} does not have '\u0275mod' property.`);return r}function Ll(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||_a,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Di,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pi(e.inputs,t),outputs:Pi(e.outputs),debugInfo:null}}function Pu(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function Fl(e,t){if(!e)return null;const r=t?fo:Vt;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Wn)}function sl(e){return{\u0275providers:e}}function Ul(...e){return{\u0275providers:Mu(0,e),\u0275fromNgModule:!0}}function Mu(e,...t){const r=[],o=new Set;let a;const c=g=>{r.push(g)};return Va(t,g=>{const I=g;uu(I,c,[],o)&&(a||(a=[]),a.push(I))}),void 0!==a&&Bl(a,c),r}function Bl(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];jc(a,c=>{t(c,o)})}}function uu(e,t,r,o){if(!(e=Cr(e)))return!1;let a=null,c=Ws(e);const g=!c&&Ir(e);if(c||g){if(g&&!g.standalone)return!1;a=e}else{const D=e.ngModule;if(c=Ws(D),!c)return!1;a=D}const I=o.has(a);if(g){if(I)return!1;if(o.add(a),g.dependencies){const D="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const H of D)uu(H,t,r,o)}}else{if(!c)return!1;{if(null!=c.imports&&!I){let H;o.add(a);try{Va(c.imports,Z=>{uu(Z,t,r,o)&&(H||(H=[]),H.push(Z))})}finally{}void 0!==H&&Bl(H,t)}if(!I){const H=ni(a)||(()=>new a);t({provide:a,useFactory:H,deps:Di},a),t({provide:Il,useValue:a,multi:!0},a),t({provide:la,useValue:()=>$r(a),multi:!0},a)}const D=c.providers;if(null!=D&&!I){const H=e;jc(D,Z=>{t(Z,H)})}}}return a!==e&&void 0!==e.providers}function jc(e,t){for(let r of e)ka(r)&&(r=r.\u0275providers),Array.isArray(r)?jc(r,t):t(r)}const Tf=qr({provide:String,useValue:qr});function dc(e){return null!==e&&"object"==typeof e&&Tf in e}function al(e){return"function"==typeof e}const zc=new br(""),$a={},Gc={};let hc;function fc(){return void 0===hc&&(hc=new Ru),hc}class ja{}class Al extends ja{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pc(t,g=>this.processProvider(g)),this.records.set(Fc,Ha(void 0,this)),a.has("environment")&&this.records.set(ja,Ha(void 0,this));const c=this.records.get(zc);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Il,Di,Kr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ye(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Hr(this),o=Xi(void 0);try{return t()}finally{Hr(r),Xi(o)}}get(t,r=q,o=Kr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(oc))return t[oc](this);o=vs(o);const c=Hr(this),g=Xi(void 0);try{if(!(o&Kr.SkipSelf)){let D=this.records.get(t);if(void 0===D){const H=function Rd(e){return"function"==typeof e||"object"==typeof e&&e instanceof br}(t)&&cs(t);D=H&&this.injectableDefInScope(H)?Ha(Nu(t),$a):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(o&Kr.Self?fc():this.parent).get(t,r=o&Kr.Optional&&r===q?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[G]=I[G]||[]).unshift(yi(t)),c)throw I;return function ws(e,t,r,o){const a=e[G];throw t[bn]&&a.unshift(t[bn]),e.message=function Ks(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=yi(t);if(Array.isArray(t))a=t.map(yi).join(" -> ");else if("object"==typeof t){let c=[];for(let g in t)if(t.hasOwnProperty(g)){let I=t[g];c.push(g+":"+("string"==typeof I?JSON.stringify(I):yi(I)))}a=`{${c.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(je,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[G]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{Xi(g),Hr(c)}}resolveInjectorInitializers(){const t=ye(null),r=Hr(this),o=Xi(void 0);try{const c=this.get(la,Di,Kr.Self);for(const g of c)g()}finally{Hr(r),Xi(o),ye(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(yi(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Gn(205,!1)}processProvider(t){let r=al(t=Cr(t))?t:Cr(t&&t.provide);const o=function Tl(e){return dc(e)?Ha(void 0,e.useValue):Ha(Wc(e),$a)}(t);if(!al(t)&&!0===t.multi){let a=this.records.get(r);a||(a=Ha(void 0,$a,!0),a.factory=()=>qi(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=ye(null);try{return r.value===$a&&(r.value=Gc,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Cf(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ye(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Cr(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Nu(e){const t=cs(e),r=null!==t?t.factory:ni(e);if(null!==r)return r;if(e instanceof br)throw new Gn(204,!1);if(e instanceof Function)return function Ou(e){if(e.length>0)throw new Gn(204,!1);const r=function Ko(e){return e&&(e[xa]||e[ml])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Gn(204,!1)}function Wc(e,t,r){let o;if(al(e)){const a=Cr(e);return ni(a)||Nu(a)}if(dc(e))o=()=>Cr(e.useValue);else if(function Hc(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...qi(e.deps||[]));else if(function $l(e){return!(!e||!e.useExisting)}(e))o=()=>$r(Cr(e.useExisting));else{const a=Cr(e&&(e.useClass||e.provide));if(!function Sd(e){return!!e.deps}(e))return ni(a)||Nu(a);o=()=>new a(...qi(e.deps))}return o}function Ha(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function pc(e,t){for(const r of e)Array.isArray(r)?pc(r,t):r&&ka(r)?pc(r.\u0275providers,t):t(r)}function bf(e,t){e instanceof Al&&e.assertNotDestroyed();const o=Hr(e),a=Xi(void 0);try{return t()}finally{Hr(o),Xi(a)}}function Pd(){return void 0!==sa()||null!=function ui(){return wr}()}const io=0,$n=1,pr=2,so=3,za=4,po=5,jo=6,Ys=7,ao=8,lo=9,Ea=10,Br=11,Bi=12,xd=13,pu=14,Ao=15,ll=16,gu=17,Cl=18,Lu=19,yh=20,Ga=21,Wa=22,Jo=23,hr=25,Ia=1,Aa=7,Fu=9,Ho=10;var Vu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Vu||{});function Mi(e){return Array.isArray(e)&&"object"==typeof e[Ia]}function hs(e){return Array.isArray(e)&&!0===e[Ia]}function yc(e){return!!(4&e.flags)}function mu(e){return e.componentOffset>-1}function Uu(e){return!(1&~e.flags)}function ua(e){return!!e.template}function Bu(e){return!!(512&e[pr])}class Ct{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Yt(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function Cn(){return nr}function nr(e){return e.type.prototype.ngOnChanges&&(e.setInput=hi),cr}function cr(){const e=ul(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===_a)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function hi(e,t,r,o,a){const c=this.declaredInputs[o],g=ul(e)||function zu(e,t){return e[ks]=t}(e,{previous:_a,current:null}),I=g.current||(g.current={}),D=g.previous,H=D[c];I[c]=new Ct(H&&H.currentValue,r,D===_a),Yt(e,t,a,r)}Cn.ngInherit=!0;const ks="__ngSimpleChanges__";function ul(e){return e[ks]||null}const ca=function(e,t,r){};function fi(e){for(;Array.isArray(e);)e=e[io];return e}function Hl(e,t){return fi(t[e])}function Is(e,t){return fi(t[e.index])}function Ta(e,t){return e.data[t]}function Js(e,t){const r=t[e];return Mi(r)?r:r[io]}function Fd(e){return!(128&~e[pr])}function ba(e,t){return null==t?null:e[t]}function Th(e){e[gu]=0}function Vd(e){1024&e[pr]||(e[pr]|=1024,Fd(e)&&Ch(e))}function Zc(e){var t;return!!(9216&e[pr]||null!==(t=e[Jo])&&void 0!==t&&t.dirty)}function Ud(e){var t;null===(t=e[Ea].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[pr]&&(e[pr]|=1024),Zc(e)&&Ch(e)}function Ch(e){var t;null===(t=e[Ea].changeDetectionScheduler)||void 0===t||t.notify(0);let r=yu(e);for(;null!==r&&!(8192&r[pr])&&(r[pr]|=8192,Fd(r));)r=yu(r)}function bh(e,t){if(!(256&~e[pr]))throw new Gn(911,!1);null===e[Ga]&&(e[Ga]=[]),e[Ga].push(t)}function yu(e){const t=e[so];return hs(t)?t[so]:t}const Qr={lFrame:rd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Gl=!1;function wh(){return Qr.bindingsEnabled}function Wl(){return null!==Qr.skipHydrationRootTNode}function pn(){return Qr.lFrame.lView}function vi(){return Qr.lFrame.tView}function Om(e){return Qr.lFrame.contextLView=e,e[ao]}function Pf(e){return Qr.lFrame.contextLView=null,e}function go(){let e=Mf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Mf(){return Qr.lFrame.currentTNode}function Da(e,t){const r=Qr.lFrame;r.currentTNode=e,r.isParent=t}function td(){return Qr.lFrame.isParent}function Ku(){Qr.lFrame.isParent=!1}function Sh(){return Gl}function xf(e){Gl=e}function Fs(){const e=Qr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Kl(){return Qr.lFrame.bindingIndex++}function xm(e,t){const r=Qr.lFrame;r.bindingIndex=r.bindingRootIndex=e,Rh(t)}function Rh(e){Qr.lFrame.currentDirectiveIndex=e}function Dc(){return Qr.lFrame.currentQueryIndex}function ql(e){Qr.lFrame.currentQueryIndex=e}function qp(e){const t=e[$n];return 2===t.type?t.declTNode:1===t.type?e[po]:null}function nd(e,t,r){if(r&Kr.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||r&Kr.Host||(a=qp(c),null===a||(c=c[pu],10&a.type))););if(null===a)return!1;t=a,e=c}const o=Qr.lFrame=Qp();return o.currentTNode=t,o.lView=e,!0}function wc(e){const t=Qp(),r=e[$n];Qr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Qp(){const e=Qr.lFrame,t=null===e?null:e.child;return null===t?rd(e):t}function rd(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function km(){const e=Qr.lFrame;return Qr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Lm=km;function Ff(){const e=km();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ps(){return Qr.lFrame.selectedIndex}function qu(e){Qr.lFrame.selectedIndex=e}function vo(){const e=Qr.lFrame;return Ta(e.tView,e.selectedIndex)}let Vf=!0;function Mh(){return Vf}function Ql(e){Vf=e}function Nh(e,t){for(let H=t.directiveStart,Z=t.directiveEnd;H<Z;H++){const qe=e.data[H].type.prototype,{ngAfterContentInit:st,ngAfterContentChecked:et,ngAfterViewInit:nn,ngAfterViewChecked:Tn,ngOnDestroy:Bn}=qe;var r,o,a,c,g,I,D;st&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-H,st),et&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(H,et),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(H,et)),nn&&(null!==(c=e.viewHooks)&&void 0!==c?c:e.viewHooks=[]).push(-H,nn),Tn&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(H,Tn),(null!==(I=e.viewCheckHooks)&&void 0!==I?I:e.viewCheckHooks=[]).push(H,Tn)),null!=Bn&&(null!==(D=e.destroyHooks)&&void 0!==D?D:e.destroyHooks=[]).push(H,Bn)}}function Oh(e,t,r){Fm(e,t,3,r)}function xh(e,t,r,o){(3&e[pr])===r&&Fm(e,t,r,o)}function Uf(e,t){let r=e[pr];(3&r)===t&&(r&=16383,r+=1,e[pr]=r)}function Fm(e,t,r,o){const c=null!=o?o:-1,g=t.length-1;let I=0;for(let D=void 0!==o?65535&e[gu]:0;D<g;D++)if("number"==typeof t[D+1]){if(I=t[D],null!=o&&I>=o)break}else t[D]<0&&(e[gu]+=65536),(I<c||-1==c)&&(R_(e,r,t,D),e[gu]=(4294901760&e[gu])+D+2),D++}function Vm(e,t){ca(4,e,t);const r=ye(null);try{t.call(e)}finally{ye(r),ca(5,e,t)}}function R_(e,t,r,o){const a=r[o]<0,c=r[o+1],I=e[a?-r[o]:r[o]];a?e[pr]>>14<e[gu]>>16&&(3&e[pr])===t&&(e[pr]+=16384,Vm(I,c)):Vm(I,c)}const $d=-1;class id{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const og={};class Qu{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=vs(o);const a=this.injector.get(t,og,o);return a!==og||r===og?a:this.parentInjector.get(t,r,o)}}function sg(e){return e!==$d}function od(e){return 32767&e}function sd(e,t){let r=function Bm(e){return e>>16}(e),o=t;for(;r>0;)o=o[pu],r--;return o}let ag=!0;function jd(e){const t=ag;return ag=e,t}const v=255,m=5;let P=0;const L={};function be(e,t){const r=Mt(e,t);if(-1!==r)return r;const o=t[$n];o.firstCreatePass&&(e.injectorIndex=t.length,it(o.data,e),it(t,null),it(o.blueprint,null));const a=hn(e,t),c=e.injectorIndex;if(sg(a)){const g=od(a),I=sd(a,t),D=I[$n].data;for(let H=0;H<8;H++)t[c+H]=I[g+H]|D[g+H]}return t[c+8]=a,c}function it(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function hn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=Lh(a),null===o)return $d;if(r++,a=a[pu],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return $d}function gn(e,t,r){!function Y(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Fr)&&(o=r[Fr]),null==o&&(o=r[Fr]=P++);const a=o&v;t.data[e+(a>>m)]|=1<<a}(e,t,r)}function dr(e,t,r){if(r&Kr.Optional||void 0!==e)return e;il()}function Or(e,t,r,o){if(r&Kr.Optional&&void 0===o&&(o=null),!(r&(Kr.Self|Kr.Host))){const a=e[lo],c=Xi(void 0);try{return a?a.get(t,o,r&Kr.Optional):su(t,o,r&Kr.Optional)}finally{Xi(c)}}return dr(o,0,r)}function Jr(e,t,r,o=Kr.Default,a){if(null!==e){if(2048&t[pr]&&!(o&Kr.Self)){const g=function Ju(e,t,r,o,a){let c=e,g=t;for(;null!==c&&null!==g&&2048&g[pr]&&!(512&g[pr]);){const I=pi(c,g,r,o|Kr.Self,L);if(I!==L)return I;let D=c.parent;if(!D){const H=g[yh];if(H){const Z=H.get(r,L,o);if(Z!==L)return Z}D=Lh(g),g=g[pu]}c=D}return a}(e,t,r,o,L);if(g!==L)return g}const c=pi(e,t,r,o,L);if(c!==L)return c}return Or(t,r,o,a)}function pi(e,t,r,o,a){const c=function Zo(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Fr)?e[Fr]:void 0;return"number"==typeof t?t>=0?t&v:Dl:t}(r);if("function"==typeof c){if(!nd(t,e,o))return o&Kr.Host?dr(a,0,o):Or(t,r,o,a);try{let g;if(g=c(o),null!=g||o&Kr.Optional)return g;il()}finally{Lm()}}else if("number"==typeof c){let g=null,I=Mt(e,t),D=$d,H=o&Kr.Host?t[Ao][po]:null;for((-1===I||o&Kr.SkipSelf)&&(D=-1===I?hn(e,t):t[I+8],D!==$d&&Ii(o,!1)?(g=t[$n],I=od(D),t=sd(D,t)):I=-1);-1!==I;){const Z=t[$n];if(Zi(c,I,Z.data)){const fe=xi(I,t,r,g,o,H);if(fe!==L)return fe}D=t[I+8],D!==$d&&Ii(o,t[$n].data[I+8]===H)&&Zi(c,I,t)?(g=Z,I=od(D),t=sd(D,t)):I=-1}}return a}function xi(e,t,r,o,a,c){const g=t[$n],I=g.data[e+8],Z=xr(I,g,r,null==o?mu(I)&&ag:o!=g&&!!(3&I.type),a&Kr.Host&&c===I);return null!==Z?Yr(t,g,Z,I):L}function xr(e,t,r,o,a){const c=e.providerIndexes,g=t.data,I=1048575&c,D=e.directiveStart,Z=c>>20,qe=a?I+Z:e.directiveEnd;for(let st=o?I:I+Z;st<qe;st++){const et=g[st];if(st<D&&r===et||st>=D&&et.type===r)return st}if(a){const st=g[D];if(st&&ua(st)&&st.type===r)return D}return null}function Yr(e,t,r,o){let a=e[r];const c=t.data;if(function P_(e){return e instanceof id}(a)){const g=a;g.resolving&&function nl(e,t){throw t&&t.join(" > "),new Gn(-200,e)}(function bi(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Mr(e)}(c[r]));const I=jd(g.canSeeViewProviders);g.resolving=!0;const H=g.injectImpl?Xi(g.injectImpl):null;nd(e,o,Kr.Default);try{a=e[r]=g.factory(void 0,c,e,o),t.firstCreatePass&&r>=o.directiveStart&&function S_(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(o){var g,I;const fe=nr(t);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,fe),(null!==(I=r.preOrderCheckHooks)&&void 0!==I?I:r.preOrderCheckHooks=[]).push(e,fe)}var D,H,Z;a&&(null!==(D=r.preOrderHooks)&&void 0!==D?D:r.preOrderHooks=[]).push(0-e,a),c&&((null!==(H=r.preOrderHooks)&&void 0!==H?H:r.preOrderHooks=[]).push(e,c),(null!==(Z=r.preOrderCheckHooks)&&void 0!==Z?Z:r.preOrderCheckHooks=[]).push(e,c))}(r,c[r],t)}finally{null!==H&&Xi(H),jd(I),g.resolving=!1,Lm()}}return a}function Zi(e,t,r){return!!(r[t+(e>>m)]&1<<e)}function Ii(e,t){return!(e&Kr.Self||e&Kr.Host&&t)}class To{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Jr(this._tNode,this._lView,t,vs(o),r)}}function Dl(){return new To(go(),pn())}function Yu(e){return yo(()=>{const t=e.prototype.constructor,r=t[Po]||Hd(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const c=a[Po]||Hd(a);if(c&&c!==r)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Hd(e){return Vo(e)?()=>{const t=Hd(Cr(e));return t&&t()}:ni(e)}function Lh(e){const t=e[$n],r=t.type;return 2===r?t.declTNode:1===r?e[po]:null}function Fh(e){return function sr(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const c=r[a];if(ho(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(c===t)return r[a+1];a+=2}}}return null}(go(),e)}function x_(e,t=null,r=null,o){const a=k_(e,t,r,o);return a.resolveInjectorInitializers(),a}function k_(e,t=null,r=null,o,a=new Set){const c=[r||Di,Ul(e)];return o=o||("object"==typeof e?void 0:yi(e)),new Al(c,t||fc(),o||null,a)}class wa{static create(t,r){if(Array.isArray(t))return x_({name:""},r,t,"");{var o;const a=null!==(o=t.name)&&void 0!==o?o:"";return x_({name:a},t.parent,t.providers,a)}}}(li=wa).THROW_IF_NOT_FOUND=q,li.NULL=new Ru,li.\u0275prov=Pr({token:li,providedIn:"any",factory:()=>$r(Fc)}),li.__NG_ELEMENT_ID__=-1,new br("").__NG_ELEMENT_ID__=e=>{const t=go();if(null===t)throw new Gn(204,!1);if(2&t.type)return t.value;if(e&Kr.Optional)return null;throw new Gn(204,!1)};function jf(e){return e.ngOriginalError}const Hf=!0;let Kd=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Uh,e.__NG_ENV_ID__=r=>r,t})();class V_ extends Kd{constructor(t){super(),this._lView=t}onDestroy(t){return bh(this._lView,t),()=>function Dh(e,t){if(null===e[Ga])return;const r=e[Ga].indexOf(t);-1!==r&&e[Ga].splice(r,1)}(this._lView,t)}}function Uh(){return new V_(pn())}let ad=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ln.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>new e}),t})();const Ka=class B_ extends jn.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Pd()&&(this.destroyRef=null!==(r=qn(Kd,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=qn(ad,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=ye(null);try{super.next(t)}finally{ye(r)}}subscribe(t,r,o){let a=t,c=r||(()=>null),g=o;if(t&&"object"==typeof t){var I,D,H;const fe=t;a=null===(I=fe.next)||void 0===I?void 0:I.bind(fe),c=null===(D=fe.error)||void 0===D?void 0:D.bind(fe),g=null===(H=fe.complete)||void 0===H?void 0:H.bind(fe)}this.__isAsync&&(c=this.wrapInTimeout(c),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const Z=super.subscribe({next:a,error:c,complete:g});return t instanceof qt.yU&&t.add(Z),Z}wrapInTimeout(t){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var c;t(r),void 0!==a&&(null===(c=this.pendingTasks)||void 0===c||c.remove(a))})}}};function Bh(...e){}function $_(e){let t,r;function o(){e=Bh;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function j_(e){return queueMicrotask(()=>e()),()=>{e=Bh}}const hg="isAngularZone",fg=hg+"_ID";let H_=0;class qo{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ka(!1),this.onMicrotaskEmpty=new Ka(!1),this.onStable=new Ka(!1),this.onError=new Ka(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:c=Hf}=t;if(typeof Zone>"u")throw new Gn(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=c,function rE(e){const t=()=>{!function nE(e){function t(){$_(()=>{e.callbackScheduled=!1,zm(e),e.isCheckStableRunning=!0,Hm(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zm(e))}(e)},r=H_++;e._inner=e._inner.fork({name:"angular",properties:{[hg]:!0,[fg]:r,[fg+r]:!0},onInvokeTask:(o,a,c,g,I,D)=>{if(function Wm(e){return Km(e,"__ignore_ng_zone__")}(D))return o.invokeTask(c,g,I,D);try{return z_(e),o.invokeTask(c,g,I,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),Gm(e)}},onInvoke:(o,a,c,g,I,D,H)=>{try{return z_(e),o.invoke(c,g,I,D,H)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function G_(e){return Km(e,"__scheduler_tick__")}(D)&&t(),Gm(e)}},onHasTask:(o,a,c,g)=>{o.hasTask(c,g),a===c&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,zm(e),Hm(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,c,g)=>(o.handleError(c,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(hg)}static assertInAngularZone(){if(!qo.isInAngularZone())throw new Gn(909,!1)}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new Gn(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+a,t,tE,Bh,Bh);try{return c.runTask(g,r,o)}finally{c.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const tE={};function Hm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function z_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gm(e){e._nesting--,Hm(e)}class pg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ka,this.onMicrotaskEmpty=new Ka,this.onStable=new Ka,this.onError=new Ka}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Km(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class Yl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&jf(t);for(;r&&jf(r);)r=jf(r);return r||null}}const Fi=new br("",{providedIn:"root",factory:()=>{const e=qn(qo),t=qn(Yl);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Zu(){return Xd(go(),pn())}function Xd(e,t){return new zf(Is(e,t))}let zf=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=Zu,t})();function Gf(e){return e instanceof zf?e.nativeElement:e}function K_(){return this._results[Symbol.iterator]()}class Wf{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new Ka}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Wf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=K_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function Ss(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function El(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],c=t[o];if(r&&(a=r(a),c=r(c)),c!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function uo(e){return!(128&~e.flags)}const Bo=new Map;let q_=0;function _g(e){Bo.delete(e[Lu])}const Jm="__ngContext__";function Ms(e,t){Mi(t)?(e[Jm]=t[Lu],function lE(e){Bo.set(e[Lu],e)}(t)):e[Jm]=t}function ud(e){return Hh(e[Bi])}function Xf(e){return Hh(e[za])}function Hh(e){for(;null!==e&&!hs(e);)e=e[za];return e}let Qd;function pE(e){Qd=e}const Yf=new br("",{providedIn:"root",factory:()=>iv}),iv="ng",zh=new br(""),Au=new br("",{providedIn:"platform",factory:()=>"unknown"}),Gh=new br("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Iu(){if(void 0!==Qd)return Qd;if(typeof document<"u")return document;throw new Gn(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let mE=()=>null;function ry(e,t,r=!1){return mE(e,t,r)}const ay=new br("",{providedIn:"root",factory:()=>!1});let dv,Ng;function Rc(e){var t;return(null===(t=function dy(){if(void 0===Ng&&(Ng=null,Wi.trustedTypes))try{Ng=Wi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ng}())||void 0===t?void 0:t.createScriptURL(e))||e}class fy{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mo})`}}function dd(e){return e instanceof fy?e.changingThisBreaksApplicationSecurity:e}function Og(e,t){const r=function XA(e){return e instanceof fy&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${mo})`)}return r===t}const YA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Tu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Tu||{});function pd(e){const t=Zh();return t?t.sanitize(Tu.URL,e)||"":Og(e,"URL")?dd(e):function my(e){return(e=String(e)).match(YA)?e:"unsafe:"+e}(Mr(e))}function Cy(e){const t=Zh();if(t)return Rc(t.sanitize(Tu.RESOURCE_URL,e)||"");if(Og(e,"ResourceURL"))return Rc(dd(e));throw new Gn(904,!1)}function by(e){return function IE(e){var t;return(null===(t=function cy(){if(void 0===dv&&(dv=null,Wi.trustedTypes))try{dv=Wi.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dv}())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function vv(e,t,r){return function xE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Cy:pd}(t,r)(e)}function Zh(){const e=pn();return e&&e[Ea].sanitizer}const kg=/^>|^->|<!--|-->|--!>|<!-$/g,wy=/(<|>)/g,kE="\u200b$1\u200b";function fn(e){return e instanceof Function?e():e}var lt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(lt||{});let bt;function kt(e,t){return bt(e,t)}function Kt(e,t,r,o,a){if(null!=o){let c,g=!1;hs(o)?c=o:Mi(o)&&(g=!0,o=o[io]);const I=fi(o);0===e&&null!==r?null==a?Bg(t,r,I):nc(t,r,I,a||null,!0):1===e&&null!==r?nc(t,r,I,a||null,!0):2===e?function uh(e,t,r){e.removeChild(null,t,r)}(t,I,g):3===e&&t.destroyNode(I),null!=c&&function ky(e,t,r,o,a){const c=r[Aa];c!==fi(r)&&Kt(t,e,o,c,a);for(let I=Ho;I<r.length;I++){const D=r[I];ta(D[$n],D,e,t,o,c)}}(t,e,c,r,a)}}function lh(e,t){return e.createComment(function Lg(e){return e.replace(kg,t=>t.replace(wy,kE))}(t))}function Vg(e,t,r){return e.createElement(t,r)}function Ug(e,t){var r;null===(r=t[Ea].changeDetectionScheduler)||void 0===r||r.notify(9),ta(e,t,t[Br],2,null,null)}function Pc(e,t){const r=e[Fu],o=t[so];(Mi(o)||t[Ao]!==o[so][Ao])&&(e[pr]|=Vu.HasTransplantedViews),null===r?e[Fu]=[t]:r.push(t)}function Zs(e,t){const r=e[Fu],o=r.indexOf(t);r.splice(o,1)}function up(e,t){if(e.length<=Ho)return;const r=Ho+t,o=e[r];if(o){const a=o[ll];null!==a&&a!==e&&Zs(a,o),t>0&&(e[r-1][za]=o[za]);const c=ac(e,Ho+t);!function ap(e,t){Ug(e,t),t[io]=null,t[po]=null}(o[$n],o);const g=c[Cl];null!==g&&g.detachView(c[$n]),o[so]=null,o[za]=null,o[pr]&=-129}return o}function gd(e,t){if(!(256&t[pr])){const r=t[Br];r.destroyNode&&ta(e,t,r,3,null,null),function Ny(e){let t=e[Bi];if(!t)return yv(e[$n],e);for(;t;){let r=null;if(Mi(t))r=t[Bi];else{const o=t[Ho];o&&(r=o)}if(!r){for(;t&&!t[za]&&t!==e;)Mi(t)&&yv(t[$n],t),t=t[so];null===t&&(t=e),Mi(t)&&yv(t[$n],t),r=t&&t[za]}t=r}}(t)}}function yv(e,t){if(256&t[pr])return;const r=ye(null);try{t[pr]&=-129,t[pr]|=256,t[Jo]&&vt(t[Jo]),function BE(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof id)){const c=r[o+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const I=a[c[g]],D=c[g+1];ca(4,I,D);try{D.call(I)}finally{ca(5,I,D)}}else{ca(4,a,c);try{c.call(a)}finally{ca(5,a,c)}}}}}(e,t),function cp(e,t){const r=e.cleanup,o=t[Ys];if(null!==r)for(let c=0;c<r.length-1;c+=2)if("string"==typeof r[c]){const g=r[c+3];g>=0?o[g]():o[-g].unsubscribe(),c+=2}else r[c].call(o[r[c+1]]);null!==o&&(t[Ys]=null);const a=t[Ga];if(null!==a){t[Ga]=null;for(let c=0;c<a.length;c++)(0,a[c])()}}(e,t),1===t[$n].type&&t[Br].destroy();const o=t[ll];if(null!==o&&hs(t[so])){o!==t[so]&&Zs(o,t);const a=t[Cl];null!==a&&a.detachView(e)}_g(t)}finally{ye(r)}}function Ev(e,t,r){return function dp(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[io];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:c}=e.data[o.directiveStart+a];if(c===qs.None||c===qs.Emulated)return null}return Is(o,r)}}(e,t.parent,r)}function nc(e,t,r,o,a){e.insertBefore(t,r,o,a)}function Bg(e,t,r){e.appendChild(t,r)}function $g(e,t,r,o,a){null!==o?nc(e,t,r,o,a):Bg(e,t,r)}function hp(e,t){return e.parentNode(t)}function Av(e,t,r){return Oy(e,t,r)}let jg,Oy=function Tv(e,t,r){return 40&e.type?Is(e,r):null};function ef(e,t,r,o){const a=Ev(e,o,t),c=t[Br],I=Av(o.parent||t[po],o,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)$g(c,a,r[D],I,!1);else $g(c,a,r,I,!1);void 0!==jg&&jg(c,o,t,r,a)}function md(e,t){if(null!==t){const r=t.type;if(3&r)return Is(t,e);if(4&r)return fp(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return md(e,o);{const a=e[t.index];return hs(a)?fp(-1,a):fi(a)}}if(128&r)return md(e,t.next);if(32&r)return kt(t,e)()||fi(e[t.index]);{const o=xy(e,t);return null!==o?Array.isArray(o)?o[0]:md(yu(e[Ao]),o):md(e,t.next)}}return null}function xy(e,t){return null!==t?e[Ao][po].projection[t.projection]:null}function fp(e,t){const r=Ho+e+1;if(r<t.length){const o=t[r],a=o[$n].firstChild;if(null!==a)return md(o,a)}return t[Aa]}function ea(e,t,r,o,a,c,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=o[r.index],D=r.type;if(g&&0===t&&(I&&Ms(fi(I),o),r.flags|=2),32&~r.flags)if(8&D)ea(e,t,r.child,o,a,c,!1),Kt(t,e,a,I,c);else if(32&D){const H=kt(r,o);let Z;for(;Z=H();)Kt(t,e,a,Z,c);Kt(t,e,a,I,c)}else 16&D?bv(e,t,o,r,a,c):Kt(t,e,a,I,c);r=g?r.projectionNext:r.next}}function ta(e,t,r,o,a,c){ea(r,o,e.firstChild,t,a,c,!1)}function bv(e,t,r,o,a,c){const g=r[Ao],D=g[po].projection[o.projection];if(Array.isArray(D))for(let H=0;H<D.length;H++)Kt(t,e,a,D[H],c);else{let H=D;const Z=g[so];uo(o)&&(H.flags|=128),ea(e,t,H,Z,a,c,!0)}}function Dv(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function wv(e,t,r){const{mergedAttrs:o,classes:a,styles:c}=r;null!==o&&Vc(e,t,o),null!==a&&Dv(e,t,a),null!==c&&function pp(e,t,r){e.setAttribute(t,"style",r)}(e,t,c)}const ii={};function Ly(e=1){Fy(vi(),pn(),Ps()+e,!1)}function Fy(e,t,r,o){if(!o)if(3&~t[pr]){const c=e.preOrderHooks;null!==c&&xh(t,c,0,r)}else{const c=e.preOrderCheckHooks;null!==c&&Oh(t,c,r)}qu(r)}function vd(e,t=Kr.Default){const r=pn();return null===r?$r(e,t):Jr(go(),r,Cr(e),t)}function Sv(){throw new Error("invalid")}function Rv(e,t,r,o,a,c){const g=ye(null);try{let I=null;a&Yo.SignalBased&&(I=t[o][J]),null!==I&&void 0!==I.transformFn&&(c=I.transformFn(c)),a&Yo.HasDecoratorInputTransform&&(c=e.inputTransforms[o].call(t,c)),null!==e.setInput?e.setInput(t,I,c,r,o):Yt(t,I,o,c)}finally{ye(g)}}function tf(e,t,r,o,a,c,g,I,D,H,Z){const fe=t.blueprint.slice();return fe[io]=a,fe[pr]=204|o,(null!==H||e&&2048&e[pr])&&(fe[pr]|=2048),Th(fe),fe[so]=fe[pu]=e,fe[ao]=r,fe[Ea]=g||e&&e[Ea],fe[Br]=I||e&&e[Br],fe[lo]=D||e&&e[lo]||null,fe[po]=c,fe[Lu]=function aE(){return q_++}(),fe[jo]=Z,fe[yh]=H,fe[Ao]=2==t.type?e[Ao]:fe,fe}function Mc(e,t,r,o,a){let c=e.data[t];if(null===c)c=function Nc(e,t,r,o,a){const c=Mf(),g=td(),D=e.data[t]=function Xg(e,t,r,o,a,c){let g=t?t.injectorIndex:-1,I=0;return Wl()&&(I|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=D),null!==c&&(g?null==c.child&&null!==D.parent&&(c.child=D):null===c.next&&(c.next=D,D.prev=c)),D}(e,t,r,o,a),function b_(){return Qr.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=r,c.value=o,c.attrs=a;const g=function bc(){const e=Qr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===g?-1:g.injectorIndex}return Da(c,!0),c}function nf(e,t,r,o){if(0===r)return-1;const a=t.length;for(let c=0;c<r;c++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function mp(e,t,r,o,a){const c=Ps(),g=2&o;try{qu(-1),g&&t.length>hr&&Fy(e,t,hr,!1),ca(g?2:0,a),r(o,a)}finally{qu(c),ca(g?3:1,a)}}function Gg(e,t,r){if(yc(t)){const o=ye(null);try{const c=t.directiveEnd;for(let g=t.directiveStart;g<c;g++){const I=e.data[g];I.contentQueries&&I.contentQueries(1,r[g],g)}}finally{ye(o)}}}function ch(e,t,r){wh()&&(function $y(e,t,r,o){const a=r.directiveStart,c=r.directiveEnd;mu(r)&&function Ov(e,t,r){const o=Is(t,e),a=Pa(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const I=Ip(e,tf(e,a,null,g,o,t,null,e[Ea].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=I}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||be(r,t),Ms(o,t);const g=r.initialInputs;for(let I=a;I<c;I++){const D=e.data[I],H=Yr(t,e,I,r);Ms(H,t),null!==g&&Gy(0,I-a,H,D,0,g),ua(D)&&(Js(r.index,t)[ao]=Yr(t,e,I,r))}}(e,t,r,Is(r,t)),!(64&~r.flags)&&Zg(e,t,r))}function Wg(e,t,r=Is){const o=t.localNames;if(null!==o){let a=t.index+1;for(let c=0;c<o.length;c+=2){const g=o[c+1],I=-1===g?r(t,e):e[g];e[a++]=I}}}function Pa(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Kg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Kg(e,t,r,o,a,c,g,I,D,H,Z){const fe=hr+o,qe=fe+a,st=function vp(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:ii);return r}(fe,qe),et="function"==typeof H?H():H;return st[$n]={type:e,blueprint:st,template:r,queries:null,viewQuery:I,declTNode:t,data:st.slice().fill(null,fe),bindingStartIndex:fe,expandoStartIndex:qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:D,consts:et,incompleteFirstPass:!1,ssrId:Z}}let Vy=()=>null;function Pv(e,t,r,o,a){for(let g in t){var c;if(!t.hasOwnProperty(g))continue;const I=t[g];if(void 0===I)continue;null!==(c=o)&&void 0!==c||(o={});let D,H=Yo.None;Array.isArray(I)?(D=I[0],H=I[1]):D=I;let Z=g;if(null!==a){if(!a.hasOwnProperty(g))continue;Z=a[g]}0===e?qg(o,r,Z,D,H):qg(o,r,Z,D)}return o}function qg(e,t,r,o,a){let c;e.hasOwnProperty(r)?(c=e[r]).push(t,o):c=e[r]=[t,o],void 0!==a&&c.push(a)}function qa(e,t,r,o,a,c,g,I){const D=Is(t,r);let Z,H=t.inputs;!I&&null!=H&&(Z=H[o])?(Oo(e,r,Z,o,a),mu(t)&&function Uy(e,t){const r=Js(t,e);16&r[pr]||(r[pr]|=64)}(r,t.index)):3&t.type&&(o=function _d(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,t.value||"",o):a,c.setProperty(D,o,a))}function Yg(e,t,r,o){if(wh()){const a=null===o?null:{"":-1},c=function dh(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let g=0;g<r.length;g++){const I=r[g];if($c(t,I.selectors,!1))if(o||(o=[]),ua(I))if(null!==I.findHostDirectiveDefs){const D=[];a=a||new Map,I.findHostDirectiveDefs(I,D,a),o.unshift(...D,I),Ep(e,t,D.length)}else o.unshift(I),Ep(e,t,0);else{var c;a=a||new Map,null===(c=I.findHostDirectiveDefs)||void 0===c||c.call(I,I,o,a),o.push(I)}}return null===o?null:[o,a]}(e,r);let g,I;null===c?g=I=null:[g,I]=c,null!==g&&Nv(e,t,r,g,a,I),a&&function WE(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=r[t[a+1]];if(null==c)throw new Gn(-301,!1);o.push(t[a],c)}}}(r,o,a)}r.mergedAttrs=ya(r.mergedAttrs,r.attrs)}function Nv(e,t,r,o,a,c){for(let fe=0;fe<o.length;fe++)gn(be(r,t),e,o[fe].type);!function Hy(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let fe=0;fe<o.length;fe++){const qe=o[fe];qe.providersResolver&&qe.providersResolver(qe)}let g=!1,I=!1,D=nf(e,t,o.length,null);for(let fe=0;fe<o.length;fe++){const qe=o[fe];r.mergedAttrs=ya(r.mergedAttrs,qe.hostAttrs),zy(e,r,t,D,qe),jy(D,qe,a),null!==qe.contentQueries&&(r.flags|=4),(null!==qe.hostBindings||null!==qe.hostAttrs||0!==qe.hostVars)&&(r.flags|=64);const st=qe.type.prototype;var H,Z;!g&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((null!==(H=e.preOrderHooks)&&void 0!==H?H:e.preOrderHooks=[]).push(r.index),g=!0),I||!st.ngOnChanges&&!st.ngDoCheck||((null!==(Z=e.preOrderCheckHooks)&&void 0!==Z?Z:e.preOrderCheckHooks=[]).push(r.index),I=!0),D++}!function Qg(e,t,r){const a=t.directiveEnd,c=e.data,g=t.attrs,I=[];let D=null,H=null;for(let Z=t.directiveStart;Z<a;Z++){const fe=c[Z],qe=r?r.get(fe):null,et=qe?qe.outputs:null;D=Pv(0,fe.inputs,Z,D,qe?qe.inputs:null),H=Pv(1,fe.outputs,Z,H,et);const nn=null===D||null===g||cc(t)?null:KE(D,Z,g);I.push(nn)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=8),D.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=I,t.inputs=D,t.outputs=H}(e,r,c)}function Zg(e,t,r){const o=r.directiveStart,a=r.directiveEnd,c=r.index,g=function Xp(){return Qr.lFrame.currentDirectiveIndex}();try{qu(c);for(let I=o;I<a;I++){const D=e.data[I],H=t[I];Rh(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&yp(D,H)}}finally{qu(-1),Rh(g)}}function yp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ep(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function jy(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;ua(t)&&(r[""]=e)}}function zy(e,t,r,o,a){e.data[o]=a;const c=a.factory||(a.factory=ni(a.type)),g=new id(c,ua(a),vd);e.blueprint[o]=g,r[o]=g,function GE(e,t,r,o,a){const c=a.hostBindings;if(c){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const I=~t.index;(function Jg(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=I&&g.push(I),g.push(r,o,c)}}(e,t,o,nf(e,r,a.hostVars,ii),a)}function Zl(e,t,r,o,a,c){const g=Is(e,t);!function em(e,t,r,o,a,c,g){if(null==c)e.removeAttribute(t,a,r);else{const I=null==g?Mr(c):g(c,o||"",a);e.setAttribute(t,a,I,r)}}(t[Br],g,c,e.value,r,o,a)}function Gy(e,t,r,o,a,c){const g=c[t];if(null!==g)for(let I=0;I<g.length;)Rv(o,r,g[I++],g[I++],g[I++],g[I++])}function KE(e,t,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===o&&(o=[]);const g=e[c];for(let I=0;I<g.length;I+=3)if(g[I]===t){o.push(c,g[I+1],g[I+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Wy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function xv(e,t){const r=e.contentQueries;if(null!==r){const o=ye(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const I=e.data[g];ql(r[a]),I.contentQueries(2,t[g],g)}}}finally{ye(o)}}}function Ip(e,t){return e[Bi]?e[xd][za]=t:e[Bi]=t,e[xd]=t,t}function kv(e,t,r){ql(0);const o=ye(null);try{t(e,r)}finally{ye(o)}}function rc(e){var t;return null!==(t=e[Ys])&&void 0!==t?t:e[Ys]=[]}function Ap(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function Cp(e,t){const r=e[lo],o=r?r.get(Yl,null):null;o&&o.handleError(t)}function Oo(e,t,r,o,a){for(let c=0;c<r.length;){const g=r[c++],I=r[c++],D=r[c++];Rv(e.data[g],t[g],o,I,D,a)}}function bp(e,t){const r=Js(t,e),o=r[$n];!function Dp(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[io];null!==a&&null===r[jo]&&(r[jo]=ry(a,r[lo])),Lv(o,r,r[ao])}function Lv(e,t,r){wc(t);try{var o;const a=e.viewQuery;null!==a&&kv(1,a,r);const c=e.template;null!==c&&mp(e,t,c,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Cl])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&xv(e,t),e.staticViewQueries&&kv(2,e.viewQuery,r);const g=e.components;null!==g&&function Ky(e,t){for(let r=0;r<t.length;r++)bp(e,t[r])}(t,g)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[pr]&=-5,Ff()}}function af(e,t,r,o){const a=ye(null);try{var c,g,I;const D=t.tView,fe=tf(e,D,r,4096&e[pr]?4096:16,null,t,null,null,null!==(c=null==o?void 0:o.injector)&&void 0!==c?c:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(I=null==o?void 0:o.dehydratedView)&&void 0!==I?I:null);fe[ll]=e[t.index];const st=e[Cl];return null!==st&&(fe[Cl]=st.createEmbeddedView(D)),Lv(D,fe,r),fe}finally{ye(a)}}function hh(e,t){return!t||null===t.firstChild||uo(e)}function lf(e,t,r,o=!0){const a=t[$n];if(function UE(e,t,r,o){const a=Ho+o,c=r.length;o>0&&(r[a-1][za]=t),o<c-Ho?(t[za]=r[a],Xs(r,Ho+o,t)):(r.push(t),t[za]=null),t[so]=r;const g=t[ll];null!==g&&r!==g&&Pc(g,t);const I=t[Cl];null!==I&&I.insertView(e),Ud(t),t[pr]|=128}(a,t,e,r),o){const g=fp(r,e),I=t[Br],D=hp(I,e[Aa]);null!==D&&function lp(e,t,r,o,a,c){o[io]=a,o[po]=t,ta(e,o,r,1,a,c)}(a,e[po],I,t,D,g)}const c=t[jo];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function tu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const c=t[r.index];null!==c&&o.push(fi(c)),hs(c)&&Fv(c,o);const g=r.type;if(8&g)tu(e,t,r.child,o);else if(32&g){const I=kt(r,t);let D;for(;D=I();)o.push(D)}else if(16&g){const I=xy(t,r);if(Array.isArray(I))o.push(...I);else{const D=yu(t[Ao]);tu(D[$n],D,I,o,!0)}}r=a?r.projectionNext:r.next}return o}function Fv(e,t){for(let r=Ho;r<e.length;r++){const o=e[r],a=o[$n].firstChild;null!==a&&tu(o[$n],o,a,t)}e[Aa]!==e[io]&&t.push(e[Aa])}let Vv=[];const qE={...we,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ch(e.lView)},consumerOnSignalRead(){this.lView[Jo]=this}},yd={...we,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=yu(e.lView);for(;t&&!Qy(t[$n]);)t=yu(t);t&&Vd(t)},consumerOnSignalRead(){this.lView[Jo]=this}};function Qy(e){return 2!==e.type}const YE=100;function Ed(e,t=!0,r=0){const o=e[Ea],a=o.rendererFactory;var g;null===(g=a.begin)||void 0===g||g.call(a);try{!function tm(e,t){const r=Sh();try{xf(!0),$v(e,t);let o=0;for(;Zc(e);){if(o===YE)throw new Gn(103,!1);o++,$v(e,1)}}finally{xf(r)}}(e,r)}catch(H){throw t&&Cp(e,H),H}finally{var I,D;null===(I=a.end)||void 0===I||I.call(a),null===(D=o.inlineEffectRunner)||void 0===D||D.flush()}}function wp(e,t,r,o){var a;const c=t[pr];if(!(256&~c))return;null===(a=t[Ea].inlineEffectRunner)||void 0===a||a.flush(),wc(t);let D=!0,H=null,Z=null;Qy(e)?(Z=function qy(e){var t;return null!==(t=e[Jo])&&void 0!==t?t:function uf(e){var t;const r=null!==(t=Vv.pop())&&void 0!==t?t:Object.create(qE);return r.lView=e,r}(e)}(t),H=ct(Z)):null===function Se(){return h}()?(D=!1,Z=function QE(e){var t;const r=null!==(t=e[Jo])&&void 0!==t?t:Object.create(yd);return r.lView=e,r}(t),H=ct(Z)):t[Jo]&&(vt(t[Jo]),t[Jo]=null);try{Th(t),function kf(e){return Qr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&mp(e,t,r,2,o);const fe=!(3&~c);if(fe){const et=e.preOrderCheckHooks;null!==et&&Oh(t,et,null)}else{const et=e.preOrderHooks;null!==et&&xh(t,et,0,null),Uf(t,0)}if(function Yy(e){for(let t=ud(e);null!==t;t=Xf(t)){if(!(t[pr]&Vu.HasTransplantedViews))continue;const r=t[Fu];for(let o=0;o<r.length;o++)Vd(r[o])}}(t),cf(t,0),null!==e.contentQueries&&xv(e,t),fe){const et=e.contentCheckHooks;null!==et&&Oh(t,et)}else{const et=e.contentHooks;null!==et&&xh(t,et,1),Uf(t,1)}!function gp(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)qu(~a);else{const c=a,g=r[++o],I=r[++o];xm(g,c),I(2,t[c])}}}finally{qu(-1)}}(e,t);const qe=e.components;null!==qe&&Jy(t,qe,0);const st=e.viewQuery;if(null!==st&&kv(2,st,o),fe){const et=e.viewCheckHooks;null!==et&&Oh(t,et)}else{const et=e.viewHooks;null!==et&&xh(t,et,2),Uf(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Wa]){for(const et of t[Wa])et();t[Wa]=null}t[pr]&=-73}catch(fe){throw Ch(t),fe}finally{null!==Z&&(tt(Z,H),D&&function XE(e){e.lView[Jo]!==e&&(e.lView=null,Vv.push(e))}(Z)),Ff()}}function cf(e,t){for(let r=ud(e);null!==r;r=Xf(r))for(let o=Ho;o<r.length;o++)ns(r[o],t)}function Bv(e,t,r){ns(Js(t,e),r)}function ns(e,t){Fd(e)&&$v(e,t)}function $v(e,t){const o=e[$n],a=e[pr],c=e[Jo];let g=!!(0===t&&16&a);if(g||(g=!!(64&a&&0===t)),g||(g=!!(1024&a)),g||(g=!(null==c||!c.dirty||!Dt(c))),g||(g=!1),c&&(c.dirty=!1),e[pr]&=-9217,g)wp(o,e,o.template,e[ao]);else if(8192&a){cf(e,1);const I=o.components;null!==I&&Jy(e,I,1)}}function Jy(e,t,r){for(let o=0;o<t.length;o++)Bv(e,t[o],r)}function df(e,t){var r;const o=Sh()?64:1088;for(null===(r=e[Ea].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[pr]|=o;const a=yu(e);if(Bu(e)&&!a)return e;e=a}return null}class hf{get rootNodes(){const t=this._lView,r=t[$n];return tu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ao]}set context(t){this._lView[ao]=t}get destroyed(){return!(256&~this._lView[pr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[so];if(hs(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(up(t,o),ac(r,o))}this._attachedToViewContainer=!1}gd(this._lView[$n],this._lView)}onDestroy(t){bh(this._lView,t)}markForCheck(){df(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pr]&=-129}reattach(){Ud(this._lView),this._lView[pr]|=128}detectChanges(){this._lView[pr]|=1024,Ed(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Gn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Bu(this._lView),r=this._lView[ll];null!==r&&!t&&Zs(r,this._lView),Ug(this._lView[$n],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Gn(902,!1);this._appRef=t;const r=Bu(this._lView),o=this._lView[ll];null!==o&&!r&&Pc(o,this._lView),Ud(this._lView)}}let ff=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oc,t})();const nm=ff,Zy=class extends nm{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=af(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new hf(a)}};function Oc(){return Sp(go(),pn())}function Sp(e,t){return 4&e.type?new Zy(t,e,Xd(e,t)):null}let fT=()=>null;function xp(e,t){return fT(e,t)}class am{}const Yv=new br("",{providedIn:"root",factory:()=>!1}),pT=new br(""),aI=new br("");class CS{}class gT{}class DS{resolveComponentFactory(t){throw function bS(e){const t=Error(`No component factory found for ${yi(e)}.`);return t.ngComponent=e,t}(t)}}class Jv{}Jv.NULL=new DS;class lI{}let wS=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function SS(){const e=pn(),r=Js(go().index,e);return(Mi(r)?r:e)[Br]}(),t})(),RS=(()=>{var e;class t{}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>null}),t})();function _f(e){return!!eo(e)}function d0(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,c=0;if(null!==t)for(let g=0;g<t.length;g++){const I=t[g];"number"==typeof I?c=I:1==c?a=Vr(a,I):2==c&&(o=Vr(o,I+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class yT extends Jv{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Ir(t);return new t_(r,this.ngModule)}}function ET(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const c=Array.isArray(a),g=c?a[0]:a;r.push(t?{propName:g,templateName:o,isSignal:!!((c?a[1]:Yo.None)&Yo.SignalBased)}:{propName:g,templateName:o})}return r}class t_ extends gT{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=ET(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return ET(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Ae(e){return e.map(me).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const c=ye(null);try{var I;let D=(a=a||this.ngModule)instanceof ja?a:null===(I=a)||void 0===I?void 0:I.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const H=D?new Qu(t,D):t,Z=H.get(lI,null);if(null===Z)throw new Gn(407,!1);const st={rendererFactory:Z,sanitizer:H.get(RS,null),inlineEffectRunner:null,changeDetectionScheduler:H.get(am,null)},et=Z.createRenderer(null,this.componentDef),nn=this.componentDef.selectors[0][0]||"div",Tn=o?function _p(e,t,r,o){const c=o.get(ay,!1)||r===qs.ShadowDom,g=e.selectRootElement(t,c);return function jE(e){Vy(e)}(g),g}(et,o,this.componentDef.encapsulation,H):Vg(et,nn,function NS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(nn));let Bn=512;this.componentDef.signals?Bn|=4096:this.componentDef.onPush||(Bn|=16);let un=null;null!==Tn&&(un=ry(Tn,H,!0));const Gr=Kg(0,null,null,1,0,null,null,null,null,null,null),oi=tf(null,Gr,null,Bn,null,null,st,et,H,null,un);wc(oi);let $o,pa,hl=null;try{const Du=this.componentDef;let $p,OA=null;Du.findHostDirectiveDefs?($p=[],OA=new Map,Du.findHostDirectiveDefs(Du,$p,OA),$p.push(Du)):$p=[Du];const e1=function xS(e,t){const r=e[$n],o=hr;return e[o]=t,Mc(r,o,2,"#host",null)}(oi,Tn);hl=function kS(e,t,r,o,a,c,g){const I=a[$n];!function LS(e,t,r,o){for(const a of e)t.mergedAttrs=ya(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(d0(t,t.mergedAttrs,!0),null!==r&&wv(o,r,t))}(o,e,t,g);let D=null;null!==t&&(D=ry(t,a[lo]));const H=c.rendererFactory.createRenderer(t,r);let Z=16;r.signals?Z=4096:r.onPush&&(Z=64);const fe=tf(a,Pa(r),null,Z,a[e.index],e,c,H,null,null,D);return I.firstCreatePass&&Ep(I,e,o.length-1),Ip(a,fe),a[e.index]=fe}(e1,Tn,Du,$p,oi,st,et),pa=Ta(Gr,hr),Tn&&function VS(e,t,r,o){if(o)Vc(e,r,["ng-version","18.2.5"]);else{const{attrs:a,classes:c}=function Nt(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let c=e[o];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++o]):8===a&&r.push(c);else{if(!Qs(a))break;a=c}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&Vc(e,r,a),c&&c.length>0&&Dv(e,r,c.join(" "))}}(et,Du,Tn,o),void 0!==r&&function US(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const c=r[a];o.push(null!=c?Array.from(c):null)}}(pa,this.ngContentSelectors,r),$o=function FS(e,t,r,o,a,c){const g=go(),I=a[$n],D=Is(g,a);Nv(I,a,g,r,null,o);for(let Z=0;Z<r.length;Z++)Ms(Yr(a,I,g.directiveStart+Z,g),a);Zg(I,a,g),D&&Ms(D,a);const H=Yr(a,I,g.directiveStart+g.componentOffset,g);if(e[ao]=a[ao]=H,null!==c)for(const Z of c)Z(H,t);return Gg(I,g,a),H}(hl,Du,$p,OA,oi,[BS]),Lv(Gr,oi,null)}catch(Du){throw null!==hl&&_g(hl),_g(oi),Du}finally{Ff()}return new OS(this.componentType,$o,Xd(pa,oi),oi,pa)}finally{ye(c)}}}class OS extends CS{constructor(t,r,o,a,c){super(),this.location=o,this._rootLView=a,this._tNode=c,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new hf(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var c;if(null!==(c=this.previousInputValues)&&void 0!==c||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const g=this._rootLView;Oo(g[$n],g,a,t,r),this.previousInputValues.set(t,r),df(Js(this._tNode.index,g),1)}}get injector(){return new To(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function BS(){const e=go();Nh(pn()[$n],e)}let h0=(()=>{class t{}return t.__NG_ELEMENT_ID__=$S,t})();function $S(){return TT(go(),pn())}const jS=h0,IT=class extends jS{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Xd(this._hostTNode,this._hostLView)}get injector(){return new To(this._hostTNode,this._hostLView)}get parentInjector(){const t=hn(this._hostTNode,this._hostLView);if(sg(t)){const r=sd(t,this._hostLView),o=od(t);return new To(r[$n].data[o+8],r)}return new To(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=AT(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Ho}createEmbeddedView(t,r,o){let a,c;"number"==typeof o?a=o:null!=o&&(a=o.index,c=o.injector);const g=xp(this._lContainer,t.ssrId),I=t.createEmbeddedViewImpl(r||{},c,g);return this.insertImpl(I,a,hh(this._hostTNode,g)),I}createComponent(t,r,o,a,c){var g,I,D;const H=t&&!function mc(e){return"function"==typeof e}(t);let Z;if(H)Z=r;else{const Bn=r||{};Z=Bn.index,o=Bn.injector,a=Bn.projectableNodes,c=Bn.environmentInjector||Bn.ngModuleRef}const fe=H?t:new t_(Ir(t)),qe=o||this.parentInjector;if(!c&&null==fe.ngModule){const un=(H?qe:this.parentInjector).get(ja,null);un&&(c=un)}const st=Ir(null!==(g=fe.componentType)&&void 0!==g?g:{}),et=xp(this._lContainer,null!==(I=null==st?void 0:st.id)&&void 0!==I?I:null),nn=null!==(D=null==et?void 0:et.firstChild)&&void 0!==D?D:null,Tn=fe.create(qe,a,nn,c);return this.insertImpl(Tn.hostView,Z,hh(this._hostTNode,et)),Tn}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Ls(e){return hs(e[so])}(a)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const D=a[so],H=new IT(D,D[po],D[so]);H.detach(H.indexOf(t))}}const c=this._adjustIndex(r),g=this._lContainer;return lf(g,a,c,o),t.attachToViewContainerRef(),Xs(dI(g),c,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=AT(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=up(this._lContainer,r);o&&(ac(dI(this._lContainer),r),gd(o[$n],o))}detach(t){const r=this._adjustIndex(t,-1),o=up(this._lContainer,r);return o&&null!=ac(dI(this._lContainer),r)?new hf(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function AT(e){return e[8]}function dI(e){return e[8]||(e[8]=[])}function TT(e,t){let r;const o=t[e.index];return hs(o)?r=o:(r=Wy(o,t,null,e),t[e.index]=r,Ip(t,r)),CT(r,t,e,o),new IT(r,e,t)}let CT=function DT(e,t,r,o){if(e[Aa])return;let a;a=8&r.type?fi(o):function HS(e,t){const r=e[Br],o=r.createComment(""),a=Is(t,e);return nc(r,hp(r,a),o,function Iv(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[Aa]=a},hI=()=>!1;class fI{constructor(t){this.queryList=t,this.matches=null}clone(){return new fI(this.queryList)}setDirty(){this.queryList.setDirty()}}class pI{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let c=0;c<o;c++){const g=r.getByIndex(c);a.push(this.queries[g.indexInDeclarationView].clone())}return new pI(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==yI(t,r).matches&&this.queries[r].setDirty()}}class wT{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function YS(e){return e.split(",").map(t=>t.trim())}(t):t}}class gI{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,c=this.getByIndex(o).embeddedTView(t,a);c&&(c.indexInDeclarationView=o,null!==r?r.push(c):r=[c])}return null!==r?new gI(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class mI{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new mI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const c=o[a];this.matchTNodeWithReadOption(t,r,KS(r,c)),this.matchTNodeWithReadOption(t,r,xr(r,t,c,!1,!1))}else o===ff?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,xr(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===zf||a===h0||a===ff&&4&r.type)this.addMatch(r.index,-2);else{const c=xr(r,t,a,!1,!1);null!==c&&this.addMatch(r.index,c)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function KS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function qS(e,t,r,o){return-1===r?function XS(e,t){return 11&e.type?Xd(e,t):4&e.type?Sp(e,t):null}(t,e):-2===r?function QS(e,t,r){return r===zf?Xd(t,e):r===ff?Sp(t,e):r===h0?TT(t,e):void 0}(e,t,o):Yr(e,e[$n],r,t)}function ST(e,t,r,o){const a=t[Cl].queries[o];if(null===a.matches){const c=e.data,g=r.matches,I=[];for(let D=0;null!==g&&D<g.length;D+=2){const H=g[D];I.push(H<0?null:qS(t,c[H],g[D+1],r.metadata.read))}a.matches=I}return a.matches}function vI(e,t,r,o){const a=e.queries.getByIndex(r),c=a.matches;if(null!==c){const g=ST(e,t,a,r);for(let I=0;I<c.length;I+=2){const D=c[I];if(D>0)o.push(g[I/2]);else{const H=c[I+1],Z=t[-D];for(let fe=Ho;fe<Z.length;fe++){const qe=Z[fe];qe[ll]===qe[so]&&vI(qe[$n],qe,H,o)}if(null!==Z[Fu]){const fe=Z[Fu];for(let qe=0;qe<fe.length;qe++){const st=fe[qe];vI(st[$n],st,H,o)}}}}}return o}function RT(e,t,r){var o;const a=new Wf(!(4&~r));return function zE(e,t,r,o){const a=rc(t);a.push(r),e.firstCreatePass&&Ap(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[Cl])&&void 0!==o?o:t[Cl]=new pI).queries.push(new fI(a))-1}function NT(e,t,r){null===e.queries&&(e.queries=new gI),e.queries.track(new mI(t,r))}function yI(e,t){return e.queries.getByIndex(t)}function OT(e,t){const r=e[$n],o=yI(r,t);return o.crossesNgTemplate?vI(r,e,t,[]):ST(r,e,o,t)}const xT=new Set;function Sl(e){var t,r;xT.has(e)||(xT.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function LT(e,t){Sl("NgSignals");const r=function oe(e){const t=Object.create(Ft);t.value=e;const r=()=>(se(t),t.value);return r[J]=t,r}(e),o=r[J];return null!=t&&t.equal&&(o.equal=t.equal),r.set=a=>mt(o,a),r.update=a=>function yt(e,t){ot()||ft(),mt(e,t(e.value))}(o,a),r.asReadonly=FT.bind(r),r}function FT(){const e=this[J];if(void 0===e.readonlyFn){const t=()=>this();t[J]=e,e.readonlyFn=t}return e.readonlyFn}function VT(e){return function kT(e){return"function"==typeof e&&void 0!==e[J]}(e)&&"function"==typeof e.set}function II(e){let t=function qT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(ua(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Gn(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=p0(e.inputs),g.inputTransforms=p0(e.inputTransforms),g.declaredInputs=p0(e.declaredInputs),g.outputs=p0(e.outputs);const I=a.hostBindings;I&&hR(e,I);const D=a.viewQuery,H=a.contentQueries;if(D&&cR(e,D),H&&dR(e,H),lR(e,a),Qa(e.outputs,a.outputs),ua(a)&&a.data.animation){const Z=e.data;Z.animation=(Z.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let g=0;g<c.length;g++){const I=c[g];I&&I.ngInherit&&I(e),I===II&&(r=!1)}}t=Object.getPrototypeOf(t)}!function uR(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=ya(a.hostAttrs,r=ya(r,a.hostAttrs))}}(o)}function lR(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const c=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(c))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[c]=t.inputTransforms[c]}}}function p0(e){return e===_a?{}:e===Di?[]:e}function cR(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function dR(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,c)=>{t(o,a,c),r(o,a,c)}:t}function hR(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function ZT(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class kp{}class eC{}function _R(e,t){return new AI(e,null!=t?t:null,[])}class AI extends kp{constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yT(this);const c=eo(t);this._bootstrapComponents=fn(c.bootstrap),this._r3Injector=k_(t,r,[{provide:kp,useValue:this},{provide:Jv,useValue:this.componentFactoryResolver},...o],yi(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class TI extends eC{constructor(t){super(),this.moduleType=t}create(t){return new AI(this.moduleType,t,[])}}class tC extends kp{constructor(t){super(),this.componentFactoryResolver=new yT(this),this.instance=null;const r=new Al([...t.providers,{provide:kp,useValue:this},{provide:Jv,useValue:this.componentFactoryResolver}],t.parent||fc(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function CI(e,t,r=null){return new tC({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function g0(e){return!!bI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function bI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ad(e,t,r){return e[t]=r}function Us(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function i_(e,t,r,o,a,c,g,I,D,H){const Z=r+hr,fe=t.firstCreatePass?function CR(e,t,r,o,a,c,g,I,D){const H=t.consts,Z=Mc(t,e,4,g||null,I||null);Yg(t,r,Z,ba(H,D)),Nh(t,Z);const fe=Z.tView=Kg(2,Z,o,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,H,null);return null!==t.queries&&(t.queries.template(t,Z),fe.queries=t.queries.embeddedTView(Z)),Z}(Z,t,e,o,a,c,g,I,D):t.data[Z];Da(fe,!1);const qe=nC(t,e,fe,r);Mh()&&ef(t,e,qe,fe),Ms(qe,e);const st=Wy(qe,e,qe,fe);return e[Z]=st,Ip(e,st),function bT(e,t,r){return hI(e,t,r)}(st,fe,e),Uu(fe)&&ch(t,e,fe),null!=D&&Wg(e,fe,H),fe}function DI(e,t,r,o,a,c,g,I){const D=pn(),H=vi();return i_(D,H,e,t,r,o,a,ba(H.consts,c),g,I),DI}let nC=function rC(e,t,r,o){return Ql(!0),t[Br].createComment("")};var dm=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(dm||{});let uC=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>new e}),t})();class E0{constructor(){this.ngZone=qn(qo),this.scheduler=qn(am),this.errorHandler=qn(Yl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of E0.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(ei=E0).PHASES=[dm.EarlyRead,dm.Write,dm.MixedReadWrite,dm.Read],ei.\u0275prov=Pr({token:ei,providedIn:"root",factory:()=>new ei});class SR{constructor(t,r,o,a){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function I0(e,t){var r;(null==t||!t.injector)&&function xu(e){if(!Pd())throw new Gn(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:qn(wa);return function Pn(e){return"browser"===(null!=e?e:qn(wa)).get(Au)}(o)?(Sl("NgAfterNextRender"),function cC(e,t,r,o){var a,c;const g=t.get(uC);null!==(a=g.impl)&&void 0!==a||(g.impl=t.get(E0));const I=null!==(c=null==r?void 0:r.phase)&&void 0!==c?c:dm.MixedReadWrite,D=new SR(g.impl,function PR(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,I),o,t.get(Kd));return g.impl.register(D),D}(e,o,t,!0)):dC}const dC={destroy(){}};function FI(e,t,r,o){const a=pn();return Us(a,Kl(),t)&&(vi(),Zl(vo(),a,e,t,r,o)),FI}function C0(e,t){return e<<17|t<<2}function If(e){return e>>17&32767}function VI(e){return 2|e}function Vp(e){return(131068&e)>>2}function UI(e,t){return-131069&e|t<<2}function BI(e){return 1|e}function FC(e,t,r,o){const a=e[r+1],c=null===t;let g=o?If(a):Vp(a),I=!1;for(;0!==g&&(!1===I||c);){const H=e[g+1];hP(e[g],t)&&(I=!0,e[g+1]=o?BI(H):VI(H)),g=o?If(H):Vp(H)}I&&(e[r+1]=o?VI(a):BI(a))}function hP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ro(e,t)>=0}function $I(e,t,r){const o=pn();return Us(o,Kl(),t)&&qa(vi(),vo(),o,e,t,o[Br],r,!1),$I}function jI(e,t,r,o,a){const g=a?"class":"style";Oo(e,r,t.inputs[g],g,o)}function HI(e,t){return function xc(e,t,r,o){const a=pn(),c=vi(),g=function Xl(e){const t=Qr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);c.firstUpdatePass&&function WC(e,t,r,o){const a=e.data;if(null===a[r+1]){const c=a[Ps()],g=function GC(e,t){return t>=e.expandoStartIndex}(e,r);(function QC(e,t){return!!(e.flags&(t?8:16))})(c,o)&&null===t&&!g&&(t=!1),t=function IP(e,t,r,o){const a=function Ph(e){const t=Qr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=l_(r=zI(null,e,t,r,o),t.attrs,o),c=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=zI(a,e,t,r,o),null===c){let D=function AP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Vp(o))return e[If(o)]}(e,t,o);void 0!==D&&Array.isArray(D)&&(D=zI(null,e,t,D[1],o),D=l_(D,t.attrs,o),function TP(e,t,r,o){e[If(r?t.classBindings:t.styleBindings)]=o}(e,t,o,D))}else c=function CP(e,t,r){let o;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)o=l_(o,e[c].hostAttrs,r);return l_(o,t.attrs,r)}(e,t,o)}return void 0!==c&&(o?t.residualClasses=c:t.residualStyles=c),r}(a,c,t,o),function cP(e,t,r,o,a,c){let g=c?t.classBindings:t.styleBindings,I=If(g),D=Vp(g);e[o]=r;let Z,H=!1;if(Array.isArray(r)?(Z=r[1],(null===Z||ro(r,Z)>0)&&(H=!0)):Z=r,a)if(0!==D){const qe=If(e[I+1]);e[o+1]=C0(qe,I),0!==qe&&(e[qe+1]=UI(e[qe+1],o)),e[I+1]=function lP(e,t){return 131071&e|t<<17}(e[I+1],o)}else e[o+1]=C0(I,0),0!==I&&(e[I+1]=UI(e[I+1],o)),I=o;else e[o+1]=C0(D,0),0===I?I=o:e[D+1]=UI(e[D+1],o),D=o;H&&(e[o+1]=VI(e[o+1])),FC(e,Z,o,!0),FC(e,Z,o,!1),function dP(e,t,r,o,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&ro(c,t)>=0&&(r[o+1]=BI(r[o+1]))}(t,Z,e,o,c),g=C0(I,D),c?t.classBindings=g:t.styleBindings=g}(a,c,t,r,g,o)}}(c,e,g,o),t!==ii&&Us(a,g,t)&&function XC(e,t,r,o,a,c,g,I){if(!(3&t.type))return;const D=e.data,H=D[I+1],Z=function uP(e){return!(1&~e)}(H)?qC(D,t,r,a,Vp(H),g):void 0;b0(Z)||(b0(c)||function aP(e){return!(2&~e)}(H)&&(c=qC(D,null,r,a,I,g)),function $E(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let c=-1===o.indexOf("-")?void 0:lt.DashCase;null==a?e.removeStyle(r,o,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=lt.Important),e.setStyle(r,o,a,c))}}(o,g,Hl(Ps(),r),a,c))}(c,c.data[Ps()],a,a[Br],e,a[g+1]=function SP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=yi(dd(e)))),e}(t,r),o,g)}(e,t,null,!0),HI}function zI(e,t,r,o,a){let c=null;const g=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<g&&(c=t[I],o=l_(o,c.hostAttrs,a),c!==e);)I++;return null!==e&&(r.directiveStylingLast=I),o}function l_(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const g=t[c];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),co(e,g,!!r||t[++c]))}return void 0===e?null:e}function qC(e,t,r,o,a,c){const g=null===t;let I;for(;a>0;){const D=e[a],H=Array.isArray(D),Z=H?D[1]:D,fe=null===Z;let qe=r[a+1];qe===ii&&(qe=fe?Di:void 0);let st=fe?Ol(qe,o):Z===o?qe:void 0;if(H&&!b0(st)&&(st=Ol(D,o)),b0(st)&&(I=st,g))return I;const et=e[a+1];a=g?If(et):Vp(et)}if(null!==t){let D=c?t.residualClasses:t.residualStyles;null!=D&&(I=Ol(D,o))}return I}function b0(e){return void 0!==e}function eb(e,t){Sl("NgControlFlow");const r=pn(),o=Kl(),a=r[o]!==ii?r[o]:-1,c=-1!==a?D0(r,hr+a):void 0;if(Us(r,o,e)){const I=ye(null);try{if(void 0!==c&&function fh(e,t){const r=up(e,t);return void 0!==r&&gd(r[$n],r),r}(c,0),-1!==e){const D=hr+e,H=D0(r,D),Z=function KI(e,t){return Ta(e,t)}(r[$n],D),fe=xp(H,Z.tView.ssrId);lf(H,af(r,Z,t,{dehydratedView:fe}),0,hh(Z,fe))}}finally{ye(I)}}else if(void 0!==c){const I=function Xy(e,t){const r=Ho+t;if(r<e.length)return e[r]}(c,0);void 0!==I&&(I[ao]=t)}}function D0(e,t){return e[t]}function w0(e,t,r,o){const a=pn(),c=vi(),g=hr+e,I=a[Br],D=c.firstCreatePass?function QP(e,t,r,o,a,c){const g=t.consts,D=Mc(t,e,2,o,ba(g,a));return Yg(t,r,D,ba(g,c)),null!==D.attrs&&d0(D,D.attrs,!1),null!==D.mergedAttrs&&d0(D,D.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,D),D}(g,c,a,t,r,o):c.data[g],H=tb(c,a,D,I,t,e);a[g]=H;const Z=Uu(D);return Da(D,!0),wv(I,H,D),!function um(e){return!(32&~e.flags)}(D)&&Mh()&&ef(c,a,H,D),0===function Sf(){return Qr.lFrame.elementDepthCount}()&&Ms(H,a),function ed(){Qr.lFrame.elementDepthCount++}(),Z&&(ch(c,a,D),Gg(c,D,a)),null!==o&&Wg(a,D),w0}function S0(){let e=go();td()?Ku():(e=e.parent,Da(e,!1));const t=e;(function Rf(e){return Qr.skipHydrationRootTNode===e})(t)&&function Wp(){Qr.skipHydrationRootTNode=null}(),function Bd(){Qr.lFrame.elementDepthCount--}();const r=vi();return r.firstCreatePass&&(Nh(r,e),yc(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function rg(e){return!!(8&e.flags)}(t)&&jI(r,t,pn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ig(e){return!!(16&e.flags)}(t)&&jI(r,t,pn(),t.stylesWithoutHost,!1),S0}function XI(e,t,r,o){return w0(e,t,r,o),S0(),XI}let tb=(e,t,r,o,a,c)=>(Ql(!0),Vg(o,a,function eg(){return Qr.lFrame.currentNamespace}()));function R0(e,t,r){const o=pn(),a=vi(),c=e+hr,g=a.firstCreatePass?function ZP(e,t,r,o,a){const c=t.consts,g=ba(c,o),I=Mc(t,e,8,"ng-container",g);return null!==g&&d0(I,g,!0),Yg(t,r,I,ba(c,a)),null!==t.queries&&t.queries.elementStart(t,I),I}(c,a,o,t,r):a.data[c];Da(g,!0);const I=nb(a,o,g,e);return o[c]=I,Mh()&&ef(a,o,I,g),Ms(I,o),Uu(g)&&(ch(a,o,g),Gg(a,g,o)),null!=r&&Wg(o,g),R0}function P0(){let e=go();const t=vi();return td()?Ku():(e=e.parent,Da(e,!1)),t.firstCreatePass&&(Nh(t,e),yc(e)&&t.queries.elementEnd(e)),P0}function qI(e,t,r){return R0(e,t,r),P0(),qI}let nb=(e,t,r,o)=>(Ql(!0),lh(t[Br],""));function rb(){return pn()}const Up=void 0;var rM=["en",[["a","p"],["AM","PM"],Up],[["AM","PM"],Up,Up],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Up,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Up,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Up,"{1} 'at' {0}",Up],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nM(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let wm={};function QI(e){const t=function iM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=ab(t);if(r)return r;const o=t.split("-")[0];if(r=ab(o),r)return r;if("en"===o)return rM;throw new Gn(701,!1)}function sb(e){return QI(e)[Sm.PluralCase]}function ab(e){return e in wm||(wm[e]=Wi.ng&&Wi.ng.common&&Wi.ng.common.locales&&Wi.ng.common.locales[e]),wm[e]}var Sm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Sm||{});const M0="en-US";let lb=M0,Db=(e,t,r)=>{};function ZI(e,t,r,o){const a=pn(),c=vi(),g=go();return eA(c,a,a[Br],g,e,t,o),ZI}function eA(e,t,r,o,a,c,g){const I=Uu(o),H=e.firstCreatePass&&Ap(e),Z=t[ao],fe=rc(t);let qe=!0;if(3&o.type||g){const nn=Is(o,t),Tn=g?g(nn):nn,Bn=fe.length,un=g?oi=>g(fi(oi[o.index])):o.index;let Gr=null;if(!g&&I&&(Gr=function WM(e,t,r,o){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const g=a[c];if(g===r&&a[c+1]===o){const I=t[Ys],D=a[c+2];return I.length>D?I[D]:null}"string"==typeof g&&(c+=2)}return null}(e,t,a,o.index)),null!==Gr)(Gr.__ngLastListenerFn__||Gr).__ngNextListenerFn__=c,Gr.__ngLastListenerFn__=c,qe=!1;else{c=Pb(o,t,Z,c),Db(nn,a,c);const oi=r.listen(Tn,a,c);fe.push(c,oi),H&&H.push(a,un,Bn,Bn+1)}}else c=Pb(o,t,Z,c);const st=o.outputs;let et;if(qe&&null!==st&&(et=st[a])){const nn=et.length;if(nn)for(let Tn=0;Tn<nn;Tn+=2){const $o=t[et[Tn]][et[Tn+1]].subscribe(c),pa=fe.length;fe.push(c,$o),H&&H.push(a,o.index,pa,-(pa+1))}}}function Rb(e,t,r,o){const a=ye(null);try{return ca(6,t,r),!1!==r(o)}catch(c){return Cp(e,c),!1}finally{ca(7,t,r),ye(a)}}function Pb(e,t,r,o){return function a(c){if(c===Function)return o;df(e.componentOffset>-1?Js(e.index,t):t,5);let I=Rb(t,r,o,c),D=a.__ngNextListenerFn__;for(;D;)I=Rb(t,r,D,c)&&I,D=D.__ngNextListenerFn__;return I}}function Mb(e=1){return function Yp(e){return(Qr.lFrame.contextLView=function Jc(e,t){for(;e>0;)t=t[pu],e--;return t}(e,Qr.lFrame.contextLView))[ao]}(e)}function KM(e,t){let r=null;const o=function C(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===o?$c(e,c,!0):R(o,c))return a}else r=a}return r}function Nb(e){const t=pn()[Ao][po];if(!t.projection){const o=t.projection=function ol(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const g=e?KM(c,e):0;null!==g&&(a[g]?a[g].projectionNext=c:o[g]=c,a[g]=c)}c=c.next}}}function Ob(e,t=0,r,o,a,c){const g=pn(),I=vi(),D=o?e+1:null;null!==D&&i_(g,I,D,o,a,c,null,r);const H=Mc(I,hr+e,16,null,r||null);null===H.projection&&(H.projection=t),Ku();const fe=!g[jo]||Wl();null===g[Ao][po].projection[H.projection]&&null!==D?function XM(e,t,r){const o=hr+r,a=t.data[o],c=e[o],g=xp(c,a.tView.ssrId);lf(c,af(e,a,void 0,{dehydratedView:g}),0,hh(a,g))}(g,I,D):fe&&32&~H.flags&&function zg(e,t,r){bv(t[Br],0,t,r,Ev(e,r,t),Av(r.parent||t[po],r,t))}(I,g,H)}function Hb(e,t,r,o){!function MT(e,t,r,o){const a=vi();if(a.firstCreatePass){const c=go();NT(a,new wT(t,r,o),c.index),function JS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return RT(a,pn(),r)}(e,t,r,o)}function zb(e,t,r){!function PT(e,t,r){const o=vi();return o.firstCreatePass&&(NT(o,new wT(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),RT(o,pn(),t)}(e,t,r)}function Gb(e){const t=pn(),r=vi(),o=Dc();ql(o+1);const a=yI(r,o);if(e.dirty&&function Mm(e){return!(4&~e[pr])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const c=OT(t,o);e.reset(c,Gf),e.notifyOnChanges()}return!0}return!1}function Wb(){return function _I(e,t){return e[Cl].queries[t].queryList}(pn(),Dc())}function Kb(e){return function Ca(e,t){return e[t]}(function Nf(){return Qr.lFrame.contextLView}(),hr+e)}function rD(e,t=""){const r=pn(),o=vi(),a=e+hr,c=o.firstCreatePass?Mc(o,a,1,t,null):o.data[a],g=iD(o,r,c,t,e);r[a]=g,Mh()&&ef(o,r,g,c),Da(c,!1)}let iD=(e,t,r,o,a)=>(Ql(!0),function Tt(e,t){return e.createText(t)}(t[Br],o));function rA(e){return k0("",e,""),rA}function k0(e,t,r){const o=pn(),a=function _m(e,t,r,o){return Us(e,Kl(),r)?t+Mr(r)+o:ii}(o,e,t,r);return a!==ii&&function eu(e,t,r){const o=Hl(t,e);!function tc(e,t,r){e.setValue(t,r)}(e[Br],o,r)}(o,Ps(),a),k0}function iA(e,t,r){VT(t)&&(t=t());const o=pn();return Us(o,Kl(),t)&&qa(vi(),vo(),o,e,t,o[Br],r,!1),iA}function fD(e,t){const r=VT(e);return r&&e.set(t),r}function oA(e,t){const r=pn(),o=vi(),a=go();return eA(o,r,r[Br],a,e,t),oA}function sA(e,t,r,o,a){if(e=Cr(e),Array.isArray(e))for(let c=0;c<e.length;c++)sA(e[c],t,r,o,a);else{const c=vi(),g=pn(),I=go();let D=al(e)?e:Cr(e.provide);const H=Wc(e),Z=1048575&I.providerIndexes,fe=I.directiveStart,qe=I.providerIndexes>>20;if(al(e)||!e.multi){const st=new id(H,a,vd),et=lA(D,t,a?Z:Z+qe,fe);-1===et?(gn(be(I,g),c,D),aA(c,e,t.length),t.push(D),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(st),g.push(st)):(r[et]=st,g[et]=st)}else{const st=lA(D,t,Z+qe,fe),et=lA(D,t,Z,Z+qe),Tn=et>=0&&r[et];if(a&&!Tn||!a&&!(st>=0&&r[st])){gn(be(I,g),c,D);const Bn=function pN(e,t,r,o,a){const c=new id(e,r,vd);return c.multi=[],c.index=t,c.componentProviders=0,mD(c,a,o&&!r),c}(a?fN:hN,r.length,a,o,H);!a&&Tn&&(r[et].providerFactory=Bn),aA(c,e,t.length,0),t.push(D),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(Bn),g.push(Bn)}else aA(c,e,st>-1?st:et,mD(r[a?et:st],H,!a&&o));!a&&o&&Tn&&r[et].componentProviders++}}}function aA(e,t,r,o){const a=al(t),c=function cu(e){return!!e.useClass}(t);if(a||c){const D=(c?Cr(t.useClass):t).prototype.ngOnDestroy;if(D){const H=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const Z=H.indexOf(r);-1===Z?H.push(r,[o,D]):H[Z+1].push(o,D)}else H.push(r,D)}}}function mD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function lA(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function hN(e,t,r,o){return uA(this.multi,[])}function fN(e,t,r,o){const a=this.multi;let c;if(this.providerFactory){const g=this.providerFactory.componentProviders,I=Yr(r,r[$n],this.providerFactory.index,o);c=I.slice(0,g),uA(a,c);for(let D=g;D<I.length;D++)c.push(I[D])}else c=[],uA(a,c);return c}function uA(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function vD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function dN(e,t,r){const o=vi();if(o.firstCreatePass){const a=ua(e);sA(r,o.data,o.blueprint,a,!0),sA(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let gN=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Mu(0,o.type),c=a.length>0?CI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Pr({token:e,providedIn:"environment",factory:()=>new e($r(ja))}),t})();function _D(e){Sl("NgStandalone"),e.getStandaloneInjector=t=>t.get(gN).getOrCreateStandaloneInjector(e)}function ID(e,t,r){const o=Fs()+e,a=pn();return a[o]===ii?Ad(a,o,r?t.call(r):t()):function r_(e,t){return e[t]}(a,o)}function AD(e,t,r,o,a){return function CD(e,t,r,o,a,c,g){const I=t+r;return function Lp(e,t,r,o){const a=Us(e,t,r);return Us(e,t+1,o)||a}(e,I,a,c)?Ad(e,I+2,g?o.call(g,a,c):o(a,c)):function p_(e,t){const r=e[t];return r===ii?void 0:r}(e,I+2)}(pn(),Fs(),e,t,r,o,a)}class HD{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const nO=new HD("18.2.5");let zD=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const XD=new br(""),qD=new br("");let mA,SO=(()=>{var e;class t{constructor(o,a,c){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,mA||(function RO(e){mA=e}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),o()},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)($r(qo),$r(QD),$r(qD))},e.\u0275prov=Pr({token:e,factory:e.\u0275fac}),t})(),QD=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var c,g;return null!==(c=null===(g=mA)||void 0===g?void 0:g.findTestabilityInTree(this,o,a))&&void 0!==c?c:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function vA(e){return!!e&&"function"==typeof e.then}function YD(e){return!!e&&"function"==typeof e.subscribe}const JD=new br("");let ZD=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=null!==(o=qn(JD,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const g=c();if(vA(g))o.push(g);else if(YD(g)){const I=new Promise((D,H)=>{g.subscribe({complete:D,error:H})});o.push(I)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const B0=new br("");function tw(e,t){return Array.isArray(t)?t.reduce(tw,e):{...e,...t}}let bd=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=qn(Fi),this.afterRenderManager=qn(uC),this.zonelessEnabled=qn(Yv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new jn.B,this.afterTick=new jn.B,this.componentTypes=[],this.components=[],this.isStable=qn(ad).hasPendingTasks.pipe((0,Zt.T)(o=>!o)),this._injector=qn(ja)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:c=>{c&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof gT;if(!this._injector.get(ZD).done)throw!c&&Mo(o),new Gn(405,!1);let I;I=c?o:this._injector.get(Jv).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const D=function PO(e){return e.isBoundToModule}(I)?void 0:this._injector.get(kp),Z=I.create(wa.NULL,[],a||I.selector,D),fe=Z.location.nativeElement,qe=Z.injector.get(XD,null);return null==qe||qe.registerApplication(fe),Z.onDestroy(()=>{this.detachView(Z.hostView),$0(this.components,Z),null==qe||qe.unregisterApplication(fe)}),this._loadComponent(Z),Z}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Gn(101,!1);const o=ye(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,ye(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(lI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:I,notifyErrorHandler:D}of this._views)OO(I,D,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,c;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(c=o.end)||void 0===c||c.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>Zc(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;$0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(B0,[]);[...this._bootstrapListeners,...a].forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Gn(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function $0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function OO(e,t,r,o){(r||Zc(e))&&Ed(e,t,r&&!o?0:1)}class xO{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let kO=(()=>{var e;class t{compileModuleSync(o){return new TI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=fn(eo(o).declarations).reduce((I,D)=>{const H=Ir(D);return H&&I.push(new t_(H)),I},[]);return new xO(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),VO=(()=>{var e;class t{constructor(){this.zone=qn(qo),this.changeDetectionScheduler=qn(am),this.applicationRef=qn(bd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function _A({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new qo({...yA(),scheduleInRootZone:r})),[{provide:qo,useFactory:e},{provide:la,multi:!0,useFactory:()=>{const a=qn(VO,{optional:!0});return()=>a.initialize()}},{provide:la,multi:!0,useFactory:()=>{const a=qn(BO);return()=>{a.initialize()}}},!0===t?{provide:pT,useValue:!0}:[],{provide:aI,useValue:null!=r?r:Hf}]}function yA(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let BO=(()=>{var e;class t{constructor(){this.subscription=new qt.yU,this.initialized=!1,this.zone=qn(qo),this.pendingTasks=qn(ad)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;qo.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),y_=(()=>{var e;class t{constructor(){var o,a,c;this.appRef=qn(bd),this.taskService=qn(ad),this.ngZone=qn(qo),this.zonelessEnabled=qn(Yv),this.disableScheduling=null!==(o=qn(pT,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new qt.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(fg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(c=qn(aI,{optional:!0}))&&void 0!==c&&c,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof pg||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?j_:$_;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,j_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const IA=new br("",{providedIn:"root",factory:()=>qn(IA,Kr.Optional|Kr.SkipSelf)||function $O(){return typeof $localize<"u"&&$localize.locale||M0}()}),jO=new br("",{providedIn:"root",factory:()=>"USD"}),AA=new br("");function j0(e){return!!e.platformInjector}let lw=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=null==a?void 0:a.scheduleInRootZone,D=[_A({ngZoneFactory:()=>function W_(e="zone.js",t){return"noop"===e?new pg:"zone.js"===e?new qo(t):e}(null==a?void 0:a.ngZone,{...yA({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:am,useExisting:y_}],H=function yR(e,t,r){return new AI(e,t,r,!1)}(o.moduleType,this.injector,D);return function aw(e){const t=j0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(qo);return r.run(()=>{j0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Yl,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:c=>{o.handleError(c)}})}),j0(e)){const c=()=>t.destroy(),g=e.platformInjector.get(AA);g.add(c),t.onDestroy(()=>{a.unsubscribe(),g.delete(c)})}else e.moduleRef.onDestroy(()=>{$0(e.allPlatformModules,e.moduleRef),a.unsubscribe()});return function NO(e,t,r){try{const o=r();return vA(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const c=t.get(ZD);return c.runInitializers(),c.donePromise.then(()=>{if(function lM(e){"string"==typeof e&&(lb=e.toLowerCase().replace(/_/g,"-"))}(t.get(IA,M0)||M0),j0(e)){const I=t.get(bd);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function KO(e,t){const r=e.injector.get(bd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Gn(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:H,allPlatformModules:this._modules})}bootstrapModule(o,a=[]){const c=tw({},a);return function FO(e,t,r){const o=new TI(r);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,c))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Gn(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(AA,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)($r(wa))},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Af=null;const uw=new br("");function cw(e,t,r=[]){const o=`Platform: ${t}`,a=new br(o);return(c=[])=>{let g=TA();if(!g||g.injector.get(uw,!1)){const I=[...r,...c,{provide:a,useValue:!0}];e?e(I):function XO(e){if(Af&&!Af.get(uw,!1))throw new Gn(400,!1);(function ew(){!function Me(e){cn=e}(()=>{throw new Gn(600,!1)})})(),Af=e;const t=e.get(lw);(function hw(e){const t=e.get(zh,null);null==t||t.forEach(r=>r())})(e)}(function dw(e=[],t){return wa.create({name:t,providers:[{provide:zc,useValue:"platform"},{provide:AA,useValue:new Set([()=>Af=null])},...e]})}(I,o))}return function qO(){const t=TA();if(!t)throw new Gn(401,!1);return t}()}}function TA(){var e,t;return null!==(e=null===(t=Af)||void 0===t?void 0:t.get(lw))&&void 0!==e?e:null}function YO(){return!1}let pw=(()=>{class t{}return t.__NG_ELEMENT_ID__=JO,t})();function JO(e){return function ZO(e,t,r){if(mu(e)&&!r){const o=Js(e.index,t);return new hf(o,o)}return 175&e.type?new hf(t[Ao],t):null}(go(),pn(),!(16&~e))}class _w{constructor(){}supports(t){return g0(t)}create(t){return new ix(t)}}const rx=(e,t)=>t;class ix{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rx}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,c=null;for(;r||o;){const g=!o||r&&r.currentIndex<Ew(o,a,c)?r:o,I=Ew(g,a,c),D=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{c||(c=[]);const H=I-a,Z=D-a;if(H!=Z){for(let qe=0;qe<H;qe++){const st=qe<c.length?c[qe]:c[qe]=0,et=st+qe;Z<=et&&et<H&&(c[qe]=st+1)}c[g.previousIndex]=Z-H}}I!==D&&t(g,I,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!g0(t))throw new Gn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)c=t[I],g=this._trackByFn(I,c),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,c,g,I)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,g,I),o=!0),r=r._next}else a=0,function AR(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,I=>{g=this._trackByFn(a,I),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,I,g,a)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,c,a)):t=this._addAfter(new ox(r,o),c,a),t}_verifyReinsertion(t,r,o,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new yw),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ox{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class yw{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new sx,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ew(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class Iw{constructor(){}supports(t){return t instanceof Map||bI(t)}create(){return new ax}}class ax{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||bI(t)))throw new Gn(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const c=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,c)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const c=a._prev,g=a._next;return c&&(c._next=g),g&&(g._prev=c),a._next=null,a._prev=null,a}const o=new lx(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class lx{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Aw(){return new SA([new _w])}let SA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Aw()),deps:[[t,new Ml,new aa]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new Gn(901,!1)}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:Aw}),t})();function Tw(){return new RA([new Iw])}let RA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Tw()),deps:[[t,new Ml,new aa]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new Gn(901,!1)}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:Tw}),t})();const dx=cw(null,"core",[]);let hx=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)($r(bd))},e.\u0275mod=Nr({type:e}),e.\u0275inj=us({}),t})();const Uw=new br("");function Hx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Gx(e,t){Sl("NgSignals");const r=function pe(e){const t=Object.create(En);t.computation=e;const r=()=>{if(Ye(t),se(t),t.value===Xt)throw t.error;return t.value};return r[J]=t,r}(e);return null!=t&&t.equal&&(r[J].equal=t.equal),r}function Wx(e){const t=ye(null);try{return e()}finally{ye(t)}}function Jx(e,t){const r=Ir(e),o=t.elementInjector||fc();return new t_(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function Zx(e){const t=Ir(e);if(!t)return null;const r=new t_(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(Mn,It,k)=>{"use strict";k.d(It,{DS:()=>mt,X8:()=>yt,$z:()=>ie,UB:()=>he,yy:()=>ft,ZP:()=>Me,AU:()=>oe,CP:()=>cn,gF:()=>Ge});var d=k(9842),B=(k(5046),k(177)),Ee=k(3953),J=k(5407),ye=k(9253),Se=k(1413),Oe=k(7673),Ve=k(1985),we=k(8455),se=k(6365),Fe=k(8750),Ye=k(983),Xe=k(3794),ut=k(941),ct=k(5558),tt=k(6354),Dt=k(6129);class vt extends Se.B{constructor(Ft=1/0,Pt=1/0,wt=Dt.U){super(),this._bufferSize=Ft,this._windowTime=Pt,this._timestampProvider=wt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pt===1/0,this._bufferSize=Math.max(1,Ft),this._windowTime=Math.max(1,Pt)}next(Ft){const{isStopped:Pt,_buffer:wt,_infiniteTimeWindow:Nn,_timestampProvider:St,_windowTime:kn}=this;Pt||(wt.push(Ft),!Nn&&wt.push(St.now()+kn)),this._trimBuffer(),super.next(Ft)}_subscribe(Ft){this._throwIfClosed(),this._trimBuffer();const Pt=this._innerSubscribe(Ft),{_infiniteTimeWindow:wt,_buffer:Nn}=this,St=Nn.slice();for(let kn=0;kn<St.length&&!Ft.closed;kn+=wt?1:2)Ft.next(St[kn]);return this._checkFinalizedStatuses(Ft),Pt}_trimBuffer(){const{_bufferSize:Ft,_timestampProvider:Pt,_buffer:wt,_infiniteTimeWindow:Nn}=this,St=(Nn?1:2)*Ft;if(Ft<1/0&&St<wt.length&&wt.splice(0,wt.length-St),!Nn){const kn=Pt.now();let Ln=0;for(let jn=1;jn<wt.length&&wt[jn]<=kn;jn+=2)Ln=jn;Ln&&wt.splice(0,Ln+1)}}}var ue=k(7707),De=k(9974);function Ke(at,Ft,...Pt){if(!0===Ft)return void at();if(!1===Ft)return;const wt=new ue.Ms({next:()=>{wt.unsubscribe(),at()}});return(0,Fe.Tg)(Ft(...Pt)).subscribe(wt)}function nt(at,Ft,Pt){let wt,Nn=!1;return at&&"object"==typeof at?({bufferSize:wt=1/0,windowTime:Ft=1/0,refCount:Nn=!1,scheduler:Pt}=at):wt=null!=at?at:1/0,function Re(at={}){const{connector:Ft=()=>new Se.B,resetOnError:Pt=!0,resetOnComplete:wt=!0,resetOnRefCountZero:Nn=!0}=at;return St=>{let kn,Ln,jn,qt=0,Zt=!1,rr=!1;const ln=()=>{null==Ln||Ln.unsubscribe(),Ln=void 0},$e=()=>{ln(),kn=jn=void 0,Zt=rr=!1},Ue=()=>{const Lt=kn;$e(),null==Lt||Lt.unsubscribe()};return(0,De.N)((Lt,yn)=>{qt++,!rr&&!Zt&&ln();const ir=jn=null!=jn?jn:Ft();yn.add(()=>{qt--,0===qt&&!rr&&!Zt&&(Ln=Ke(Ue,Nn))}),ir.subscribe(yn),!kn&&qt>0&&(kn=new ue.Ms({next:lr=>ir.next(lr),error:lr=>{rr=!0,ln(),Ln=Ke($e,Pt,lr),ir.error(lr)},complete:()=>{Zt=!0,ln(),Ln=Ke($e,wt),ir.complete()}}),(0,Fe.Tg)(Lt).subscribe(kn))})(St)}}({connector:()=>new vt(wt,Ft,Pt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Nn})}var Ze=k(1594),pe=k(8071);function rt(at,Ft){return(0,pe.T)(Ft)?(0,ct.n)(()=>at,Ft):(0,ct.n)(()=>at)}var Ot=k(6745),Xt=k(5964),En=k(762);const cn=new Ee.nKC("angularfire2.auth.use-emulator"),ft=new Ee.nKC("angularfire2.auth.settings"),Me=new Ee.nKC("angularfire2.auth.tenant-id"),ie=new Ee.nKC("angularfire2.auth.langugage-code"),oe=new Ee.nKC("angularfire2.auth.use-device-language"),he=new Ee.nKC("angularfire.auth.persistence"),Ge=(at,Ft,Pt,wt,Nn,St,kn,Ln)=>(0,ye.BM)(`${at.name}.auth`,"AngularFireAuth",at.name,()=>{const jn=Ft.runOutsideAngular(()=>at.auth());if(Pt&&jn.useEmulator(...Pt),wt&&(jn.tenantId=wt),jn.languageCode=Nn,St&&jn.useDeviceLanguage(),kn)for(const[qt,Zt]of Object.entries(kn))jn.settings[qt]=Zt;return Ln&&jn.setPersistence(Ln),jn},[Pt,wt,Nn,St,kn,Ln]);let mt=(()=>{var at;class Ft{constructor(wt,Nn,St,kn,Ln,jn,qt,Zt,rr,ln,$e,Ue){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const Lt=new Se.B,yn=(0,Oe.of)(void 0).pipe((0,ut.Q)(Ln.outsideAngular),(0,ct.n)(()=>kn.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5046)))),(0,tt.T)(()=>(0,ye.iB)(wt,kn,Nn)),(0,tt.T)(ir=>Ge(ir,kn,jn,Zt,rr,ln,qt,$e)),nt({bufferSize:1,refCount:!1}));if((0,B.Vy)(St))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{yn.pipe((0,Ze.$)()).subscribe();const ir=yn.pipe((0,ct.n)(zt=>zt.getRedirectResult().then(gr=>gr,()=>null)),J.U0,nt({bufferSize:1,refCount:!1})),lr=yn.pipe((0,ct.n)(zt=>new Ve.c(gr=>({unsubscribe:kn.runOutsideAngular(()=>zt.onAuthStateChanged(ur=>gr.next(ur),ur=>gr.error(ur),()=>gr.complete()))})))),Hn=yn.pipe((0,ct.n)(zt=>new Ve.c(gr=>({unsubscribe:kn.runOutsideAngular(()=>zt.onIdTokenChanged(ur=>gr.next(ur),ur=>gr.error(ur),()=>gr.complete()))}))));this.authState=ir.pipe(rt(lr),(0,Ot._)(Ln.outsideAngular),(0,ut.Q)(Ln.insideAngular)),this.user=ir.pipe(rt(Hn),(0,Ot._)(Ln.outsideAngular),(0,ut.Q)(Ln.insideAngular)),this.idToken=this.user.pipe((0,ct.n)(zt=>zt?(0,we.H)(zt.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe((0,ct.n)(zt=>zt?(0,we.H)(zt.getIdTokenResult()):(0,Oe.of)(null))),this.credential=function ot(...at){const Ft=(0,Xe.lI)(at),Pt=(0,Xe.R0)(at,1/0),wt=at;return wt.length?1===wt.length?(0,Fe.Tg)(wt[0]):(0,se.U)(Pt)((0,we.H)(wt,Ft)):Ye.w}(ir,Lt,this.authState.pipe((0,Xt.p)(zt=>!zt))).pipe((0,tt.T)(zt=>null!=zt&&zt.user?zt:null),(0,Ot._)(Ln.outsideAngular),(0,ut.Q)(Ln.insideAngular))}return(0,ye.Gt)(this,yn,kn,{spy:{apply:(ir,lr,Hn)=>{(ir.startsWith("signIn")||ir.startsWith("createUser"))&&Hn.then(zt=>Lt.next(zt))}}})}}return at=Ft,(0,d.A)(Ft,"\u0275fac",function(wt){return new(wt||at)(Ee.KVO(ye.rx),Ee.KVO(ye.uP,8),Ee.KVO(Ee.Agw),Ee.KVO(Ee.SKi),Ee.KVO(J.u0),Ee.KVO(cn,8),Ee.KVO(ft,8),Ee.KVO(Me,8),Ee.KVO(ie,8),Ee.KVO(oe,8),Ee.KVO(he,8),Ee.KVO(J.Jv,8))}),(0,d.A)(Ft,"\u0275prov",Ee.jDH({token:at,factory:at.\u0275fac,providedIn:"any"})),Ft})(),yt=(()=>{var at;class Ft{constructor(){En.A.registerVersion("angularfire",J.xv.full,"auth-compat")}}return at=Ft,(0,d.A)(Ft,"\u0275fac",function(wt){return new(wt||at)}),(0,d.A)(Ft,"\u0275mod",Ee.$C({type:at})),(0,d.A)(Ft,"\u0275inj",Ee.G2t({providers:[mt]})),Ft})()},8334:(Mn,It,k)=>{"use strict";k.d(It,{Qe:()=>Fg,cM:()=>nT});var d=k(9842),h=k(177),B=k(3953),Ee=k(5407),J=k(9253),ye=k(1182),Se=k(3236),Oe=k(1985),Ve=k(8455),we=k(7673),se=k(9172),Fe=k(9974),Ye=k(4360);function Xe(){return(0,Fe.N)((l,n)=>{let i,s=!1;l.subscribe((0,Ye._)(n,u=>{const f=i;i=u,s&&n.next([f,u]),s=!0}))})}var rt,Ot,ot=k(6354),ut=k(2816),ct=k(3294),tt=k(5964),vt=(k(5046),k(9574)),ue=k(467),De=k(1631),Re=k(8779),Ke=k(5398),nt=k(1401),Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(xt,lt,bt){bt||(bt=0);var kt=Array(16);if("string"==typeof lt)for(var $t=0;16>$t;++$t)kt[$t]=lt.charCodeAt(bt++)|lt.charCodeAt(bt++)<<8|lt.charCodeAt(bt++)<<16|lt.charCodeAt(bt++)<<24;else for($t=0;16>$t;++$t)kt[$t]=lt[bt++]|lt[bt++]<<8|lt[bt++]<<16|lt[bt++]<<24;var Kt=xt.g[3],Tt=(lt=xt.g[0])+(Kt^(bt=xt.g[1])&(($t=xt.g[2])^Kt))+kt[0]+3614090360&4294967295;Tt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=(bt=($t=(Kt=(lt=bt+(Tt<<7&4294967295|Tt>>>25))+((Tt=Kt+($t^lt&(bt^$t))+kt[1]+3905402710&4294967295)<<12&4294967295|Tt>>>20))+((Tt=$t+(bt^Kt&(lt^bt))+kt[2]+606105819&4294967295)<<17&4294967295|Tt>>>15))+((Tt=bt+(lt^$t&(Kt^lt))+kt[3]+3250441966&4294967295)<<22&4294967295|Tt>>>10))+((Tt=lt+(Kt^bt&($t^Kt))+kt[4]+4118548399&4294967295)<<7&4294967295|Tt>>>25))+((Tt=Kt+($t^lt&(bt^$t))+kt[5]+1200080426&4294967295)<<12&4294967295|Tt>>>20))+((Tt=$t+(bt^Kt&(lt^bt))+kt[6]+2821735955&4294967295)<<17&4294967295|Tt>>>15))+((Tt=bt+(lt^$t&(Kt^lt))+kt[7]+4249261313&4294967295)<<22&4294967295|Tt>>>10))+((Tt=lt+(Kt^bt&($t^Kt))+kt[8]+1770035416&4294967295)<<7&4294967295|Tt>>>25))+((Tt=Kt+($t^lt&(bt^$t))+kt[9]+2336552879&4294967295)<<12&4294967295|Tt>>>20))+((Tt=$t+(bt^Kt&(lt^bt))+kt[10]+4294925233&4294967295)<<17&4294967295|Tt>>>15))+((Tt=bt+(lt^$t&(Kt^lt))+kt[11]+2304563134&4294967295)<<22&4294967295|Tt>>>10))+((Tt=lt+(Kt^bt&($t^Kt))+kt[12]+1804603682&4294967295)<<7&4294967295|Tt>>>25))+((Tt=Kt+($t^lt&(bt^$t))+kt[13]+4254626195&4294967295)<<12&4294967295|Tt>>>20))+((Tt=$t+(bt^Kt&(lt^bt))+kt[14]+2792965006&4294967295)<<17&4294967295|Tt>>>15))+((Tt=bt+(lt^$t&(Kt^lt))+kt[15]+1236535329&4294967295)<<22&4294967295|Tt>>>10))+((Tt=lt+($t^Kt&(bt^$t))+kt[1]+4129170786&4294967295)<<5&4294967295|Tt>>>27))+((Tt=Kt+(bt^$t&(lt^bt))+kt[6]+3225465664&4294967295)<<9&4294967295|Tt>>>23))+((Tt=$t+(lt^bt&(Kt^lt))+kt[11]+643717713&4294967295)<<14&4294967295|Tt>>>18))+((Tt=bt+(Kt^lt&($t^Kt))+kt[0]+3921069994&4294967295)<<20&4294967295|Tt>>>12))+((Tt=lt+($t^Kt&(bt^$t))+kt[5]+3593408605&4294967295)<<5&4294967295|Tt>>>27))+((Tt=Kt+(bt^$t&(lt^bt))+kt[10]+38016083&4294967295)<<9&4294967295|Tt>>>23))+((Tt=$t+(lt^bt&(Kt^lt))+kt[15]+3634488961&4294967295)<<14&4294967295|Tt>>>18))+((Tt=bt+(Kt^lt&($t^Kt))+kt[4]+3889429448&4294967295)<<20&4294967295|Tt>>>12))+((Tt=lt+($t^Kt&(bt^$t))+kt[9]+568446438&4294967295)<<5&4294967295|Tt>>>27))+((Tt=Kt+(bt^$t&(lt^bt))+kt[14]+3275163606&4294967295)<<9&4294967295|Tt>>>23))+((Tt=$t+(lt^bt&(Kt^lt))+kt[3]+4107603335&4294967295)<<14&4294967295|Tt>>>18))+((Tt=bt+(Kt^lt&($t^Kt))+kt[8]+1163531501&4294967295)<<20&4294967295|Tt>>>12))+((Tt=lt+($t^Kt&(bt^$t))+kt[13]+2850285829&4294967295)<<5&4294967295|Tt>>>27))+((Tt=Kt+(bt^$t&(lt^bt))+kt[2]+4243563512&4294967295)<<9&4294967295|Tt>>>23))+((Tt=$t+(lt^bt&(Kt^lt))+kt[7]+1735328473&4294967295)<<14&4294967295|Tt>>>18))+((Tt=bt+(Kt^lt&($t^Kt))+kt[12]+2368359562&4294967295)<<20&4294967295|Tt>>>12))+((Tt=lt+(bt^$t^Kt)+kt[5]+4294588738&4294967295)<<4&4294967295|Tt>>>28))+((Tt=Kt+(lt^bt^$t)+kt[8]+2272392833&4294967295)<<11&4294967295|Tt>>>21))+((Tt=$t+(Kt^lt^bt)+kt[11]+1839030562&4294967295)<<16&4294967295|Tt>>>16))+((Tt=bt+($t^Kt^lt)+kt[14]+4259657740&4294967295)<<23&4294967295|Tt>>>9))+((Tt=lt+(bt^$t^Kt)+kt[1]+2763975236&4294967295)<<4&4294967295|Tt>>>28))+((Tt=Kt+(lt^bt^$t)+kt[4]+1272893353&4294967295)<<11&4294967295|Tt>>>21))+((Tt=$t+(Kt^lt^bt)+kt[7]+4139469664&4294967295)<<16&4294967295|Tt>>>16))+((Tt=bt+($t^Kt^lt)+kt[10]+3200236656&4294967295)<<23&4294967295|Tt>>>9))+((Tt=lt+(bt^$t^Kt)+kt[13]+681279174&4294967295)<<4&4294967295|Tt>>>28))+((Tt=Kt+(lt^bt^$t)+kt[0]+3936430074&4294967295)<<11&4294967295|Tt>>>21))+((Tt=$t+(Kt^lt^bt)+kt[3]+3572445317&4294967295)<<16&4294967295|Tt>>>16))+((Tt=bt+($t^Kt^lt)+kt[6]+76029189&4294967295)<<23&4294967295|Tt>>>9))+((Tt=lt+(bt^$t^Kt)+kt[9]+3654602809&4294967295)<<4&4294967295|Tt>>>28))+((Tt=Kt+(lt^bt^$t)+kt[12]+3873151461&4294967295)<<11&4294967295|Tt>>>21))+((Tt=$t+(Kt^lt^bt)+kt[15]+530742520&4294967295)<<16&4294967295|Tt>>>16))+((Tt=bt+($t^Kt^lt)+kt[2]+3299628645&4294967295)<<23&4294967295|Tt>>>9))+((Tt=lt+($t^(bt|~Kt))+kt[0]+4096336452&4294967295)<<6&4294967295|Tt>>>26))+((Tt=Kt+(bt^(lt|~$t))+kt[7]+1126891415&4294967295)<<10&4294967295|Tt>>>22))+((Tt=$t+(lt^(Kt|~bt))+kt[14]+2878612391&4294967295)<<15&4294967295|Tt>>>17))+((Tt=bt+(Kt^($t|~lt))+kt[5]+4237533241&4294967295)<<21&4294967295|Tt>>>11))+((Tt=lt+($t^(bt|~Kt))+kt[12]+1700485571&4294967295)<<6&4294967295|Tt>>>26))+((Tt=Kt+(bt^(lt|~$t))+kt[3]+2399980690&4294967295)<<10&4294967295|Tt>>>22))+((Tt=$t+(lt^(Kt|~bt))+kt[10]+4293915773&4294967295)<<15&4294967295|Tt>>>17))+((Tt=bt+(Kt^($t|~lt))+kt[1]+2240044497&4294967295)<<21&4294967295|Tt>>>11))+((Tt=lt+($t^(bt|~Kt))+kt[8]+1873313359&4294967295)<<6&4294967295|Tt>>>26))+((Tt=Kt+(bt^(lt|~$t))+kt[15]+4264355552&4294967295)<<10&4294967295|Tt>>>22))+((Tt=$t+(lt^(Kt|~bt))+kt[6]+2734768916&4294967295)<<15&4294967295|Tt>>>17))+((Tt=bt+(Kt^($t|~lt))+kt[13]+1309151649&4294967295)<<21&4294967295|Tt>>>11))+((Kt=(lt=bt+((Tt=lt+($t^(bt|~Kt))+kt[4]+4149444226&4294967295)<<6&4294967295|Tt>>>26))+((Tt=Kt+(bt^(lt|~$t))+kt[11]+3174756917&4294967295)<<10&4294967295|Tt>>>22))^(($t=Kt+((Tt=$t+(lt^(Kt|~bt))+kt[2]+718787259&4294967295)<<15&4294967295|Tt>>>17))|~lt))+kt[9]+3951481745&4294967295,xt.g[0]=xt.g[0]+lt&4294967295,xt.g[1]=xt.g[1]+($t+(Tt<<21&4294967295|Tt>>>11))&4294967295,xt.g[2]=xt.g[2]+$t&4294967295,xt.g[3]=xt.g[3]+Kt&4294967295}function E(xt,lt){this.h=lt;for(var bt=[],kt=!0,$t=xt.length-1;0<=$t;$t--){var Kt=0|xt[$t];kt&&Kt==lt||(bt[$t]=Kt,kt=!1)}this.g=bt}(function n(xt,lt){function bt(){}bt.prototype=lt.prototype,xt.D=lt.prototype,xt.prototype=new bt,xt.prototype.constructor=xt,xt.C=function(kt,$t,Kt){for(var Tt=Array(arguments.length-2),tc=2;tc<arguments.length;tc++)Tt[tc-2]=arguments[tc];return lt.prototype[$t].apply(kt,Tt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(xt,lt){void 0===lt&&(lt=xt.length);for(var bt=lt-this.blockSize,kt=this.B,$t=this.h,Kt=0;Kt<lt;){if(0==$t)for(;Kt<=bt;)u(this,xt,Kt),Kt+=this.blockSize;if("string"==typeof xt){for(;Kt<lt;)if(kt[$t++]=xt.charCodeAt(Kt++),$t==this.blockSize){u(this,kt),$t=0;break}}else for(;Kt<lt;)if(kt[$t++]=xt[Kt++],$t==this.blockSize){u(this,kt),$t=0;break}}this.h=$t,this.o+=lt},s.prototype.v=function(){var xt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);xt[0]=128;for(var lt=1;lt<xt.length-8;++lt)xt[lt]=0;var bt=8*this.o;for(lt=xt.length-8;lt<xt.length;++lt)xt[lt]=255&bt,bt/=256;for(this.u(xt),xt=Array(16),lt=bt=0;4>lt;++lt)for(var kt=0;32>kt;kt+=8)xt[bt++]=this.g[lt]>>>kt&255;return xt};var N={};function U(xt){return-128<=xt&&128>xt?function f(xt,lt){var bt=N;return Object.prototype.hasOwnProperty.call(bt,xt)?bt[xt]:bt[xt]=lt(xt)}(xt,function(lt){return new E([0|lt],0>lt?-1:0)}):new E([0|xt],0>xt?-1:0)}function te(xt){if(isNaN(xt)||!isFinite(xt))return Be;if(0>xt)return On(te(-xt));for(var lt=[],bt=1,kt=0;xt>=bt;kt++)lt[kt]=xt/bt|0,bt*=4294967296;return new E(lt,0)}var Be=U(0),pt=U(1),Ht=U(16777216);function fn(xt){if(0!=xt.h)return!1;for(var lt=0;lt<xt.g.length;lt++)if(0!=xt.g[lt])return!1;return!0}function Pn(xt){return-1==xt.h}function On(xt){for(var lt=xt.g.length,bt=[],kt=0;kt<lt;kt++)bt[kt]=~xt.g[kt];return new E(bt,~xt.h).add(pt)}function Er(xt,lt){return xt.add(On(lt))}function kr(xt,lt){for(;(65535&xt[lt])!=xt[lt];)xt[lt+1]+=xt[lt]>>>16,xt[lt]&=65535,lt++}function Dr(xt,lt){this.g=xt,this.h=lt}function Zr(xt,lt){if(fn(lt))throw Error("division by zero");if(fn(xt))return new Dr(Be,Be);if(Pn(xt))return lt=Zr(On(xt),lt),new Dr(On(lt.g),On(lt.h));if(Pn(lt))return lt=Zr(xt,On(lt)),new Dr(On(lt.g),lt.h);if(30<xt.g.length){if(Pn(xt)||Pn(lt))throw Error("slowDivide_ only works with positive integers.");for(var bt=pt,kt=lt;0>=kt.l(xt);)bt=$i(bt),kt=$i(kt);var $t=ri(bt,1),Kt=ri(kt,1);for(kt=ri(kt,2),bt=ri(bt,2);!fn(kt);){var Tt=Kt.add(kt);0>=Tt.l(xt)&&($t=$t.add(bt),Kt=Tt),kt=ri(kt,1),bt=ri(bt,1)}return lt=Er(xt,$t.j(lt)),new Dr($t,lt)}for($t=Be;0<=xt.l(lt);){for(bt=Math.max(1,Math.floor(xt.m()/lt.m())),kt=48>=(kt=Math.ceil(Math.log(bt)/Math.LN2))?1:Math.pow(2,kt-48),Tt=(Kt=te(bt)).j(lt);Pn(Tt)||0<Tt.l(xt);)Tt=(Kt=te(bt-=kt)).j(lt);fn(Kt)&&(Kt=pt),$t=$t.add(Kt),xt=Er(xt,Tt)}return new Dr($t,xt)}function $i(xt){for(var lt=xt.g.length+1,bt=[],kt=0;kt<lt;kt++)bt[kt]=xt.i(kt)<<1|xt.i(kt-1)>>>31;return new E(bt,xt.h)}function ri(xt,lt){var bt=lt>>5;lt%=32;for(var kt=xt.g.length-bt,$t=[],Kt=0;Kt<kt;Kt++)$t[Kt]=0<lt?xt.i(Kt+bt)>>>lt|xt.i(Kt+bt+1)<<32-lt:xt.i(Kt+bt);return new E($t,xt.h)}(l=E.prototype).m=function(){if(Pn(this))return-On(this).m();for(var xt=0,lt=1,bt=0;bt<this.g.length;bt++){var kt=this.i(bt);xt+=(0<=kt?kt:4294967296+kt)*lt,lt*=4294967296}return xt},l.toString=function(xt){if(2>(xt=xt||10)||36<xt)throw Error("radix out of range: "+xt);if(fn(this))return"0";if(Pn(this))return"-"+On(this).toString(xt);for(var lt=te(Math.pow(xt,6)),bt=this,kt="";;){var $t=Zr(bt,lt).g,Kt=((0<(bt=Er(bt,$t.j(lt))).g.length?bt.g[0]:bt.h)>>>0).toString(xt);if(fn(bt=$t))return Kt+kt;for(;6>Kt.length;)Kt="0"+Kt;kt=Kt+kt}},l.i=function(xt){return 0>xt?0:xt<this.g.length?this.g[xt]:this.h},l.l=function(xt){return Pn(xt=Er(this,xt))?-1:fn(xt)?0:1},l.abs=function(){return Pn(this)?On(this):this},l.add=function(xt){for(var lt=Math.max(this.g.length,xt.g.length),bt=[],kt=0,$t=0;$t<=lt;$t++){var Kt=kt+(65535&this.i($t))+(65535&xt.i($t)),Tt=(Kt>>>16)+(this.i($t)>>>16)+(xt.i($t)>>>16);kt=Tt>>>16,bt[$t]=(Tt&=65535)<<16|(Kt&=65535)}return new E(bt,-2147483648&bt[bt.length-1]?-1:0)},l.j=function(xt){if(fn(this)||fn(xt))return Be;if(Pn(this))return Pn(xt)?On(this).j(On(xt)):On(On(this).j(xt));if(Pn(xt))return On(this.j(On(xt)));if(0>this.l(Ht)&&0>xt.l(Ht))return te(this.m()*xt.m());for(var lt=this.g.length+xt.g.length,bt=[],kt=0;kt<2*lt;kt++)bt[kt]=0;for(kt=0;kt<this.g.length;kt++)for(var $t=0;$t<xt.g.length;$t++){var Kt=this.i(kt)>>>16,Tt=65535&this.i(kt),tc=xt.i($t)>>>16,lh=65535&xt.i($t);bt[2*kt+2*$t]+=Tt*lh,kr(bt,2*kt+2*$t),bt[2*kt+2*$t+1]+=Kt*lh,kr(bt,2*kt+2*$t+1),bt[2*kt+2*$t+1]+=Tt*tc,kr(bt,2*kt+2*$t+1),bt[2*kt+2*$t+2]+=Kt*tc,kr(bt,2*kt+2*$t+2)}for(kt=0;kt<lt;kt++)bt[kt]=bt[2*kt+1]<<16|bt[2*kt];for(kt=lt;kt<2*lt;kt++)bt[kt]=0;return new E(bt,0)},l.A=function(xt){return Zr(this,xt).h},l.and=function(xt){for(var lt=Math.max(this.g.length,xt.g.length),bt=[],kt=0;kt<lt;kt++)bt[kt]=this.i(kt)&xt.i(kt);return new E(bt,this.h&xt.h)},l.or=function(xt){for(var lt=Math.max(this.g.length,xt.g.length),bt=[],kt=0;kt<lt;kt++)bt[kt]=this.i(kt)|xt.i(kt);return new E(bt,this.h|xt.h)},l.xor=function(xt){for(var lt=Math.max(this.g.length,xt.g.length),bt=[],kt=0;kt<lt;kt++)bt[kt]=this.i(kt)^xt.i(kt);return new E(bt,this.h^xt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ot=pe.Md5=s,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=te,E.fromString=function ve(xt,lt){if(0==xt.length)throw Error("number format error: empty string");if(2>(lt=lt||10)||36<lt)throw Error("radix out of range: "+lt);if("-"==xt.charAt(0))return On(ve(xt.substring(1),lt));if(0<=xt.indexOf("-"))throw Error('number format error: interior "-" character');for(var bt=te(Math.pow(lt,8)),kt=Be,$t=0;$t<xt.length;$t+=8){var Kt=Math.min(8,xt.length-$t),Tt=parseInt(xt.substring($t,$t+Kt),lt);8>Kt?(Kt=te(Math.pow(lt,Kt)),kt=kt.j(Kt).add(te(Tt))):kt=(kt=kt.j(bt)).add(te(Tt))}return kt},rt=pe.Integer=E}).apply(typeof Ze<"u"?Ze:typeof self<"u"?self:typeof window<"u"?window:{});var tn,ft,Me,ie,oe,he,Ge,mt,Xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},En={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(y,j,re){return y==Array.prototype||y==Object.prototype||(y[j]=re.value),y},s=function i(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Xt&&Xt];for(var j=0;j<y.length;++j){var re=y[j];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}(this);!function u(y,j){if(j)e:{var re=s;y=y.split(".");for(var Pe=0;Pe<y.length-1;Pe++){var jt=y[Pe];if(!(jt in re))break e;re=re[jt]}(j=j(Pe=re[y=y[y.length-1]]))!=Pe&&null!=j&&n(re,y,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(y){return y||function(){return function f(y,j){y instanceof String&&(y+="");var re=0,Pe=!1,jt={next:function(){if(!Pe&&re<y.length){var an=re++;return{value:j(an,y[an]),done:!1}}return Pe=!0,{done:!0,value:void 0}}};return jt[Symbol.iterator]=function(){return jt},jt}(this,function(j,re){return re})}});var E=E||{},N=this||self;function U(y){var j=typeof y;return"array"==(j="object"!=j?j:y?Array.isArray(y)?"array":j:"null")||"object"==j&&"number"==typeof y.length}function te(y){var j=typeof y;return"object"==j&&null!=y||"function"==j}function ve(y,j,re){return y.call.apply(y.bind,arguments)}function Be(y,j,re){if(!y)throw Error();if(2<arguments.length){var Pe=Array.prototype.slice.call(arguments,2);return function(){var jt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(jt,Pe),y.apply(j,jt)}}return function(){return y.apply(j,arguments)}}function pt(y,j,re){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ve:Be).apply(null,arguments)}function Ht(y,j){var re=Array.prototype.slice.call(arguments,1);return function(){var Pe=re.slice();return Pe.push.apply(Pe,arguments),y.apply(this,Pe)}}function fn(y,j){function re(){}re.prototype=j.prototype,y.aa=j.prototype,y.prototype=new re,y.prototype.constructor=y,y.Qb=function(Pe,jt,an){for(var er=Array(arguments.length-2),Co=2;Co<arguments.length;Co++)er[Co-2]=arguments[Co];return j.prototype[jt].apply(Pe,er)}}function Pn(y){const j=y.length;if(0<j){const re=Array(j);for(let Pe=0;Pe<j;Pe++)re[Pe]=y[Pe];return re}return[]}function On(y,j){for(let re=1;re<arguments.length;re++){const Pe=arguments[re];if(U(Pe)){const jt=y.length||0,an=Pe.length||0;y.length=jt+an;for(let er=0;er<an;er++)y[jt+er]=Pe[er]}else y.push(Pe)}}function kr(y){return/^[\s\xa0]*$/.test(y)}function Dr(){var y=N.navigator;return y&&(y=y.userAgent)?y:""}function Zr(y){return Zr[" "](y),y}Zr[" "]=function(){};var $i=!(-1==Dr().indexOf("Gecko")||-1!=Dr().toLowerCase().indexOf("webkit")&&-1==Dr().indexOf("Edge")||-1!=Dr().indexOf("Trident")||-1!=Dr().indexOf("MSIE")||-1!=Dr().indexOf("Edge"));function ri(y,j,re){for(const Pe in y)j.call(re,y[Pe],Pe,y)}function lt(y){const j={};for(const re in y)j[re]=y[re];return j}const bt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kt(y,j){let re,Pe;for(let jt=1;jt<arguments.length;jt++){for(re in Pe=arguments[jt],Pe)y[re]=Pe[re];for(let an=0;an<bt.length;an++)re=bt[an],Object.prototype.hasOwnProperty.call(Pe,re)&&(y[re]=Pe[re])}}function $t(y){var j=1;y=y.split(":");const re=[];for(;0<j&&y.length;)re.push(y.shift()),j--;return y.length&&re.push(y.join(":")),re}function Kt(y){N.setTimeout(()=>{throw y},0)}function Tt(){var y=Ug;let j=null;return y.g&&(j=y.g,y.g=y.g.next,y.g||(y.h=null),j.next=null),j}var lh=new class Er{constructor(j,re){this.i=j,this.j=re,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new Vg,y=>y.reset());class Vg{constructor(){this.next=this.g=this.h=null}set(j,re){this.h=j,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let ap,lp=!1,Ug=new class tc{constructor(){this.h=this.g=null}add(j,re){const Pe=lh.get();Pe.set(j,re),this.h?this.h.next=Pe:this.g=Pe,this.h=Pe}},Ny=()=>{const y=N.Promise.resolve(void 0);ap=()=>{y.then(UE)}};var UE=()=>{for(var y;y=Tt();){try{y.h.call(y.g)}catch(re){Kt(re)}var j=lh;j.j(y),100>j.h&&(j.h++,y.next=j.g,j.g=y)}lp=!1};function Pc(){this.s=this.s,this.C=this.C}function Zs(y,j){this.type=y,this.g=this.target=j,this.defaultPrevented=!1}Pc.prototype.s=!1,Pc.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Zs.prototype.h=function(){this.defaultPrevented=!0};var up=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var y=!1,j=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const re=()=>{};N.addEventListener("test",re,j),N.removeEventListener("test",re,j)}catch{}return y}();function gd(y,j){if(Zs.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var re=this.type=y.type,Pe=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=j,j=y.relatedTarget){if($i){e:{try{Zr(j.nodeName);var jt=!0;break e}catch{}jt=!1}jt||(j=null)}}else"mouseover"==re?j=y.fromElement:"mouseout"==re&&(j=y.toElement);this.relatedTarget=j,Pe?(this.clientX=void 0!==Pe.clientX?Pe.clientX:Pe.pageX,this.clientY=void 0!==Pe.clientY?Pe.clientY:Pe.pageY,this.screenX=Pe.screenX||0,this.screenY=Pe.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:yv[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&gd.aa.h.call(this)}}fn(gd,Zs);var yv={2:"touch",3:"pen",4:"mouse"};gd.prototype.h=function(){gd.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var cp="closure_listenable_"+(1e6*Math.random()|0),BE=0;function Ev(y,j,re,Pe,jt){this.listener=y,this.proxy=null,this.src=j,this.type=re,this.capture=!!Pe,this.ha=jt,this.key=++BE,this.da=this.fa=!1}function dp(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function nc(y){this.src=y,this.g={},this.h=0}function Bg(y,j){var re=j.type;if(re in y.g){var an,Pe=y.g[re],jt=Array.prototype.indexOf.call(Pe,j,void 0);(an=0<=jt)&&Array.prototype.splice.call(Pe,jt,1),an&&(dp(j),0==y.g[re].length&&(delete y.g[re],y.h--))}}function $g(y,j,re,Pe){for(var jt=0;jt<y.length;++jt){var an=y[jt];if(!an.da&&an.listener==j&&an.capture==!!re&&an.ha==Pe)return jt}return-1}nc.prototype.add=function(y,j,re,Pe,jt){var an=y.toString();(y=this.g[an])||(y=this.g[an]=[],this.h++);var er=$g(y,j,Pe,jt);return-1<er?(j=y[er],re||(j.fa=!1)):((j=new Ev(j,this.src,an,!!Pe,jt)).fa=re,y.push(j)),j};var hp="closure_lm_"+(1e6*Math.random()|0),Iv={};function Av(y,j,re,Pe,jt){if(Pe&&Pe.once)return jg(y,j,re,Pe,jt);if(Array.isArray(j)){for(var an=0;an<j.length;an++)Av(y,j[an],re,Pe,jt);return null}return re=Hg(re),y&&y[cp]?y.K(j,re,te(Pe)?!!Pe.capture:!!Pe,jt):Tv(y,j,re,!1,Pe,jt)}function Tv(y,j,re,Pe,jt,an){if(!j)throw Error("Invalid event type");var er=te(jt)?!!jt.capture:!!jt,Co=fp(y);if(Co||(y[hp]=Co=new nc(y)),(re=Co.add(j,re,Pe,er,an)).proxy)return re;if(Pe=function Oy(){const j=xy;return function y(re){return j.call(y.src,y.listener,re)}}(),re.proxy=Pe,Pe.src=y,Pe.listener=re,y.addEventListener)up||(jt=er),void 0===jt&&(jt=!1),y.addEventListener(j.toString(),Pe,jt);else if(y.attachEvent)y.attachEvent(md(j.toString()),Pe);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(Pe)}return re}function jg(y,j,re,Pe,jt){if(Array.isArray(j)){for(var an=0;an<j.length;an++)jg(y,j[an],re,Pe,jt);return null}return re=Hg(re),y&&y[cp]?y.L(j,re,te(Pe)?!!Pe.capture:!!Pe,jt):Tv(y,j,re,!0,Pe,jt)}function Cv(y,j,re,Pe,jt){if(Array.isArray(j))for(var an=0;an<j.length;an++)Cv(y,j[an],re,Pe,jt);else Pe=te(Pe)?!!Pe.capture:!!Pe,re=Hg(re),y&&y[cp]?(y=y.i,(j=String(j).toString())in y.g&&-1<(re=$g(an=y.g[j],re,Pe,jt))&&(dp(an[re]),Array.prototype.splice.call(an,re,1),0==an.length&&(delete y.g[j],y.h--))):y&&(y=fp(y))&&(j=y.g[j.toString()],y=-1,j&&(y=$g(j,re,Pe,jt)),(re=-1<y?j[y]:null)&&ef(re))}function ef(y){if("number"!=typeof y&&y&&!y.da){var j=y.src;if(j&&j[cp])Bg(j.i,y);else{var re=y.type,Pe=y.proxy;j.removeEventListener?j.removeEventListener(re,Pe,y.capture):j.detachEvent?j.detachEvent(md(re),Pe):j.addListener&&j.removeListener&&j.removeListener(Pe),(re=fp(j))?(Bg(re,y),0==re.h&&(re.src=null,j[hp]=null)):dp(y)}}}function md(y){return y in Iv?Iv[y]:Iv[y]="on"+y}function xy(y,j){if(y.da)y=!0;else{j=new gd(j,this);var re=y.listener,Pe=y.ha||y.src;y.fa&&ef(y),y=re.call(Pe,j)}return y}function fp(y){return(y=y[hp])instanceof nc?y:null}var uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hg(y){return"function"==typeof y?y:(y[uh]||(y[uh]=function(j){return y.handleEvent(j)}),y[uh])}function ea(){Pc.call(this),this.i=new nc(this),this.M=this,this.F=null}function ta(y,j){var re,Pe=y.F;if(Pe)for(re=[];Pe;Pe=Pe.F)re.push(Pe);if(y=y.M,Pe=j.type||j,"string"==typeof j)j=new Zs(j,y);else if(j instanceof Zs)j.target=j.target||y;else{var jt=j;kt(j=new Zs(Pe,y),jt)}if(jt=!0,re)for(var an=re.length-1;0<=an;an--){var er=j.g=re[an];jt=zg(er,Pe,!0,j)&&jt}if(jt=zg(er=j.g=y,Pe,!0,j)&&jt,jt=zg(er,Pe,!1,j)&&jt,re)for(an=0;an<re.length;an++)jt=zg(er=j.g=re[an],Pe,!1,j)&&jt}function zg(y,j,re,Pe){if(!(j=y.i.g[String(j)]))return!0;j=j.concat();for(var jt=!0,an=0;an<j.length;++an){var er=j[an];if(er&&!er.da&&er.capture==re){var Co=er.listener,da=er.ha||er.src;er.fa&&Bg(y.i,er),jt=!1!==Co.call(da,Pe)&&jt}}return jt&&!Pe.defaultPrevented}function bv(y,j,re){if("function"==typeof y)re&&(y=pt(y,re));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=pt(y.handleEvent,y)}return 2147483647<Number(j)?-1:N.setTimeout(y,j||0)}function ky(y){y.g=bv(()=>{y.g=null,y.i&&(y.i=!1,ky(y))},y.l);const j=y.h;y.h=null,y.m.apply(null,j)}fn(ea,Pc),ea.prototype[cp]=!0,ea.prototype.removeEventListener=function(y,j,re,Pe){Cv(this,y,j,re,Pe)},ea.prototype.N=function(){if(ea.aa.N.call(this),this.i){var j,y=this.i;for(j in y.g){for(var re=y.g[j],Pe=0;Pe<re.length;Pe++)dp(re[Pe]);delete y.g[j],y.h--}}this.F=null},ea.prototype.K=function(y,j,re,Pe){return this.i.add(String(y),j,!1,re,Pe)},ea.prototype.L=function(y,j,re,Pe){return this.i.add(String(y),j,!0,re,Pe)};class $E extends Pc{constructor(j,re){super(),this.m=j,this.l=re,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:ky(this)}N(){super.N(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pp(y){Pc.call(this),this.h=y,this.g={}}fn(pp,Pc);var Dv=[];function wv(y){ri(y.g,function(j,re){this.g.hasOwnProperty(re)&&ef(j)},y),y.g={}}pp.prototype.N=function(){pp.aa.N.call(this),wv(this)},pp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=N.JSON.stringify,Ly=N.JSON.parse,Fy=class{stringify(y){return N.JSON.stringify(y,void 0)}parse(y){return N.JSON.parse(y,void 0)}};function vd(){}function Rv(){}vd.prototype.h=null;var gp={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tf(){Zs.call(this,"d")}function Mc(){Zs.call(this,"c")}fn(tf,Zs),fn(Mc,Zs);var Nc={},nf=null;function mp(){return nf=nf||new ea}function Gg(y){Zs.call(this,Nc.La,y)}function ch(y){const j=mp();ta(j,new Gg(j))}function Wg(y,j){Zs.call(this,Nc.STAT_EVENT,y),this.stat=j}function Pa(y){const j=mp();ta(j,new Wg(j,y))}function Kg(y,j){Zs.call(this,Nc.Ma,y),this.size=j}function vp(y,j){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){y()},j)}function _p(){this.g=!0}function rf(y,j,re,Pe){y.info(function(){return"XMLHTTP TEXT ("+j+"): "+function zE(y,j){if(!y.g)return j;if(!j)return null;try{var re=JSON.parse(j);if(re)for(y=0;y<re.length;y++)if(Array.isArray(re[y])){var Pe=re[y];if(!(2>Pe.length)){var jt=Pe[1];if(Array.isArray(jt)&&!(1>jt.length)){var an=jt[0];if("noop"!=an&&"stop"!=an&&"close"!=an)for(var er=1;er<jt.length;er++)jt[er]=""}}}return ii(re)}catch{return j}}(y,re)+(Pe?" "+Pe:"")})}Nc.La="serverreachability",fn(Gg,Zs),Nc.STAT_EVENT="statevent",fn(Wg,Zs),Nc.Ma="timingevent",fn(Kg,Zs),_p.prototype.xa=function(){this.g=!1},_p.prototype.info=function(){};var qg,Xg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Qg(){}function _d(y,j,re,Pe){this.j=y,this.i=j,this.l=re,this.R=Pe||1,this.U=new pp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qa}function qa(){this.i=null,this.g="",this.h=!1}fn(Qg,vd),Qg.prototype.g=function(){return new XMLHttpRequest},Qg.prototype.i=function(){return{}},qg=new Qg;var Uy={},Mv={};function By(y,j,re){y.L=1,y.v=eu(rc(j)),y.m=re,y.P=!0,Yg(y,null)}function Yg(y,j){y.F=Date.now(),Jg(y),y.A=rc(y.v);var re=y.A,Pe=y.R;Array.isArray(Pe)||(Pe=[String(Pe)]),qy(re.i,"t",Pe),y.C=0,re=y.j.J,y.h=new qa,y.g=Gv(y.j,re?j:null,!y.m),0<y.O&&(y.M=new $E(pt(y.Y,y,y.g),y.O)),j=y.U,re=y.g,Pe=y.ca;var jt="readystatechange";Array.isArray(jt)||(jt&&(Dv[0]=jt.toString()),jt=Dv);for(var an=0;an<jt.length;an++){var er=Av(re,jt[an],Pe||j.handleEvent,!1,j.h||j);if(!er)break;j.g[er.key]=er}j=y.H?lt(y.H):{},y.m?(y.u||(y.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,j)):(y.u="GET",y.g.ea(y.A,y.u,null,j)),ch(),function jE(y,j,re,Pe,jt,an){y.info(function(){if(y.g)if(an)for(var er="",Co=an.split("&"),da=0;da<Co.length;da++){var to=Co[da].split("=");if(1<to.length){var na=to[0];to=to[1];var Vs=na.split("_");er=2<=Vs.length&&"type"==Vs[1]?er+(na+"=")+to+"&":er+(na+"=redacted&")}}else er=null;else er=an;return"XMLHTTP REQ ("+Pe+") [attempt "+jt+"]: "+j+"\n"+re+"\n"+er})}(y.i,y.u,y.A,y.l,y.R,y.m)}function Nv(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function GE(y,j){var re=y.C,Pe=j.indexOf("\n",re);return-1==Pe?Mv:(re=Number(j.substring(re,Pe)),isNaN(re)?Uy:(Pe+=1)+re>j.length?Mv:(j=j.slice(Pe,Pe+re),y.C=Pe+re,j))}function Jg(y){y.S=Date.now()+y.I,$y(y,y.I)}function $y(y,j){if(null!=y.B)throw Error("WatchDog timer not null");y.B=vp(pt(y.ba,y),j)}function Zg(y){y.B&&(N.clearTimeout(y.B),y.B=null)}function yp(y){0==y.j.G||y.J||zv(y.j,y)}function dh(y){Zg(y);var j=y.M;j&&"function"==typeof j.ma&&j.ma(),y.M=null,wv(y.U),y.g&&(j=y.g,y.g=null,j.abort(),j.ma())}function Ep(y,j){try{var re=y.j;if(0!=re.G&&(re.g==y||Ov(re.h,y)))if(!y.K&&Ov(re.h,y)&&3==re.G){try{var Pe=re.Da.g.parse(j)}catch{Pe=null}if(Array.isArray(Pe)&&3==Pe.length){var jt=Pe;if(0==jt[0]){e:if(!re.u){if(re.g){if(!(re.g.F+3e3<y.F))break e;gh(re),rm(re)}Mp(re),Pa(18)}}else re.za=jt[1],0<re.za-re.T&&37500>jt[2]&&re.F&&0==re.v&&!re.C&&(re.C=vp(pt(re.Za,re),6e3));if(1>=zy(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else Id(re,11)}else if((y.K||re.g==y)&&gh(re),!kr(j))for(jt=re.Da.g.parse(j),j=0;j<jt.length;j++){let to=jt[j];if(re.T=to[0],to=to[1],2==re.G)if("c"==to[0]){re.K=to[1],re.ia=to[2];const na=to[3];null!=na&&(re.la=na,re.j.info("VER="+re.la));const Vs=to[4];null!=Vs&&(re.Aa=Vs,re.j.info("SVER="+re.Aa));const vf=to[5];null!=vf&&"number"==typeof vf&&0<vf&&(re.L=Pe=1.5*vf,re.j.info("backChannelRequestTimeoutMs_="+Pe)),Pe=re;const Cu=y.g;if(Cu){const om=Cu.g?Cu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(om){var an=Pe.h;an.g||-1==om.indexOf("spdy")&&-1==om.indexOf("quic")&&-1==om.indexOf("h2")||(an.j=an.l,an.g=new Set,an.h&&(Zl(an,an.h),an.h=null))}if(Pe.D){const Kv=Cu.g?Cu.g.getResponseHeader("X-HTTP-Session-Id"):null;Kv&&(Pe.ya=Kv,Oo(Pe.I,Pe.D,Kv))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-y.F,re.j.info("Handshake RTT: "+re.R+"ms"));var er=y;if((Pe=re).qa=gf(Pe,Pe.J?Pe.ia:null,Pe.W),er.K){em(Pe.h,er);var Co=er,da=Pe.L;da&&(Co.I=da),Co.B&&(Zg(Co),Jg(Co)),Pe.g=er}else r0(Pe);0<re.i.length&&Hv(re)}else"stop"!=to[0]&&"close"!=to[0]||Id(re,7);else 3==re.G&&("stop"==to[0]||"close"==to[0]?"stop"==to[0]?Id(re,7):e0(re):"noop"!=to[0]&&re.l&&re.l.ta(to),re.v=0)}ch()}catch{}}_d.prototype.ca=function(y){y=y.target;const j=this.M;j&&3==Oc(y)?j.j():this.Y(y)},_d.prototype.Y=function(y){try{if(y==this.g)e:{const Vs=Oc(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>Vs)&&(3!=Vs||this.g&&(this.h.h||this.g.oa()||Sp(this.g)))){this.J||4!=Vs||7==j||ch(),Zg(this);var re=this.g.Z();this.X=re;t:if(Nv(this)){var Pe=Sp(this.g);y="";var jt=Pe.length,an=4==Oc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dh(this),yp(this);var er="";break t}this.h.i=new N.TextDecoder}for(j=0;j<jt;j++)this.h.h=!0,y+=this.h.i.decode(Pe[j],{stream:!(an&&j==jt-1)});Pe.length=0,this.h.g+=y,this.C=0,er=this.h.g}else er=this.g.oa();if(this.o=200==re,function Vy(y,j,re,Pe,jt,an,er){y.info(function(){return"XMLHTTP RESP ("+Pe+") [ attempt "+jt+"]: "+j+"\n"+re+"\n"+an+" "+er})}(this.i,this.u,this.A,this.l,this.R,Vs,re),this.o){if(this.T&&!this.K){t:{if(this.g){var Co,da=this.g;if((Co=da.g?da.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kr(Co)){var to=Co;break t}}to=null}if(!(re=to)){this.o=!1,this.s=3,Pa(12),dh(this),yp(this);break e}rf(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ep(this,re)}if(this.P){let Cu;for(re=!0;!this.J&&this.C<er.length;){if(Cu=GE(this,er),Cu==Mv){4==Vs&&(this.s=4,Pa(14),re=!1),rf(this.i,this.l,null,"[Incomplete Response]");break}if(Cu==Uy){this.s=4,Pa(15),rf(this.i,this.l,er,"[Invalid Chunk]"),re=!1;break}rf(this.i,this.l,Cu,null),Ep(this,Cu)}if(Nv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Vs||0!=er.length||this.h.h||(this.s=1,Pa(16),re=!1),this.o=this.o&&re,re){if(0<er.length&&!this.W){this.W=!0;var na=this.j;na.g==this&&na.ba&&!na.M&&(na.j.info("Great, no buffering proxy detected. Bytes received: "+er.length),ph(na),na.M=!0,Pa(11))}}else rf(this.i,this.l,er,"[Invalid Chunked Response]"),dh(this),yp(this)}else rf(this.i,this.l,er,null),Ep(this,er);4==Vs&&dh(this),this.o&&!this.J&&(4==Vs?zv(this.j,this):(this.o=!1,Jg(this)))}else(function jv(y){const j={};y=(y.g&&2<=Oc(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let Pe=0;Pe<y.length;Pe++){if(kr(y[Pe]))continue;var re=$t(y[Pe]);const jt=re[0];if("string"!=typeof(re=re[1]))continue;re=re.trim();const an=j[jt]||[];j[jt]=an,an.push(re)}!function xt(y,j){for(const re in y)j.call(void 0,y[re],re,y)}(j,function(Pe){return Pe.join(", ")})})(this.g),400==re&&0<er.indexOf("Unknown SID")?(this.s=3,Pa(12)):(this.s=0,Pa(13)),dh(this),yp(this)}}}catch{}},_d.prototype.cancel=function(){this.J=!0,dh(this)},_d.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function HE(y,j){y.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(ch(),Pa(17)),dh(this),this.s=2,yp(this)):$y(this,this.S-y)};var WE=class{constructor(y,j){this.g=y,this.map=j}};function jy(y){this.l=y||10,y=N.PerformanceNavigationTiming?0<(y=N.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(N.chrome&&N.chrome.loadTimes&&N.chrome.loadTimes()&&N.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hy(y){return!!y.h||!!y.g&&y.g.size>=y.j}function zy(y){return y.h?1:y.g?y.g.size:0}function Ov(y,j){return y.h?y.h==j:!!y.g&&y.g.has(j)}function Zl(y,j){y.g?y.g.add(j):y.h=j}function em(y,j){y.h&&y.h==j?y.h=null:y.g&&y.g.has(j)&&y.g.delete(j)}function Gy(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let j=y.i;for(const re of y.g.values())j=j.concat(re.D);return j}return Pn(y.i)}function xv(y,j){if(y.forEach&&"function"==typeof y.forEach)y.forEach(j,void 0);else if(U(y)||"string"==typeof y)Array.prototype.forEach.call(y,j,void 0);else for(var re=function Wy(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(U(y)||"string"==typeof y){var j=[];y=y.length;for(var re=0;re<y;re++)j.push(re);return j}j=[],re=0;for(const Pe in y)j[re++]=Pe;return j}}}(y),Pe=function KE(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(U(y)){for(var j=[],re=y.length,Pe=0;Pe<re;Pe++)j.push(y[Pe]);return j}for(Pe in j=[],re=0,y)j[re++]=y[Pe];return j}(y),jt=Pe.length,an=0;an<jt;an++)j.call(void 0,Pe[an],re&&re[an],y)}jy.prototype.cancel=function(){if(this.i=Gy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var Ip=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sf(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof sf){this.h=y.h,Ap(this,y.j),this.o=y.o,this.g=y.g,Tp(this,y.s),this.l=y.l;var j=y.i,re=new fh;re.i=j.i,j.g&&(re.g=new Map(j.g),re.h=j.h),Cp(this,re),this.m=y.m}else y&&(j=String(y).match(Ip))?(this.h=!1,Ap(this,j[1]||"",!0),this.o=bp(j[2]||""),this.g=bp(j[3]||"",!0),Tp(this,j[4]),this.l=bp(j[5]||"",!0),Cp(this,j[6]||"",!0),this.m=bp(j[7]||"")):(this.h=!1,this.i=new fh(null,this.h))}function rc(y){return new sf(y)}function Ap(y,j,re){y.j=re?bp(j,!0):j,y.j&&(y.j=y.j.replace(/:$/,""))}function Tp(y,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);y.s=j}else y.s=null}function Cp(y,j,re){j instanceof fh?(y.i=j,function XE(y,j){j&&!y.j&&(tu(y),y.i=null,y.g.forEach(function(re,Pe){var jt=Pe.toLowerCase();Pe!=jt&&(Fv(this,Pe),qy(this,jt,re))},y)),y.j=j}(y.i,y.h)):(re||(j=Dp(j,hh)),y.i=new fh(j,y.h))}function Oo(y,j,re){y.i.set(j,re)}function eu(y){return Oo(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function bp(y,j){return y?j?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Dp(y,j,re){return"string"==typeof y?(y=encodeURI(y).replace(j,Lv),re&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Lv(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}sf.prototype.toString=function(){var y=[],j=this.j;j&&y.push(Dp(j,Ky,!0),":");var re=this.g;return(re||"file"==j)&&(y.push("//"),(j=this.o)&&y.push(Dp(j,Ky,!0),"@"),y.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(re=this.s)&&y.push(":",String(re))),(re=this.l)&&(this.g&&"/"!=re.charAt(0)&&y.push("/"),y.push(Dp(re,"/"==re.charAt(0)?Xy:af,!0))),(re=this.i.toString())&&y.push("?",re),(re=this.m)&&y.push("#",Dp(re,lf)),y.join("")};var Ky=/[#\/\?@]/g,af=/[#\?:]/g,Xy=/[#\?]/g,hh=/[#\?@]/g,lf=/#/g;function fh(y,j){this.h=this.g=null,this.i=y||null,this.j=!!j}function tu(y){y.g||(y.g=new Map,y.h=0,y.i&&function kv(y,j){if(y){y=y.split("&");for(var re=0;re<y.length;re++){var Pe=y[re].indexOf("="),jt=null;if(0<=Pe){var an=y[re].substring(0,Pe);jt=y[re].substring(Pe+1)}else an=y[re];j(an,jt?decodeURIComponent(jt.replace(/\+/g," ")):"")}}}(y.i,function(j,re){y.add(decodeURIComponent(j.replace(/\+/g," ")),re)}))}function Fv(y,j){tu(y),j=uf(y,j),y.g.has(j)&&(y.i=null,y.h-=y.g.get(j).length,y.g.delete(j))}function Vv(y,j){return tu(y),j=uf(y,j),y.g.has(j)}function qy(y,j,re){Fv(y,j),0<re.length&&(y.i=null,y.g.set(uf(y,j),Pn(re)),y.h+=re.length)}function uf(y,j){return j=String(j),y.j&&(j=j.toLowerCase()),j}function yd(y,j,re,Pe,jt){try{jt&&(jt.onload=null,jt.onerror=null,jt.onabort=null,jt.ontimeout=null),Pe(re)}catch{}}function Qy(){this.g=new Fy}function YE(y,j,re){const Pe=re||"";try{xv(y,function(jt,an){let er=jt;te(jt)&&(er=ii(jt)),j.push(Pe+an+"="+encodeURIComponent(er))})}catch(jt){throw j.push(Pe+"type="+encodeURIComponent("_badmap")),jt}}function Ed(y){this.l=y.Ub||null,this.j=y.eb||!1}function tm(y,j){ea.call(this),this.D=y,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Uv(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function wp(y){y.readyState=4,y.l=null,y.j=null,y.v=null,cf(y)}function cf(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function Yy(y){let j="";return ri(y,function(re,Pe){j+=Pe,j+=":",j+=re,j+="\r\n"}),j}function Bv(y,j,re){e:{for(Pe in re){var Pe=!1;break e}Pe=!0}Pe||(re=Yy(re),"string"==typeof y?null!=re&&encodeURIComponent(String(re)):Oo(y,j,re))}function ns(y){ea.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=fh.prototype).add=function(y,j){tu(this),this.i=null,y=uf(this,y);var re=this.g.get(y);return re||this.g.set(y,re=[]),re.push(j),this.h+=1,this},l.forEach=function(y,j){tu(this),this.g.forEach(function(re,Pe){re.forEach(function(jt){y.call(j,jt,Pe,this)},this)},this)},l.na=function(){tu(this);const y=Array.from(this.g.values()),j=Array.from(this.g.keys()),re=[];for(let Pe=0;Pe<j.length;Pe++){const jt=y[Pe];for(let an=0;an<jt.length;an++)re.push(j[Pe])}return re},l.V=function(y){tu(this);let j=[];if("string"==typeof y)Vv(this,y)&&(j=j.concat(this.g.get(uf(this,y))));else{y=Array.from(this.g.values());for(let re=0;re<y.length;re++)j=j.concat(y[re])}return j},l.set=function(y,j){return tu(this),this.i=null,Vv(this,y=uf(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[j]),this.h+=1,this},l.get=function(y,j){return y&&0<(y=this.V(y)).length?String(y[0]):j},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],j=Array.from(this.g.keys());for(var re=0;re<j.length;re++){var Pe=j[re];const an=encodeURIComponent(String(Pe)),er=this.V(Pe);for(Pe=0;Pe<er.length;Pe++){var jt=an;""!==er[Pe]&&(jt+="="+encodeURIComponent(String(er[Pe]))),y.push(jt)}}return this.i=y.join("&")},fn(Ed,vd),Ed.prototype.g=function(){return new tm(this.l,this.j)},Ed.prototype.i=function(y){return function(){return y}}({}),fn(tm,ea),(l=tm.prototype).open=function(y,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=j,this.readyState=1,cf(this)},l.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(j.body=y),(this.D||N).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wp(this)),this.readyState=0},l.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uv(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var j=y.value?y.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!y.done}))&&(this.response=this.responseText+=j)}y.done?wp(this):cf(this),3==this.readyState&&Uv(this)}},l.Ra=function(y){this.g&&(this.response=this.responseText=y,wp(this))},l.Qa=function(y){this.g&&(this.response=y,wp(this))},l.ga=function(){this.g&&wp(this)},l.setRequestHeader=function(y,j){this.u.append(y,j)},l.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],j=this.h.entries();for(var re=j.next();!re.done;)y.push((re=re.value)[0]+": "+re[1]),re=j.next();return y.join("\r\n")},Object.defineProperty(tm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),fn(ns,ea);var $v=/^https?$/i,Jy=["POST","PUT"];function df(y,j){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=j,y.m=5,hf(y),nm(y)}function hf(y){y.A||(y.A=!0,ta(y,"complete"),ta(y,"error"))}function ff(y){if(y.h&&typeof E<"u"&&(!y.v[1]||4!=Oc(y)||2!=y.Z()))if(y.u&&4==Oc(y))bv(y.Ea,0,y);else if(ta(y,"readystatechange"),4==Oc(y)){y.h=!1;try{const er=y.Z();e:switch(er){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var re;if(!(re=j)){var Pe;if(Pe=0===er){var jt=String(y.D).match(Ip)[1]||null;!jt&&N.self&&N.self.location&&(jt=N.self.location.protocol.slice(0,-1)),Pe=!$v.test(jt?jt.toLowerCase():"")}re=Pe}if(re)ta(y,"complete"),ta(y,"success");else{y.m=6;try{var an=2<Oc(y)?y.g.statusText:""}catch{an=""}y.l=an+" ["+y.Z()+"]",hf(y)}}finally{nm(y)}}}function nm(y,j){if(y.g){Zy(y);const re=y.g,Pe=y.v[0]?()=>{}:null;y.g=null,y.v=null,j||ta(y,"ready");try{re.onreadystatechange=Pe}catch{}}}function Zy(y){y.I&&(N.clearTimeout(y.I),y.I=null)}function Oc(y){return y.g?y.g.readyState:0}function Sp(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Rp(y,j,re){return re&&re.internalChannelParams&&re.internalChannelParams[y]||j}function JE(y){this.Aa=0,this.i=[],this.j=new _p,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rp("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rp("baseRetryDelayMs",5e3,y),this.cb=Rp("retryDelaySeedMs",1e4,y),this.Wa=Rp("forwardChannelMaxRetries",2,y),this.wa=Rp("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new jy(y&&y.concurrentRequestLimit),this.Da=new Qy,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function e0(y){if(t0(y),3==y.G){var j=y.U++,re=rc(y.I);if(Oo(re,"SID",y.K),Oo(re,"RID",j),Oo(re,"TYPE","terminate"),Pp(y,re),(j=new _d(y,y.j,j)).L=2,j.v=eu(rc(re)),re=!1,N.navigator&&N.navigator.sendBeacon)try{re=N.navigator.sendBeacon(j.v.toString(),"")}catch{}!re&&N.Image&&((new Image).src=j.v,re=!0),re||(j.g=Gv(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Jg(j)}o0(y)}function rm(y){y.g&&(ph(y),y.g.cancel(),y.g=null)}function t0(y){rm(y),y.u&&(N.clearTimeout(y.u),y.u=null),gh(y),y.h.cancel(),y.s&&("number"==typeof y.s&&N.clearTimeout(y.s),y.s=null)}function Hv(y){if(!Hy(y.h)&&!y.s){y.s=!0;var j=y.Ga;ap||Ny(),lp||(ap(),lp=!0),Ug.add(j,y),y.B=0}}function eI(y,j){var re;re=j?j.l:y.U++;const Pe=rc(y.I);Oo(Pe,"SID",y.K),Oo(Pe,"RID",re),Oo(Pe,"AID",y.T),Pp(y,Pe),y.m&&y.o&&Bv(Pe,y.m,y.o),re=new _d(y,y.j,re,y.B+1),null===y.m&&(re.H=y.o),j&&(y.i=j.D.concat(y.i)),j=n0(y,re,1e3),re.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Zl(y.h,re),By(re,Pe,j)}function Pp(y,j){y.H&&ri(y.H,function(re,Pe){Oo(j,Pe,re)}),y.l&&xv({},function(re,Pe){Oo(j,Pe,re)})}function n0(y,j,re){re=Math.min(y.i.length,re);var Pe=y.l?pt(y.l.Na,y.l,y):null;e:{var jt=y.i;let an=-1;for(;;){const er=["count="+re];-1==an?0<re?(an=jt[0].g,er.push("ofs="+an)):an=0:er.push("ofs="+an);let Co=!0;for(let da=0;da<re;da++){let to=jt[da].g;const na=jt[da].map;if(to-=an,0>to)an=Math.max(0,jt[da].g-100),Co=!1;else try{YE(na,er,"req"+to+"_")}catch{Pe&&Pe(na)}}if(Co){Pe=er.join("&");break e}}}return y=y.i.splice(0,re),j.D=y,Pe}function r0(y){if(!y.g&&!y.u){y.Y=1;var j=y.Fa;ap||Ny(),lp||(ap(),lp=!0),Ug.add(j,y),y.v=0}}function Mp(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=vp(pt(y.Fa,y),pf(y,y.v)),y.v++,0))}function ph(y){null!=y.A&&(N.clearTimeout(y.A),y.A=null)}function im(y){y.g=new _d(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var j=rc(y.qa);Oo(j,"RID","rpc"),Oo(j,"SID",y.K),Oo(j,"AID",y.T),Oo(j,"CI",y.F?"0":"1"),!y.F&&y.ja&&Oo(j,"TO",y.ja),Oo(j,"TYPE","xmlhttp"),Pp(y,j),y.m&&y.o&&Bv(j,y.m,y.o),y.L&&(y.g.I=y.L);var re=y.g;y=y.ia,re.L=1,re.v=eu(rc(j)),re.m=null,re.P=!0,Yg(re,y)}function gh(y){null!=y.C&&(N.clearTimeout(y.C),y.C=null)}function zv(y,j){var re=null;if(y.g==j){gh(y),ph(y),y.g=null;var Pe=2}else{if(!Ov(y.h,j))return;re=j.D,em(y.h,j),Pe=1}if(0!=y.G)if(j.o)if(1==Pe){re=j.m?j.m.length:0,j=Date.now()-j.F;var jt=y.B;ta(Pe=mp(),new Kg(Pe,re)),Hv(y)}else r0(y);else if(3==(jt=j.s)||0==jt&&0<j.X||!(1==Pe&&function ZE(y,j){return!(zy(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=j.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=vp(pt(y.Ga,y,j),pf(y,y.B)),y.B++,0)))}(y,j)||2==Pe&&Mp(y)))switch(re&&0<re.length&&(j=y.h,j.i=j.i.concat(re)),jt){case 1:Id(y,5);break;case 4:Id(y,10);break;case 3:Id(y,6);break;default:Id(y,2)}}function pf(y,j){let re=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(re*=2),re*j}function Id(y,j){if(y.j.info("Error code "+j),2==j){var re=pt(y.fb,y),Pe=y.Xa;const jt=!Pe;Pe=new sf(Pe||"//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||Ap(Pe,"https"),eu(Pe),jt?function qE(y,j){const re=new _p;if(N.Image){const Pe=new Image;Pe.onload=Ht(yd,re,"TestLoadImage: loaded",!0,j,Pe),Pe.onerror=Ht(yd,re,"TestLoadImage: error",!1,j,Pe),Pe.onabort=Ht(yd,re,"TestLoadImage: abort",!1,j,Pe),Pe.ontimeout=Ht(yd,re,"TestLoadImage: timeout",!1,j,Pe),N.setTimeout(function(){Pe.ontimeout&&Pe.ontimeout()},1e4),Pe.src=y}else j(!1)}(Pe.toString(),re):function QE(y,j){new _p;const Pe=new AbortController,jt=setTimeout(()=>{Pe.abort(),yd(0,0,!1,j)},1e4);fetch(y,{signal:Pe.signal}).then(an=>{clearTimeout(jt),yd(0,0,!!an.ok,j)}).catch(()=>{clearTimeout(jt),yd(0,0,!1,j)})}(Pe.toString(),re)}else Pa(2);y.G=0,y.l&&y.l.sa(j),o0(y),t0(y)}function o0(y){if(y.G=0,y.ka=[],y.l){const j=Gy(y.h);(0!=j.length||0!=y.i.length)&&(On(y.ka,j),On(y.ka,y.i),y.h.i.length=0,Pn(y.i),y.i.length=0),y.l.ra()}}function gf(y,j,re){var Pe=re instanceof sf?rc(re):new sf(re);if(""!=Pe.g)j&&(Pe.g=j+"."+Pe.g),Tp(Pe,Pe.s);else{var jt=N.location;Pe=jt.protocol,j=j?j+"."+jt.hostname:jt.hostname,jt=+jt.port;var an=new sf(null);Pe&&Ap(an,Pe),j&&(an.g=j),jt&&Tp(an,jt),re&&(an.l=re),Pe=an}return j=y.ya,(re=y.D)&&j&&Oo(Pe,re,j),Oo(Pe,"VER",y.la),Pp(y,Pe),Pe}function Gv(y,j,re){if(j&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new ns(y.Ca&&!y.pa?new Ed({eb:re}):y.pa)).Ha(y.J),j}function Wv(){}function Np(){}function dl(y,j){ea.call(this),this.g=new JE(j),this.l=y,this.h=j&&j.messageUrlParams||null,y=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(y?y["X-WebChannel-Content-Type"]=j.messageContentType:y={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(y?y["X-WebChannel-Client-Profile"]=j.va:y={"X-WebChannel-Client-Profile":j.va}),this.g.S=y,(y=j&&j.Sb)&&!kr(y)&&(this.g.m=y),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!kr(j)&&(this.g.D=j,null!==(y=this.h)&&j in y&&j in(y=this.h)&&delete y[j]),this.j=new mf(this)}function s0(y){tf.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var j=y.__sm__;if(j){e:{for(const re in j){y=re;break e}y=void 0}(this.i=y)&&(y=this.i,j=null!==j&&y in j?j[y]:void 0),this.data=j}else this.data=y}function a0(){Mc.call(this),this.status=1}function mf(y){this.g=y}(l=ns.prototype).Ha=function(y){this.J=y},l.ea=function(y,j,re,Pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);j=j?j.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qg.g(),this.v=function Sv(y){return y.h||(y.h=y.i())}(this.o?this.o:qg),this.g.onreadystatechange=pt(this.Ea,this);try{this.B=!0,this.g.open(j,String(y),!0),this.B=!1}catch(an){return void df(this,an)}if(y=re||"",re=new Map(this.headers),Pe)if(Object.getPrototypeOf(Pe)===Object.prototype)for(var jt in Pe)re.set(jt,Pe[jt]);else{if("function"!=typeof Pe.keys||"function"!=typeof Pe.get)throw Error("Unknown input type for opt_headers: "+String(Pe));for(const an of Pe.keys())re.set(an,Pe.get(an))}Pe=Array.from(re.keys()).find(an=>"content-type"==an.toLowerCase()),jt=N.FormData&&y instanceof N.FormData,!(0<=Array.prototype.indexOf.call(Jy,j,void 0))||Pe||jt||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[an,er]of re)this.g.setRequestHeader(an,er);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zy(this),this.u=!0,this.g.send(y),this.u=!1}catch(an){df(this,an)}},l.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ta(this,"complete"),ta(this,"abort"),nm(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nm(this,!0)),ns.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?ff(this):this.bb())},l.bb=function(){ff(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Oc(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(y){if(this.g){var j=this.g.responseText;return y&&0==j.indexOf(y)&&(j=j.substring(y.length)),Ly(j)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=JE.prototype).la=8,l.G=1,l.connect=function(y,j,re,Pe){Pa(0),this.W=y,this.H=j||{},re&&void 0!==Pe&&(this.H.OSID=re,this.H.OAID=Pe),this.F=this.X,this.I=gf(this,null,this.W),Hv(this)},l.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const jt=new _d(this,this.j,y);let an=this.o;if(this.S&&(an?(an=lt(an),kt(an,this.S)):an=this.S),null!==this.m||this.O||(jt.H=an,an=null),this.P)e:{for(var j=0,re=0;re<this.i.length;re++){var Pe=this.i[re];if(void 0===(Pe="__data__"in Pe.map&&"string"==typeof(Pe=Pe.map.__data__)?Pe.length:void 0))break;if(4096<(j+=Pe)){j=re;break e}if(4096===j||re===this.i.length-1){j=re+1;break e}}j=1e3}else j=1e3;j=n0(this,jt,j),Oo(re=rc(this.I),"RID",y),Oo(re,"CVER",22),this.D&&Oo(re,"X-HTTP-Session-Id",this.D),Pp(this,re),an&&(this.O?j="headers="+encodeURIComponent(String(Yy(an)))+"&"+j:this.m&&Bv(re,this.m,an)),Zl(this.h,jt),this.Ua&&Oo(re,"TYPE","init"),this.P?(Oo(re,"$req",j),Oo(re,"SID","null"),jt.T=!0,By(jt,re,null)):By(jt,re,j),this.G=2}}else 3==this.G&&(y?eI(this,y):0==this.i.length||Hy(this.h)||eI(this))},l.Fa=function(){if(this.u=null,im(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=vp(pt(this.ab,this),y)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pa(10),rm(this),im(this))},l.Za=function(){null!=this.C&&(this.C=null,rm(this),Mp(this),Pa(19))},l.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Pa(2)):(this.j.info("Failed to ping google.com"),Pa(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=Wv.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Np.prototype.g=function(y,j){return new dl(y,j)},fn(dl,ea),dl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dl.prototype.close=function(){e0(this.g)},dl.prototype.o=function(y){var j=this.g;if("string"==typeof y){var re={};re.__data__=y,y=re}else this.u&&((re={}).__data__=ii(y),y=re);j.i.push(new WE(j.Ya++,y)),3==j.G&&Hv(j)},dl.prototype.N=function(){this.g.l=null,delete this.j,e0(this.g),delete this.g,dl.aa.N.call(this)},fn(s0,tf),fn(a0,Mc),fn(mf,Wv),mf.prototype.ua=function(){ta(this.g,"a")},mf.prototype.ta=function(y){ta(this.g,new s0(y))},mf.prototype.sa=function(y){ta(this.g,new a0)},mf.prototype.ra=function(){ta(this.g,"b")},Np.prototype.createWebChannel=Np.prototype.g,dl.prototype.send=dl.prototype.o,dl.prototype.open=dl.prototype.m,dl.prototype.close=dl.prototype.close,mt=En.createWebChannelTransport=function(){return new Np},Ge=En.getStatEventTarget=function(){return mp()},he=En.Event=Nc,oe=En.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xg.NO_ERROR=0,Xg.TIMEOUT=8,Xg.HTTP_ERROR=6,ie=En.ErrorCode=Xg,Pv.COMPLETE="complete",Me=En.EventType=Pv,Rv.EventType=gp,gp.OPEN="a",gp.CLOSE="b",gp.ERROR="c",gp.MESSAGE="d",ea.prototype.listen=ea.prototype.K,ft=En.WebChannel=Rv,En.FetchXmlHttpFactory=Ed,ns.prototype.listenOnce=ns.prototype.L,ns.prototype.getLastError=ns.prototype.Ka,ns.prototype.getLastErrorCode=ns.prototype.Ba,ns.prototype.getStatus=ns.prototype.Z,ns.prototype.getResponseJson=ns.prototype.Oa,ns.prototype.getResponseText=ns.prototype.oa,ns.prototype.send=ns.prototype.ea,ns.prototype.setWithCredentials=ns.prototype.Ha,tn=En.XhrIo=ns}).apply(typeof Xt<"u"?Xt:typeof self<"u"?self:typeof window<"u"?window:{});const yt="@firebase/firestore";class at{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");let Ft="10.14.0";const Pt=new Ke.Vy("@firebase/firestore");function wt(){return Pt.logLevel}function St(l,...n){if(Pt.logLevel<=Ke.$b.DEBUG){const i=n.map(jn);Pt.debug(`Firestore (${Ft}): ${l}`,...i)}}function kn(l,...n){if(Pt.logLevel<=Ke.$b.ERROR){const i=n.map(jn);Pt.error(`Firestore (${Ft}): ${l}`,...i)}}function Ln(l,...n){if(Pt.logLevel<=Ke.$b.WARN){const i=n.map(jn);Pt.warn(`Firestore (${Ft}): ${l}`,...i)}}function jn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function qt(l="Unexpected state"){const n=`FIRESTORE (${Ft}) INTERNAL ASSERTION FAILED: `+l;throw kn(n),new Error(n)}function Zt(l,n){l||qt()}function ln(l,n){return l}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends nt.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lt{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class yn{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class ir{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(at.UNAUTHENTICATED))}shutdown(){}}class lr{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Hn{constructor(n){this.t=n,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Zt(void 0===this.o);let u=this.i;const f=te=>this.i!==u?(u=this.i,i(te)):Promise.resolve();let E=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Lt,n.enqueueRetryable(()=>f(this.currentUser))};const N=()=>{const te=E;n.enqueueRetryable((0,ue.A)(function*(){yield te.promise,yield f(s.currentUser)}))},U=te=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.o&&(this.auth.addAuthTokenListener(this.o),N())};this.t.onInit(te=>U(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?U(te):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Lt)}},0),N()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Zt("string"==typeof s.accessToken),new yn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Zt(null===n||"string"==typeof n),new at(n)}}class zt{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gr{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new zt(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ur{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mr{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){Zt(void 0===this.o);const s=f=>{null!=f.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const E=f.token!==this.R;return this.R=f.token,St("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>s(f))};const u=f=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Zt("string"==typeof i.token),this.R=i.token,new ur(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Lr(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class Ni{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Lr(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Vn(l,n){return l<n?-1:l>n?1:0}function wi(l,n,i){return l.length===n.length&&l.every((s,u)=>i(s,n[u]))}function Qn(l){return l+"\0"}class Zn{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Ue($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ue($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Ue($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ue($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Zn.fromMillis(Date.now())}static fromDate(n){return Zn.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new Zn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Vn(this.nanoseconds,n.nanoseconds):Vn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new zn(n)}static min(){return new zn(new Zn(0,0))}static max(){return new zn(new Zn(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ai{constructor(n,i,s){void 0===i?i=0:i>n.length&&qt(),void 0===s?s=n.length-i:s>n.length-i&&qt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===Ai.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Ai?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const f=n.get(u),E=i.get(u);if(f<E)return-1;if(f>E)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class tr extends Ai{construct(n,i,s){return new tr(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Ue($e.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new tr(i)}static emptyPath(){return new tr([])}}const si=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Ai{construct(n,i,s){return new Ar(n,i,s)}static isValidIdentifier(n){return si.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(n){const i=[];let s="",u=0;const f=()=>{if(0===s.length)throw new Ue($e.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let E=!1;for(;u<n.length;){const N=n[u];if("\\"===N){if(u+1===n.length)throw new Ue($e.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const U=n[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Ue($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=U,u+=2}else"`"===N?(E=!E,u++):"."!==N||E?(s+=N,u++):(f(),u++)}if(f(),E)throw new Ue($e.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ar(i)}static emptyPath(){return new Ar([])}}class Dn{constructor(n){this.path=n}static fromPath(n){return new Dn(tr.fromString(n))}static fromName(n){return new Dn(tr.fromString(n).popFirst(5))}static empty(){return new Dn(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===tr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return tr.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Dn(new tr(n.slice()))}}class ai{constructor(n,i,s,u){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=u}}function Ut(l){return l.fields.find(n=>2===n.kind)}function _t(l){return l.fields.filter(n=>2!==n.kind)}ai.UNKNOWN_ID=-1;class ke{constructor(n,i){this.fieldPath=n,this.kind=i}}class X{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new X(0,Ne.min())}}function K(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=zn.fromTimestamp(1e9===s?new Zn(i+1,0):new Zn(i,s));return new Ne(u,Dn.empty(),n)}function ee(l){return new Ne(l.readTime,l.key,-1)}class Ne{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new Ne(zn.min(),Dn.empty(),-1)}static max(){return new Ne(zn.max(),Dn.empty(),-1)}}function He(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=Dn.comparator(l.documentKey,n.documentKey),0!==i?i:Vn(l.largestBatchId,n.largestBatchId))}const Wt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class In{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Xn(l){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,ue.A)(function*(l){if(l.code!==$e.FAILED_PRECONDITION||l.message!==Wt)throw l;St("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ht{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new ht((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof ht?i:ht.resolve(i)}catch(i){return ht.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):ht.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):ht.reject(i)}static resolve(n){return new ht((i,s)=>{i(n)})}static reject(n){return new ht((i,s)=>{s(n)})}static waitFor(n){return new ht((i,s)=>{let u=0,f=0,E=!1;n.forEach(N=>{++u,N.next(()=>{++f,E&&f===u&&i()},U=>s(U))}),E=!0,f===u&&i()})}static or(n){let i=ht.resolve(!1);for(const s of n)i=i.next(u=>u?ht.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(n,i){return new ht((s,u)=>{const f=n.length,E=new Array(f);let N=0;for(let U=0;U<f;U++){const te=U;i(n[te]).next(ve=>{E[te]=ve,++N,N===f&&s(E)},ve=>u(ve))}})}static doWhile(n,i){return new ht((s,u)=>{const f=()=>{!0===n()?i().next(()=>{f()},u):s()};f()})}}class fr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new Lt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new no(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=zo(s.target.error);this.V.reject(new no(n,u))}}static open(n,i,s,u){try{return new fr(i,n.transaction(u,s))}catch(f){throw new no(i,f)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(St("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new xo(i)}}class xn{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===xn.S((0,nt.ZQ)())&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return St("SimpleDb","Removing database:",n),Hi(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,nt.zW)())return!1;if(xn.v())return!0;const n=(0,nt.ZQ)(),i=xn.S(n),s=0<i&&i<10,u=Wr(n),f=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||f)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,ue.A)(function*(){return i.db||(St("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=E=>{s(E.target.result)},f.onblocked=()=>{u(new no(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=E=>{const N=E.target.error;u("VersionError"===N.name?new Ue($e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new Ue($e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new no(n,N))},f.onupgradeneeded=E=>{St("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',E.oldVersion),i.p.O(E.target.result,f.transaction,E.oldVersion,i.version).next(()=>{St("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,u){var f=this;return(0,ue.A)(function*(){const E="readonly"===i;let N=0;for(;;){++N;try{f.db=yield f.M(n);const U=fr.open(f.db,n,E?"readonly":"readwrite",s),te=u(U).next(ve=>(U.g(),ve)).catch(ve=>(U.abort(ve),ht.reject(ve))).toPromise();return te.catch(()=>{}),yield U.m,te}catch(U){const te=U,ve="FirebaseError"!==te.name&&N<3;if(St("SimpleDb","Transaction failed with error:",te.message,"Retrying:",ve),f.close(),!ve)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Wr(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class ji{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return Hi(this.B.delete())}}class no extends Ue{constructor(n,i){super($e.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Ti(l){return"IndexedDbTransactionError"===l.name}class xo{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(St("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),Hi(s)}add(n){return St("SimpleDb","ADD",this.store.name,n,n),Hi(this.store.add(n))}get(n){return Hi(this.store.get(n)).next(i=>(void 0===i&&(i=null),St("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return St("SimpleDb","DELETE",this.store.name,n),Hi(this.store.delete(n))}count(){return St("SimpleDb","COUNT",this.store.name),Hi(this.store.count())}U(n,i){const s=this.options(n,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new ht((E,N)=>{f.onerror=U=>{N(U.target.error)},f.onsuccess=U=>{E(U.target.result)}})}{const f=this.cursor(s),E=[];return this.W(f,(N,U)=>{E.push(U)}).next(()=>E)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new ht((u,f)=>{s.onerror=E=>{f(E.target.error)},s.onsuccess=E=>{u(E.target.result)}})}j(n,i){St("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const u=this.cursor(s);return this.W(u,(f,E,N)=>N.delete())}J(n,i){let s;i?s=n:(s={},i=n);const u=this.cursor(s);return this.W(u,i)}Y(n){const i=this.cursor({});return new ht((s,u)=>{i.onerror=f=>{const E=zo(f.target.error);u(E)},i.onsuccess=f=>{const E=f.target.result;E?n(E.primaryKey,E.value).next(N=>{N?E.continue():s()}):s()}})}W(n,i){const s=[];return new ht((u,f)=>{n.onerror=E=>{f(E.target.error)},n.onsuccess=E=>{const N=E.target.result;if(!N)return void u();const U=new ji(N),te=i(N.primaryKey,N.value,U);if(te instanceof ht){const ve=te.catch(Be=>(U.done(),ht.reject(Be)));s.push(ve)}U.isDone?u():null===U.K?N.continue():N.continue(U.K)}}).next(()=>ht.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Hi(l){return new ht((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const u=zo(s.target.error);i(u)}})}let bo=!1;function zo(l){const n=xn.S((0,nt.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bo||(bo=!0,setTimeout(()=>{throw s},0)),s}}return l}class _o{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;St("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,ue.A)(function*(){i.task=null;try{St("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Ti(s)?St("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Xn(s)}yield i.X(6e4)}))}}class Je{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,ue.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let u=i,f=!0;return ht.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(E=>{if(null!==E&&!s.has(E))return St("IndexBackfiller",`Processing collection: ${E}`),this.ne(n,E,u).next(N=>{u-=N,s.add(E)});f=!1})).next(()=>i-u)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,s).next(f=>{const E=f.changes;return this.localStore.indexManager.updateIndexEntries(n,E).next(()=>this.re(u,f)).next(N=>(St("IndexBackfiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(n,i,N))).next(()=>E.size)}))}re(n,i){let s=n;return i.changes.forEach((u,f)=>{const E=ee(f);He(E,s)>0&&(s=E)}),new Ne(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let Te=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function Et(l){return null==l}function ce(l){return 0===l&&1/l==-1/0}function de(l){return"number"==typeof l&&Number.isInteger(l)&&!ce(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function ze(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=mn(n)),n=Bt(l.get(i),n);return mn(n)}function Bt(l,n){let i=n;const s=l.length;for(let u=0;u<s;u++){const f=l.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function mn(l){return l+"\x01\x01"}function wn(l){const n=l.length;if(Zt(n>=2),2===n)return Zt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),tr.emptyPath();const i=n-2,s=[];let u="";for(let f=0;f<n;){const E=l.indexOf("\x01",f);switch((E<0||E>i)&&qt(),l.charAt(E+1)){case"\x01":const N=l.substring(f,E);let U;0===u.length?U=N:(u+=N,U=u,u=""),s.push(U);break;case"\x10":u+=l.substring(f,E),u+="\0";break;case"\x11":u+=l.substring(f,E+1);break;default:qt()}f=E+2}return new tr(s)}const Kn=["userId","batchId"];function Sr(l,n){return[l,ze(n)]}function ki(l,n,i){return[l,ze(n),i]}const Ie={},Qe=["prefixPath","collectionGroup","readTime","documentId"],xe=["prefixPath","collectionGroup","documentId"],At=["collectionGroup","readTime","prefixPath","documentId"],Rt=["canonicalId","targetId"],gt=["targetId","path"],sn=["path","targetId"],vn=["collectionId","parent"],An=["indexId","uid"],Sn=["uid","sequenceNumber"],Un=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jn=["indexId","uid","orderedDocumentKey"],ar=["userId","collectionPath","documentId"],Rr=["userId","collectionPath","largestBatchId"],Xr=["userId","collectionGroup","largestBatchId"],Si=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jr=[...Si,"documentOverlays"],oo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ko=oo,Lo=[...ko,"indexConfiguration","indexState","indexEntries"],Fo=Lo,rs=[...Lo,"globals"];class Do extends In{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function _i(l,n){const i=ln(l);return xn.F(i._e,n)}function js(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function is(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function Qi(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class _r{constructor(n,i){this.comparator=n,this.root=i||zi.EMPTY}insert(n,i){return new _r(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(n){return new _r(this.comparator,this.root.remove(n,this.comparator).copy(null,null,zi.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new As(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new As(this.root,n,this.comparator,!1)}getReverseIterator(){return new As(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new As(this.root,n,this.comparator,!0)}}class As{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=i?s(n.key,i):1,i&&u&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class zi{constructor(n,i,s,u,f){this.key=n,this.value=i,this.color=null!=s?s:zi.RED,this.left=null!=u?u:zi.EMPTY,this.right=null!=f?f:zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,f){return new zi(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const f=s(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return zi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const n=this.left.check();if(n!==this.right.check())throw qt();return n+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,i,s,u,f){return this}insert(n,i,s){return new zi(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(n){this.comparator=n,this.data=new _r(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ts(this.data.getIterator())}getIteratorFrom(n){return new Ts(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof ci)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new ci(this.comparator);return i.data=n,i}}class Ts{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function os(l){return l.hasNext()?l.getNext():void 0}class Ci{constructor(n){this.fields=n,n.sort(Ar.comparator)}static empty(){return new Ci([])}unionWith(n){let i=new ci(Ar.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Ci(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return wi(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class Na extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Na("Invalid base64 string: "+f):f}}(n);return new Vi(i)}static fromUint8Array(n){const i=function(u){let f="";for(let E=0;E<u.length;++E)f+=String.fromCharCode(u[E]);return f}(n);return new Vi(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Vn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function A(l){if(Zt(!!l),"string"==typeof l){let n=0;const i=x.exec(l);if(Zt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:O(l.seconds),nanos:O(l.nanos)}}function O(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function T(l){return"string"==typeof l?Vi.fromBase64String(l):Vi.fromUint8Array(l)}function z(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ae(l){const n=l.mapValue.fields.__previous_value__;return z(n)?ae(n):n}function dt(l){const n=A(l.mapValue.fields.__local_write_time__.timestampValue);return new Zn(n.seconds,n.nanos)}class Qt{constructor(n,i,s,u,f,E,N,U,te){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=E,this.autoDetectLongPolling=N,this.longPollingOptions=U,this.useFetchStreams=te}}class rn{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new rn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof rn&&n.projectId===this.projectId&&n.database===this.database}}const en={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},on={nullValue:"NULL_VALUE"};function Fn(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?z(l)?4:wo(l)?9007199254740991:Cs(l)?10:11:qt()}function Rn(l,n){if(l===n)return!0;const i=Fn(l);if(i!==Fn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return dt(l).isEqual(dt(n));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const E=A(u.timestampValue),N=A(f.timestampValue);return E.seconds===N.seconds&&E.nanos===N.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return f=n,T(l.bytesValue).isEqual(T(f.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,f){return O(u.geoPointValue.latitude)===O(f.geoPointValue.latitude)&&O(u.geoPointValue.longitude)===O(f.geoPointValue.longitude)}(l,n);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return O(u.integerValue)===O(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const E=O(u.doubleValue),N=O(f.doubleValue);return E===N?ce(E)===ce(N):isNaN(E)&&isNaN(N)}return!1}(l,n);case 9:return wi(l.arrayValue.values||[],n.arrayValue.values||[],Rn);case 10:case 11:return function(u,f){const E=u.mapValue.fields||{},N=f.mapValue.fields||{};if(js(E)!==js(N))return!1;for(const U in E)if(E.hasOwnProperty(U)&&(void 0===N[U]||!Rn(E[U],N[U])))return!1;return!0}(l,n);default:return qt()}var f}function Yn(l,n){return void 0!==(l.values||[]).find(i=>Rn(i,n))}function or(l,n){if(l===n)return 0;const i=Fn(l),s=Fn(n);if(i!==s)return Vn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vn(l.booleanValue,n.booleanValue);case 2:return function(f,E){const N=O(f.integerValue||f.doubleValue),U=O(E.integerValue||E.doubleValue);return N<U?-1:N>U?1:N===U?0:isNaN(N)?isNaN(U)?0:-1:1}(l,n);case 3:return ti(l.timestampValue,n.timestampValue);case 4:return ti(dt(l),dt(n));case 5:return Vn(l.stringValue,n.stringValue);case 6:return function(f,E){const N=T(f),U=T(E);return N.compareTo(U)}(l.bytesValue,n.bytesValue);case 7:return function(f,E){const N=f.split("/"),U=E.split("/");for(let te=0;te<N.length&&te<U.length;te++){const ve=Vn(N[te],U[te]);if(0!==ve)return ve}return Vn(N.length,U.length)}(l.referenceValue,n.referenceValue);case 8:return function(f,E){const N=Vn(O(f.latitude),O(E.latitude));return 0!==N?N:Vn(O(f.longitude),O(E.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return Gi(l.arrayValue,n.arrayValue);case 10:return function(f,E){var N,U,te,ve;const Ht=null===(N=(f.fields||{}).value)||void 0===N?void 0:N.arrayValue,fn=null===(U=(E.fields||{}).value)||void 0===U?void 0:U.arrayValue,Pn=Vn((null===(te=null==Ht?void 0:Ht.values)||void 0===te?void 0:te.length)||0,(null===(ve=null==fn?void 0:fn.values)||void 0===ve?void 0:ve.length)||0);return 0!==Pn?Pn:Gi(Ht,fn)}(l.mapValue,n.mapValue);case 11:return function(f,E){if(f===en.mapValue&&E===en.mapValue)return 0;if(f===en.mapValue)return 1;if(E===en.mapValue)return-1;const N=f.fields||{},U=Object.keys(N),te=E.fields||{},ve=Object.keys(te);U.sort(),ve.sort();for(let Be=0;Be<U.length&&Be<ve.length;++Be){const pt=Vn(U[Be],ve[Be]);if(0!==pt)return pt;const Ht=or(N[U[Be]],te[ve[Be]]);if(0!==Ht)return Ht}return Vn(U.length,ve.length)}(l.mapValue,n.mapValue);default:throw qt()}}function ti(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return Vn(l,n);const i=A(l),s=A(n),u=Vn(i.seconds,s.seconds);return 0!==u?u:Vn(i.nanos,s.nanos)}function Gi(l,n){const i=l.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=or(i[u],s[u]);if(f)return f}return Vn(i.length,s.length)}function li(l){return Ri(l)}function Ri(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=A(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?T(l.bytesValue).toBase64():"referenceValue"in l?Dn.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=Ri(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const E of s)f?f=!1:u+=",",u+=`${E}:${Ri(i.fields[E])}`;return u+"}"}(l.mapValue):qt()}function ss(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function mo(l){return!!l&&"integerValue"in l}function Gn(l){return!!l&&"arrayValue"in l}function Yi(l){return!!l&&"nullValue"in l}function as(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function ps(l){return!!l&&"mapValue"in l}function Cs(l){var n,i;return"__vector__"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Oa(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return is(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=Oa(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Oa(l.arrayValue.values[i]);return n}return Object.assign({},l)}function wo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const yo={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ls(l){return"nullValue"in l?on:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?ss(rn.empty(),Dn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?Cs(l)?yo:{mapValue:{}}:qt()}function gs(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?ss(rn.empty(),Dn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?yo:"mapValue"in l?Cs(l)?{mapValue:{}}:en:qt()}function Hs(l,n){const i=or(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function fl(l,n){const i=or(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class Eo{constructor(n){this.value=n}static empty(){return new Eo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!ps(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Oa(i)}setAll(n){let i=Ar.emptyPath(),s={},u=[];n.forEach((E,N)=>{if(!i.isImmediateParentOf(N)){const U=this.getFieldsMap(i);this.applyChanges(U,s,u),s={},u=[],i=N.popLast()}E?s[N.lastSegment()]=Oa(E):u.push(N.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(n){const i=this.field(n.popLast());ps(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Rn(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];ps(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){is(i,(u,f)=>n[u]=f);for(const u of s)delete n[u]}clone(){return new Eo(Oa(this.value))}}function bs(l){const n=[];return is(l.fields,(i,s)=>{const u=new Ar([i]);if(ps(s)){const f=bs(s.mapValue).fields;if(0===f.length)n.push(u);else for(const E of f)n.push(u.child(E))}else n.push(u)}),new Ci(n)}class gi{constructor(n,i,s,u,f,E,N){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=E,this.documentState=N}static newInvalidDocument(n){return new gi(n,0,zn.min(),zn.min(),zn.min(),Eo.empty(),0)}static newFoundDocument(n,i,s,u){return new gi(n,1,i,zn.min(),s,u,0)}static newNoDocument(n,i){return new gi(n,2,i,zn.min(),zn.min(),Eo.empty(),0)}static newUnknownDocument(n,i){return new gi(n,3,i,zn.min(),zn.min(),Eo.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(zn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Eo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof gi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wi{constructor(n,i){this.position=n,this.inclusive=i}}function So(l,n,i){let s=0;for(let u=0;u<l.position.length;u++){const f=n[u],E=l.position[u];if(s=f.field.isKeyField()?Dn.comparator(Dn.fromName(E.referenceValue),i.key):or(E,i.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function ra(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!Rn(l.position[i],n.position[i]))return!1;return!0}class qr{constructor(n,i="asc"){this.field=n,this.dir=i}}function Qa(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class yi{}class Vr extends yi{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Go(n,i,s):"array-contains"===i?new Ja(n,s):"in"===i?new gl(n,s):"not-in"===i?new Q(n,s):"array-contains-any"===i?new F(n,s):new Vr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Wo(n,s):new Pl(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(or(i,this.value)):null!==i&&Fn(this.value)===Fn(i)&&this.matchesComparison(or(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends yi{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new mi(n,i)}matches(n){return ga(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ga(l){return"and"===l.op}function zs(l){return"or"===l.op}function Cr(l){return Vo(l)&&ga(l)}function Vo(l){for(const n of l.filters)if(n instanceof mi)return!1;return!0}function Uo(l){if(l instanceof Vr)return l.field.canonicalString()+l.op.toString()+li(l.value);if(Cr(l))return l.filters.map(n=>Uo(n)).join(",");{const n=l.filters.map(i=>Uo(i)).join(",");return`${l.op}(${n})`}}function pl(l,n){return l instanceof Vr?(s=l,(u=n)instanceof Vr&&s.op===u.op&&s.field.isEqual(u.field)&&Rn(s.value,u.value)):l instanceof mi?function(s,u){return u instanceof mi&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,E,N)=>f&&pl(E,u.filters[N]),!0)}(l,n):void qt();var s,u}function Ya(l,n){const i=l.filters.concat(n);return mi.create(i,l.op)}function Ei(l){return l instanceof Vr?`${(i=l).field.canonicalString()} ${i.op} ${li(i.value)}`:l instanceof mi?function(i){return i.op.toString()+" {"+i.getFilters().map(Ei).join(" ,")+"}"}(l):"Filter";var i}class Go extends Vr{constructor(n,i,s){super(n,i,s),this.key=Dn.fromName(s.referenceValue)}matches(n){const i=Dn.comparator(n.key,this.key);return this.matchesComparison(i)}}class Wo extends Vr{constructor(n,i){super(n,"in",i),this.keys=ru(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Pl extends Vr{constructor(n,i){super(n,"not-in",i),this.keys=ru(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ru(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Dn.fromName(s.referenceValue))}class Ja extends Vr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Gn(i)&&Yn(i.arrayValue,this.value)}}class gl extends Vr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Yn(this.value.arrayValue,i)}}class Q extends Vr{constructor(n,i){super(n,"not-in",i)}matches(n){if(Yn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Yn(this.value.arrayValue,i)}}class F extends Vr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Gn(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Yn(this.value.arrayValue,s))}}class le{constructor(n,i=null,s=[],u=[],f=null,E=null,N=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=E,this.endAt=N,this.ue=null}}function W(l,n=null,i=[],s=[],u=null,f=null,E=null){return new le(l,n,i,s,u,f,E)}function ge(l){const n=ln(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Uo(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),Et(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>li(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>li(s)).join(",")),n.ue=i}return n.ue}function _n(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!Qa(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!pl(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!ra(l.startAt,n.startAt)&&ra(l.endAt,n.endAt)}function yr(l){return Dn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function Li(l,n){return l.filters.filter(i=>i instanceof Vr&&i.field.isEqual(n))}function Ki(l,n,i){let s=on,u=!0;for(const f of Li(l,n)){let E=on,N=!0;switch(f.op){case"<":case"<=":E=ls(f.value);break;case"==":case"in":case">=":E=f.value;break;case">":E=f.value,N=!1;break;case"!=":case"not-in":E=on}Hs({value:s,inclusive:u},{value:E,inclusive:N})<0&&(s=E,u=N)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(n)){const E=i.position[f];Hs({value:s,inclusive:u},{value:E,inclusive:i.inclusive})<0&&(s=E,u=i.inclusive);break}return{value:s,inclusive:u}}function Ui(l,n,i){let s=en,u=!0;for(const f of Li(l,n)){let E=en,N=!0;switch(f.op){case">=":case">":E=gs(f.value),N=!1;break;case"==":case"in":case"<=":E=f.value;break;case"<":E=f.value,N=!1;break;case"!=":case"not-in":E=en}fl({value:s,inclusive:u},{value:E,inclusive:N})>0&&(s=E,u=N)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(n)){const E=i.position[f];fl({value:s,inclusive:u},{value:E,inclusive:i.inclusive})>0&&(s=E,u=i.inclusive);break}return{value:s,inclusive:u}}class Pr{constructor(n,i=null,s=[],u=[],f=null,E="F",N=null,U=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=E,this.startAt=N,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function Za(l,n,i,s,u,f,E,N){return new Pr(l,n,i,s,u,f,E,N)}function us(l){return new Pr(l)}function cs(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Gs(l){return null!==l.collectionGroup}function ia(l){const n=ln(l);if(null===n.ce){n.ce=[];const i=new Set;for(const f of n.explicitOrderBy)n.ce.push(f),i.add(f.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(E){let N=new ci(Ar.comparator);return E.filters.forEach(U=>{U.getFlattenedFilters().forEach(te=>{te.isInequality()&&(N=N.add(te.field))})}),N})(n).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||n.ce.push(new qr(f,s))}),i.has(Ar.keyField().canonicalString())||n.ce.push(new qr(Ar.keyField(),s))}return n.ce}function Ko(l){const n=ln(l);return n.le||(n.le=function xa(l,n){if("F"===l.limitType)return W(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>new qr(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new Wi(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Wi(l.startAt.position,l.startAt.inclusive):null;return W(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,ia(l))),n.le}function ma(l,n){const i=l.filters.concat([n]);return new Pr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function ml(l,n,i){return new Pr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function va(l,n){return _n(Ko(l),Ko(n))&&l.limitType===n.limitType}function br(l){return`${ge(Ko(l))}|lt:${l.limitType}`}function ms(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Ei(u)).join(", ")}]`),Et(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(E=u).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>li(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>li(u)).join(",")),`Target(${s})`}(Ko(l))}; limitType=${l.limitType})`}function oa(l,n){return n.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Dn.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,n)&&function(s,u){for(const f of ia(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(l,n)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(l,n)&&(u=n,!((s=l).startAt&&!function(E,N,U){const te=So(E,N,U);return E.inclusive?te<=0:te<0}(s.startAt,ia(s),u)||s.endAt&&!function(E,N,U){const te=So(E,N,U);return E.inclusive?te>=0:te>0}(s.endAt,ia(s),u)));var s,u}function el(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function iu(l){return(n,i)=>{let s=!1;for(const u of ia(l)){const f=wu(u,n,i);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function wu(l,n,i){const s=l.field.isKeyField()?Dn.comparator(n.key,i.key):function(f,E,N){const U=E.data.field(f),te=N.data.field(f);return null!==U&&null!==te?or(U,te):qt()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return qt()}}class Ns{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,n))return f}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return void(u[f]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){is(this.inner,(i,s)=>{for(const[u,f]of s)n(u,f)})}isEmpty(){return Qi(this.inner)}size(){return this.innerSize}}const Dd=new _r(Dn.comparator);function ds(){return Dd}const Xo=new _r(Dn.comparator);function vl(...l){let n=Xo;for(const i of l)n=n.insert(i.key,i);return n}function ka(l){let n=Xo;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function Ro(){return tl()}function La(){return tl()}function tl(){return new Ns(l=>l.toString(),(l,n)=>l.isEqual(n))}const _l=new _r(Dn.comparator),Po=new ci(Dn.comparator);function Fr(...l){let n=Po;for(const i of l)n=n.add(i);return n}const oc=new ci(Vn);function Mr(){return oc}function bi(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ce(n)?"-0":n}}function ou(l){return{integerValue:""+l}}function Ds(l,n){return de(n)?ou(n):bi(l,n)}class nl{constructor(){this._=void 0}}function sc(l,n,i){return l instanceof Kr?function(u,f){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&z(f)&&(f=ae(f)),f&&(E.fields.__previous_value__=f),{mapValue:E}}(i,n):l instanceof Os?sa(l,n):l instanceof Xi?su(l,n):function(u,f){const E=il(u,f),N=w(E)+w(u.Pe);return mo(E)&&mo(u.Pe)?ou(N):bi(u.serializer,N)}(l,n)}function rl(l,n,i){return l instanceof Os?sa(l,n):l instanceof Xi?su(l,n):i}function il(l,n){return l instanceof yl?mo(s=n)||(f=s)&&"doubleValue"in f?n:{integerValue:0}:null;var s,f}class Kr extends nl{}class Os extends nl{constructor(n){super(),this.elements=n}}function sa(l,n){const i=q(n);for(const s of l.elements)i.some(u=>Rn(u,s))||i.push(s);return{arrayValue:{values:i}}}class Xi extends nl{constructor(n){super(),this.elements=n}}function su(l,n){let i=q(n);for(const s of l.elements)i=i.filter(u=>!Rn(u,s));return{arrayValue:{values:i}}}class yl extends nl{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function w(l){return O(l.integerValue||l.doubleValue)}function q(l){return Gn(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Le{constructor(n,i){this.field=n,this.transform=i}}class _e{constructor(n,i){this.version=n,this.transformResults=i}}class je{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new je}static exists(n){return new je(void 0,n)}static updateTime(n){return new je(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Jt(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class bn{}function wr(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new ys(l.key,je.none()):new di(l.key,l.data,je.none());{const i=l.data,s=Eo.empty();let u=new ci(Ar.comparator);for(let f of n.fields)if(!u.has(f)){let E=i.field(f);null===E&&f.length>1&&(f=f.popLast(),E=i.field(f)),null===E?s.delete(f):s.set(f,E),u=u.add(f)}return new qn(l.key,s,new Ci(u.toArray()),je.none())}}function ui(l,n,i){l instanceof di?function(u,f,E){const N=u.value.clone(),U=qi(u.fieldTransforms,f,E.transformResults);N.setAll(U),f.convertToFoundDocument(E.version,N).setHasCommittedMutations()}(l,n,i):l instanceof qn?function(u,f,E){if(!Jt(u.precondition,f))return void f.convertToUnknownDocument(E.version);const N=qi(u.fieldTransforms,f,E.transformResults),U=f.data;U.setAll(vs(u)),U.setAll(N),f.convertToFoundDocument(E.version,U).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Hr(l,n,i,s){return l instanceof di?function(f,E,N,U){if(!Jt(f.precondition,E))return N;const te=f.value.clone(),ve=_s(f.fieldTransforms,U,E);return te.setAll(ve),E.convertToFoundDocument(E.version,te).setHasLocalMutations(),null}(l,n,i,s):l instanceof qn?function(f,E,N,U){if(!Jt(f.precondition,E))return N;const te=_s(f.fieldTransforms,U,E),ve=E.data;return ve.setAll(vs(f)),ve.setAll(te),E.convertToFoundDocument(E.version,ve).setHasLocalMutations(),null===N?null:N.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Be=>Be.field))}(l,n,i,s):(N=i,Jt(l.precondition,E=n)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):N);var E,N}function Ur(l,n){let i=null;for(const s of l.fieldTransforms){const u=n.data.field(s.field),f=il(s.transform,u||null);null!=f&&(null===i&&(i=Eo.empty()),i.set(s.field,f))}return i||null}function $r(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&wi(s,u,(f,E)=>function G(l,n){return l.field.isEqual(n.field)&&(u=n.transform,(s=l.transform)instanceof Os&&u instanceof Os||s instanceof Xi&&u instanceof Xi?wi(s.elements,u.elements,Rn):s instanceof yl&&u instanceof yl?Rn(s.Pe,u.Pe):s instanceof Kr&&u instanceof Kr);var s,u}(f,E))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,u}class di extends bn{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class qn extends bn{constructor(n,i,s,u,f=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function vs(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function qi(l,n,i){const s=new Map;Zt(l.length===i.length);for(let u=0;u<i.length;u++){const f=l[u],E=f.transform,N=n.data.field(f.field);s.set(f.field,rl(E,N,i[u]))}return s}function _s(l,n,i){const s=new Map;for(const u of l){const f=u.transform,E=i.data.field(u.field);s.set(u.field,sc(f,E,n))}return s}class ys extends bn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ws extends bn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ks{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(n.key)&&ui(f,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Hr(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Hr(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=La();return this.mutations.forEach(u=>{const f=n.get(u.key),E=f.overlayedDocument;let N=this.applyToLocalView(E,f.mutatedFields);N=i.has(u.key)?null:N;const U=wr(E,N);null!==U&&s.set(u.key,U),E.isValidDocument()||E.convertToNoDocument(zn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Fr())}isEqual(n){return this.batchId===n.batchId&&wi(this.mutations,n.mutations,(i,s)=>$r(i,s))&&wi(this.baseMutations,n.baseMutations,(i,s)=>$r(i,s))}}class Fa{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Zt(n.mutations.length===s.length);let u=function(){return _l}();const f=n.mutations;for(let E=0;E<f.length;E++)u=u.insert(f[E].key,s[E].version);return new Fa(n,i,s,u)}}class aa{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ml{constructor(n,i){this.count=n,this.unchangedNames=i}}var Io,ni;function El(l){switch(l){default:return qt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function Ss(l){if(void 0===l)return kn("GRPC error has no .code"),$e.UNKNOWN;switch(l){case Io.OK:return $e.OK;case Io.CANCELLED:return $e.CANCELLED;case Io.UNKNOWN:return $e.UNKNOWN;case Io.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Io.INTERNAL:return $e.INTERNAL;case Io.UNAVAILABLE:return $e.UNAVAILABLE;case Io.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Io.NOT_FOUND:return $e.NOT_FOUND;case Io.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Io.ABORTED:return $e.ABORTED;case Io.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Io.DATA_LOSS:return $e.DATA_LOSS;default:return qt()}}(ni=Io||(Io={}))[ni.OK=0]="OK",ni[ni.CANCELLED=1]="CANCELLED",ni[ni.UNKNOWN=2]="UNKNOWN",ni[ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ni[ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ni[ni.NOT_FOUND=5]="NOT_FOUND",ni[ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",ni[ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",ni[ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",ni[ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ni[ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ni[ni.ABORTED=10]="ABORTED",ni[ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",ni[ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",ni[ni.INTERNAL=13]="INTERNAL",ni[ni.UNAVAILABLE=14]="UNAVAILABLE",ni[ni.DATA_LOSS=15]="DATA_LOSS";function Xs(){return new TextEncoder}const ac=new rt([4294967295,4294967295],0);function ol(l){const n=Xs().encode(l),i=new Ot;return i.update(n),new Uint8Array(i.digest())}function lc(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new rt([i,s],0),new rt([u,f],0)]}class Su{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Es(`Invalid padding: ${i}`);if(s<0)throw new Es(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Es(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Es(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=rt.fromNumber(this.Ie)}Ee(n,i,s){let u=n.add(i.multiply(rt.fromNumber(s)));return 1===u.compare(ac)&&(u=new rt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=ol(n),[s,u]=lc(i);for(let f=0;f<this.hashCount;f++){const E=this.Ee(s,u,f);if(!this.de(E))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),E=new Su(f,u,i);return s.forEach(N=>E.insert(N)),E}insert(n){if(0===this.Ie)return;const i=ol(n),[s,u]=lc(i);for(let f=0;f<this.hashCount;f++){const E=this.Ee(s,u,f);this.Ae(E)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Es extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nl{constructor(n,i,s,u,f){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,co.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Nl(zn.min(),u,new _r(Vn),ds(),Fr())}}class co{constructor(n,i,s,u,f){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new co(s,i,Fr(),Fr(),Fr())}}class Ol{constructor(n,i,s,u){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=u}}class ro{constructor(n,i){this.targetId=n,this.me=i}}class mh{constructor(n,i,s=Vi.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class xl{constructor(){this.fe=0,this.ge=la(),this.pe=Vi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=Fr(),i=Fr(),s=Fr();return this.ge.forEach((u,f)=>{switch(f){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:qt()}}),new co(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=la()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Zt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _a{constructor(n){this.Le=n,this.Be=new Map,this.ke=ds(),this.qe=Di(),this.Qe=new _r(Vn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:qt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,s=n.me.count,u=this.Je(i);if(u){const f=u.target;if(yr(f))if(0===s){const E=new Dn(f.path);this.Ue(i,E,gi.newNoDocument(E,zn.min()))}else Zt(1===s);else{const E=this.Ye(i);if(E!==s){const N=this.Ze(n),U=N?this.Xe(N,n,E):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let E,N;try{E=T(s).toUint8Array()}catch(U){if(U instanceof Na)return Ln("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{N=new Su(E,u,f)}catch(U){return Ln(U instanceof Es?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===N.Ie?null:N}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const E=this.Le.tt(),N=`projects/${E.projectId}/databases/${E.database}/documents/${f.path.canonicalString()}`;n.mightContain(N)||(this.Ue(i,f,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((f,E)=>{const N=this.Je(E);if(N){if(f.current&&yr(N.target)){const U=new Dn(N.target.path);null!==this.ke.get(U)||this.it(E,U)||this.Ue(E,U,gi.newNoDocument(U,n))}f.be&&(i.set(E,f.ve()),f.Ce())}});let s=Fr();this.qe.forEach((f,E)=>{let N=!0;E.forEachWhile(U=>{const te=this.Je(U);return!te||"TargetPurposeLimboResolution"===te.purpose||(N=!1,!1)}),N&&(s=s.add(f))}),this.ke.forEach((f,E)=>E.setReadTime(n));const u=new Nl(n,i,this.Qe,this.ke,s);return this.ke=ds(),this.qe=Di(),this.Qe=new _r(Vn),u}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new xl,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new ci(Vn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||St("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new xl),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function Di(){return new _r(Dn.comparator)}function la(){return new _r(Dn.comparator)}const Fc={asc:"ASCENDING",desc:"DESCENDING"},Il={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ru={and:"AND",or:"OR"};class kl{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function qs(l,n){return l.useProto3Json||Et(n)?n:{value:n}}function Yo(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function au(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function Vc(l,n){return Yo(l,n.toTimestamp())}function ho(l){return Zt(!!l),zn.fromTimestamp(function(i){const s=A(i);return new Zn(s.seconds,s.nanos)}(l))}function lu(l,n){return ya(l,n).canonicalString()}function ya(l,n){const i=(u=l,new tr(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function uc(l){const n=tr.fromString(l);return Zt(Mo(n)),n}function Ua(l,n){return lu(l.databaseId,n.path)}function xs(l,n){const i=uc(n);if(i.get(1)!==l.databaseId.projectId)throw new Ue($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Ue($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new Dn(Qs(i))}function cc(l,n){return lu(l.databaseId,n)}function wd(l){const n=uc(l);return 4===n.length?tr.emptyPath():Qs(n)}function Uc(l){return new tr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Qs(l){return Zt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Bc(l,n,i){return{name:Ua(l,n),fields:i.value.mapValue.fields}}function $c(l,n,i){const s=xs(l,n.name),u=ho(n.updateTime),f=n.createTime?ho(n.createTime):zn.min(),E=new Eo({mapValue:{fields:n.fields}}),N=gi.newFoundDocument(s,u,f,E);return i&&N.setHasCommittedMutations(),i?N.setHasCommittedMutations():N}function V(l,n){let i;if(n instanceof di)i={update:Bc(l,n.key,n.value)};else if(n instanceof ys)i={delete:Ua(l,n.key)};else if(n instanceof qn)i={update:Bc(l,n.key,n.data),updateMask:fo(n.fieldMask)};else{if(!(n instanceof ws))return qt();i={verify:Ua(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(f,E){const N=E.transform;if(N instanceof Kr)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(N instanceof Os)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:N.elements}};if(N instanceof Xi)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:N.elements}};if(N instanceof yl)return{fieldPath:E.field.canonicalString(),increment:N.Pe};throw qt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:Vc(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:qt()),i;var f}function R(l,n){const i=n.currentDocument?void 0!==(f=n.currentDocument).updateTime?je.updateTime(ho(f.updateTime)):void 0!==f.exists?je.exists(f.exists):je.none():je.none(),s=n.updateTransforms?n.updateTransforms.map(u=>function(E,N){let U=null;"setToServerValue"in N?(Zt("REQUEST_TIME"===N.setToServerValue),U=new Kr):"appendMissingElements"in N?U=new Os(N.appendMissingElements.values||[]):"removeAllFromArray"in N?U=new Xi(N.removeAllFromArray.values||[]):"increment"in N?U=new yl(E,N.increment):qt();const te=Ar.fromServerFormat(N.fieldPath);return new Le(te,U)}(l,u)):[];var f;if(n.update){const u=xs(l,n.update.name),f=new Eo({mapValue:{fields:n.update.fields}});if(n.updateMask){const E=new Ci((n.updateMask.fieldPaths||[]).map(ve=>Ar.fromServerFormat(ve)));return new qn(u,f,E,i,s)}return new di(u,f,i,s)}if(n.delete){const u=xs(l,n.delete);return new ys(u,i)}if(n.verify){const u=xs(l,n.verify);return new ws(u,i)}return qt()}function me(l,n){return{documents:[cc(l,n.path)]}}function Ae(l,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=cc(l,u);const f=function(te){if(0!==te.length)return Oi(mi.create(te,"and"))}(n.filters);f&&(i.structuredQuery.where=f);const E=function(te){if(0!==te.length)return te.map(ve=>{return{field:Ji((pt=ve).field),direction:Nr(pt.dir)};var pt})}(n.orderBy);E&&(i.structuredQuery.orderBy=E);const N=qs(l,n.limit);return null!==N&&(i.structuredQuery.limit=N),n.startAt&&(i.structuredQuery.startAt={before:(te=n.startAt).inclusive,values:te.position}),n.endAt&&(i.structuredQuery.endAt=function(te){return{before:!te.inclusive,values:te.position}}(n.endAt)),{_t:i,parent:u};var te}function dn(l){let n=wd(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Zt(1===s);const ve=i.from[0];ve.allDescendants?u=ve.collectionId:n=n.child(ve.collectionId)}let f=[];i.where&&(f=function(Be){const pt=Wn(Be);return pt instanceof mi&&Cr(pt)?pt.getFilters():[pt]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(pt=>{return new qr(Ir((fn=pt).field),function(On){switch(On){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(fn.direction));var fn}));let N=null;i.limit&&(N=function(Be){let pt;return pt="object"==typeof Be?Be.value:Be,Et(pt)?null:pt}(i.limit));let U=null;var Be;i.startAt&&(U=new Wi((Be=i.startAt).values||[],!!Be.before));let te=null;return i.endAt&&(te=function(Be){return new Wi(Be.values||[],!Be.before)}(i.endAt)),Za(n,u,E,f,N,"F",U,te)}function Wn(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ir(i.unaryFilter.field);return Vr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ir(i.unaryFilter.field);return Vr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Ir(i.unaryFilter.field);return Vr.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=Ir(i.unaryFilter.field);return Vr.create(E,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}(l):void 0!==l.fieldFilter?Vr.create(Ir((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return mi.create(i.compositeFilter.filters.map(s=>Wn(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return qt()}}(i.compositeFilter.op))}(l):qt();var i}function Nr(l){return Fc[l]}function Pi(l){return Il[l]}function zr(l){return Ru[l]}function Ji(l){return{fieldPath:l.canonicalString()}}function Ir(l){return Ar.fromServerFormat(l.fieldPath)}function Oi(l){return l instanceof Vr?function(i){if("=="===i.op){if(as(i.value))return{unaryFilter:{field:Ji(i.field),op:"IS_NAN"}};if(Yi(i.value))return{unaryFilter:{field:Ji(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(as(i.value))return{unaryFilter:{field:Ji(i.field),op:"IS_NOT_NAN"}};if(Yi(i.value))return{unaryFilter:{field:Ji(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(i.field),op:Pi(i.op),value:i.value}}}(l):l instanceof mi?function(i){const s=i.getFilters().map(u=>Oi(u));return 1===s.length?s[0]:{compositeFilter:{op:zr(i.op),filters:s}}}(l):qt()}function fo(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Mo(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class eo{constructor(n,i,s,u,f=zn.min(),E=zn.min(),N=Vi.EMPTY_BYTE_STRING,U=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=N,this.expectedCount=U}withSequenceNumber(n){return new eo(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Ll{constructor(n){this.ct=n}}function Fl(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Ba(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:Ua(f=l.ct,(E=n).key),fields:E.data.value.mapValue.fields,updateTime:Yo(f,E.version.toTimestamp()),createTime:Yo(f,E.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:Vl(n.version)};else{if(!n.isUnknownDocument())return qt();s.unknownDocument={path:i.path.toArray(),version:Vl(n.version)}}var f,E;return s}function Ba(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function Vl(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function sl(l){const n=new Zn(l.seconds,l.nanoseconds);return zn.fromTimestamp(n)}function Ul(l,n){const i=(n.baseMutations||[]).map(f=>R(l.ct,f));for(let f=0;f<n.mutations.length-1;++f)f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(n.mutations[f].updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f);const s=n.mutations.map(f=>R(l.ct,f)),u=Zn.fromMillis(n.localWriteTimeMs);return new Ks(n.batchId,u,i,s)}function Mu(l){const n=sl(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?sl(l.lastLimboFreeSnapshotVersion):zn.min();let s;return s=void 0!==l.query.documents?(Zt(1===(f=l.query).documents.length),Ko(us(wd(f.documents[0])))):function(f){return Ko(dn(f))}(l.query),new eo(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,Vi.fromBase64String(l.resumeToken));var f}function Bl(l,n){const i=Vl(n.snapshotVersion),s=Vl(n.lastLimboFreeSnapshotVersion);let u;u=yr(n.target)?me(l.ct,n.target):Ae(l.ct,n.target)._t;const f=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:ge(n.target),readTime:i,resumeToken:f,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function uu(l){const n=dn({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?ml(n,n.limit,"L"):n}function vh(l,n){return new aa(n.largestBatchId,R(l.ct,n.overlayMutation))}function jc(l,n){const i=n.path.lastSegment();return[l,ze(n.path.popLast()),i]}function Tf(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:Vl(s.readTime),documentKey:ze(s.documentKey.path),largestBatchId:s.largestBatchId}}class dc{getBundleMetadata(n,i){return $l(n).get(i).next(s=>{if(s)return{id:(f=s).bundleId,createTime:sl(f.createTime),version:f.version};var f})}saveBundleMetadata(n,i){return $l(n).put({bundleId:(u=i).id,createTime:Vl(ho(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return Hc(n).get(i).next(s=>{if(s)return{name:(f=s).name,query:uu(f.bundledQuery),readTime:sl(f.readTime)};var f})}saveNamedQuery(n,i){return Hc(n).put({name:(u=i).name,readTime:Vl(ho(u.readTime)),bundledQuery:u.bundledQuery});var u}}function $l(l){return _i(l,"bundles")}function Hc(l){return _i(l,"namedQueries")}class al{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new al(n,i.uid||"")}getOverlay(n,i){return cu(n).get(jc(this.userId,i)).next(s=>s?vh(this.serializer,s):null)}getOverlays(n,i){const s=Ro();return ht.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(n,i,s){const u=[];return s.forEach((f,E)=>{const N=new aa(i,E);u.push(this.ht(n,N))}),ht.waitFor(u)}removeOverlaysForBatchId(n,i,s){const u=new Set;i.forEach(E=>u.add(ze(E.getCollectionPath())));const f=[];return u.forEach(E=>{const N=IDBKeyRange.bound([this.userId,E,s],[this.userId,E,s+1],!1,!0);f.push(cu(n).j("collectionPathOverlayIndex",N))}),ht.waitFor(f)}getOverlaysForCollection(n,i,s){const u=Ro(),f=ze(i),E=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return cu(n).U("collectionPathOverlayIndex",E).next(N=>{for(const U of N){const te=vh(this.serializer,U);u.set(te.getKey(),te)}return u})}getOverlaysForCollectionGroup(n,i,s,u){const f=Ro();let E;const N=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return cu(n).J({index:"collectionGroupOverlayIndex",range:N},(U,te,ve)=>{const Be=vh(this.serializer,te);f.size()<u||Be.largestBatchId===E?(f.set(Be.getKey(),Be),E=Be.largestBatchId):ve.done()}).next(()=>f)}ht(n,i){return cu(n).put(function(u,f,E){const[N,U,te]=jc(f,E.mutation.key);return{userId:f,collectionPath:U,documentId:te,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:V(u.ct,E.mutation)}}(this.serializer,this.userId,i))}}function cu(l){return _i(l,"documentOverlays")}class zc{Pt(n){return _i(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?Vi.fromUint8Array(s):Vi.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class $a{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(O(n.integerValue));else if("doubleValue"in n){const s=O(n.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),ce(s)?i.At(0):i.At(s))}else if("timestampValue"in n){let s=n.timestampValue;this.dt(i,20),"string"==typeof s&&(s=A(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(T(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in n?wo(n)?this.dt(i,Number.MAX_SAFE_INTEGER):Cs(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):qt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const s=n.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(n,i){var s,u;const f=n.fields||{};this.dt(i,53);const E="value",N=(null===(u=null===(s=f[E].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(O(N)),this.Vt(E,i),this.Tt(f[E],i)}bt(n,i){const s=n.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(n,i){this.dt(i,37),Dn.fromName(n).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function Gc(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function hc(l){const n=64-function(s){let u=0;for(let f=0;f<8;++f){const E=Gc(255&s[f]);if(u+=E,8!==E)break}return u}(l);return Math.ceil(n/8)}$a.vt=new $a;class fc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),s=hc(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),s=hc(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(f){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,f,!1),new Uint8Array(E.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class ja{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Al{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class Nu{constructor(){this.jt=new fc,this.Ht=new ja(this.jt),this.Jt=new Al(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ou{constructor(n,i,s,u){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new Ou(this.indexId,this.documentKey,this.arrayValue,s)}}function Tl(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=Wc(l.arrayValue,n.arrayValue),0!==i?i:(i=Wc(l.directionalValue,n.directionalValue),0!==i?i:Dn.comparator(l.documentKey,n.documentKey)))}function Wc(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class Ha{constructor(n){this.Xt=new ci((i,s)=>Ar.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(n){if(Zt(n.collectionGroup===this.collectionId),this.nn)return!1;const i=Ut(n);if(void 0!==i&&!this.sn(i))return!1;const s=_t(n);let u=new Set,f=0,E=0;for(;f<s.length&&this.sn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Xt.size>0){const N=this.Xt.getIterator().getNext();if(!u.has(N.field.canonicalString())){const U=s[f];if(!this.on(N,U)||!this._n(this.en[E++],U))return!1}++f}for(;f<s.length;++f)if(E>=this.en.length||!this._n(this.en[E++],s[f]))return!1;return!0}an(){if(this.nn)return null;let n=new ci(Ar.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new ke(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new ke(s.field,0))}for(const s of this.en)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new ke(s.field,"asc"===s.dir?0:1)));return new ai(ai.UNKNOWN_ID,this.collectionId,i,X.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Sd(l){var n,i;if(Zt(l instanceof Vr||l instanceof mi),l instanceof Vr){if(l instanceof gl){const u=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(f=>Vr.create(l.field,"==",f)))||[];return mi.create(u,"or")}return l}const s=l.filters.map(u=>Sd(u));return mi.create(s,l.op)}function Cf(l){if(0===l.getFilters().length)return[];const n=Pd(Sd(l));return Zt(bf(n)),Rd(n)||pc(n)?[n]:n.getFilters()}function Rd(l){return l instanceof Vr}function pc(l){return l instanceof mi&&Cr(l)}function bf(l){return Rd(l)||pc(l)||function(i){if(i instanceof mi&&zs(i)){for(const s of i.getFilters())if(!Rd(s)&&!pc(s))return!1;return!0}return!1}(l)}function Pd(l){if(Zt(l instanceof Vr||l instanceof mi),l instanceof Vr)return l;if(1===l.filters.length)return Pd(l.filters[0]);const n=l.filters.map(s=>Pd(s));let i=mi.create(n,l.op);return i=Md(i),bf(i)?i:(Zt(i instanceof mi),Zt(ga(i)),Zt(i.filters.length>1),i.filters.reduce((s,u)=>xu(s,u)))}function xu(l,n){let i;return Zt(l instanceof Vr||l instanceof mi),Zt(n instanceof Vr||n instanceof mi),i=l instanceof Vr?n instanceof Vr?mi.create([l,n],"and"):du(l,n):n instanceof Vr?du(n,l):function(u,f){if(Zt(u.filters.length>0&&f.filters.length>0),ga(u)&&ga(f))return Ya(u,f.getFilters());const E=zs(u)?u:f,N=zs(u)?f:u,U=E.filters.map(te=>xu(te,N));return mi.create(U,"or")}(l,n),Md(i)}function du(l,n){if(ga(n))return Ya(n,l.getFilters());{const i=n.filters.map(s=>xu(l,s));return mi.create(i,"or")}}function Md(l){if(Zt(l instanceof Vr||l instanceof mi),l instanceof Vr)return l;const n=l.getFilters();if(1===n.length)return Md(n[0]);if(Vo(l))return l;const i=n.map(u=>Md(u)),s=[];return i.forEach(u=>{u instanceof Vr?s.push(u):u instanceof mi&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:mi.create(s,l.op)}class Nd{constructor(){this.un=new No}addToCollectionParentIndex(n,i){return this.un.add(i),ht.resolve()}getCollectionParents(n,i){return ht.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return ht.resolve()}deleteFieldIndex(n,i){return ht.resolve()}deleteAllFieldIndexes(n){return ht.resolve()}createTargetIndexes(n,i){return ht.resolve()}getDocumentsMatchingTarget(n,i){return ht.resolve(null)}getIndexType(n,i){return ht.resolve(0)}getFieldIndexes(n,i){return ht.resolve([])}getNextCollectionGroupToUpdate(n){return ht.resolve(null)}getMinOffset(n,i){return ht.resolve(Ne.min())}getMinOffsetFromCollectionGroup(n,i){return ht.resolve(Ne.min())}updateCollectionGroup(n,i,s){return ht.resolve()}updateIndexEntries(n,i){return ht.resolve()}}class No{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new ci(tr.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new ci(tr.comparator)).toArray()}}const Kc=new Uint8Array(0);class gc{constructor(n,i){this.databaseId=i,this.cn=new No,this.ln=new Ns(s=>ge(s),(s,u)=>_n(s,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:s,parent:ze(u)};return mc(n).put(f)}return ht.resolve()}getCollectionParents(n,i){const s=[],u=IDBKeyRange.bound([i,""],[Qn(i),""],!1,!0);return mc(n).U(u).next(f=>{for(const E of f){if(E.collectionId!==i)break;s.push(wn(E.parent))}return s})}addFieldIndex(n,i){const s=ku(n),u={indexId:(N=i).indexId,collectionGroup:N.collectionGroup,fields:N.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var N;delete u.indexId;const f=s.add(u);if(i.indexState){const E=fu(n);return f.next(N=>{E.put(Tf(N,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(n,i){const s=ku(n),u=fu(n),f=hu(n);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=ku(n),s=hu(n),u=fu(n);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(n,i){return ht.forEach(this.hn(i),s=>this.getIndexType(n,s).next(u=>{if(0===u||1===u){const f=new Ha(s).an();if(null!=f)return this.addFieldIndex(n,f)}}))}getDocumentsMatchingTarget(n,i){const s=hu(n);let u=!0;const f=new Map;return ht.forEach(this.hn(i),E=>this.Pn(n,E).next(N=>{u&&(u=!!N),f.set(E,N)})).next(()=>{if(u){let E=Fr();const N=[];return ht.forEach(f,(U,te)=>{var Dr;St("IndexedDbIndexManager",`Using index ${Dr=U,`id=${Dr.indexId}|cg=${Dr.collectionGroup}|f=${Dr.fields.map(Zr=>`${Zr.fieldPath}:${Zr.kind}`).join(",")}`} to execute ${ge(i)}`);const ve=function(Dr,Zr){const $i=Ut(Zr);if(void 0===$i)return null;for(const ri of Li(Dr,$i.fieldPath))switch(ri.op){case"array-contains-any":return ri.value.arrayValue.values||[];case"array-contains":return[ri.value]}return null}(te,U),Be=function(Dr,Zr){const $i=new Map;for(const ri of _t(Zr))for(const xt of Li(Dr,ri.fieldPath))switch(xt.op){case"==":case"in":$i.set(ri.fieldPath.canonicalString(),xt.value);break;case"not-in":case"!=":return $i.set(ri.fieldPath.canonicalString(),xt.value),Array.from($i.values())}return null}(te,U),pt=function(Dr,Zr){const $i=[];let ri=!0;for(const xt of _t(Zr)){const lt=0===xt.kind?Ki(Dr,xt.fieldPath,Dr.startAt):Ui(Dr,xt.fieldPath,Dr.startAt);$i.push(lt.value),ri&&(ri=lt.inclusive)}return new Wi($i,ri)}(te,U),Ht=function(Dr,Zr){const $i=[];let ri=!0;for(const xt of _t(Zr)){const lt=0===xt.kind?Ui(Dr,xt.fieldPath,Dr.endAt):Ki(Dr,xt.fieldPath,Dr.endAt);$i.push(lt.value),ri&&(ri=lt.inclusive)}return new Wi($i,ri)}(te,U),fn=this.In(U,te,pt),Pn=this.In(U,te,Ht),On=this.Tn(U,te,Be),Er=this.En(U.indexId,ve,fn,pt.inclusive,Pn,Ht.inclusive,On);return ht.forEach(Er,kr=>s.G(kr,i.limit).next(Dr=>{Dr.forEach(Zr=>{const $i=Dn.fromSegments(Zr.documentKey);E.has($i)||(E=E.add($i),N.push($i))})}))}).next(()=>N)}return ht.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:Cf(mi.create(n.filters,"and")).map(s=>W(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,s,u,f,E,N){const U=(null!=i?i.length:1)*Math.max(s.length,f.length),te=U/(null!=i?i.length:1),ve=[];for(let Be=0;Be<U;++Be){const pt=i?this.dn(i[Be/te]):Kc,Ht=this.An(n,pt,s[Be%te],u),fn=this.Rn(n,pt,f[Be%te],E),Pn=N.map(On=>this.An(n,pt,On,!0));ve.push(...this.createRange(Ht,fn,Pn))}return ve}An(n,i,s,u){const f=new Ou(n,Dn.empty(),i,s);return u?f:f.Zt()}Rn(n,i,s,u){const f=new Ou(n,Dn.empty(),i,s);return u?f.Zt():f}Pn(n,i){const s=new Ha(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(f=>{let E=null;for(const N of f)s.rn(N)&&(!E||N.fields.length>E.fields.length)&&(E=N);return E})}getIndexType(n,i){let s=2;const u=this.hn(i);return ht.forEach(u,f=>this.Pn(n,f).next(E=>{E?0!==s&&E.fields.length<function(U){let te=new ci(Ar.comparator),ve=!1;for(const Be of U.filters)for(const pt of Be.getFlattenedFilters())pt.field.isKeyField()||("array-contains"===pt.op||"array-contains-any"===pt.op?ve=!0:te=te.add(pt.field));for(const Be of U.orderBy)Be.field.isKeyField()||(te=te.add(Be.field));return te.size+(ve?1:0)}(f)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(n,i){const s=new Nu;for(const u of _t(n)){const f=i.data.field(u.fieldPath);if(null==f)return null;const E=s.Yt(u.kind);$a.vt.It(f,E)}return s.zt()}dn(n){const i=new Nu;return $a.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const s=new Nu;return $a.vt.It(ss(this.databaseId,i),s.Yt(function(f){const E=_t(f);return 0===E.length?0:E[E.length-1].kind}(n))),s.zt()}Tn(n,i,s){if(null===s)return[];let u=[];u.push(new Nu);let f=0;for(const E of _t(n)){const N=s[f++];for(const U of u)if(this.fn(i,E.fieldPath)&&Gn(N))u=this.gn(u,E,N);else{const te=U.Yt(E.kind);$a.vt.It(N,te)}}return this.pn(u)}In(n,i,s){return this.Tn(n,i,s.position)}pn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].zt();return i}gn(n,i,s){const u=[...n],f=[];for(const E of s.arrayValue.values||[])for(const N of u){const U=new Nu;U.seed(N.zt()),$a.vt.It(E,U.Yt(i.kind)),f.push(U)}return f}fn(n,i){return!!n.filters.find(s=>s instanceof Vr&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=ku(n),u=fu(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(f=>{const E=[];return ht.forEach(f,N=>u.get([N.indexId,this.uid]).next(U=>{E.push(function(ve,Be){const pt=Be?new X(Be.sequenceNumber,new Ne(sl(Be.readTime),new Dn(wn(Be.documentKey)),Be.largestBatchId)):X.empty(),Ht=ve.fields.map(([fn,Pn])=>new ke(Ar.fromServerFormat(fn),Pn));return new ai(ve.indexId,ve.collectionGroup,Ht,pt)}(N,U))})).next(()=>E)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Vn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const u=ku(n),f=fu(n);return this.yn(n).next(E=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(N=>ht.forEach(N,U=>f.put(Tf(U.indexId,this.uid,E,s)))))}updateIndexEntries(n,i){const s=new Map;return ht.forEach(i,(u,f)=>{const E=s.get(u.collectionGroup);return(E?ht.resolve(E):this.getFieldIndexes(n,u.collectionGroup)).next(N=>(s.set(u.collectionGroup,N),ht.forEach(N,U=>this.wn(n,u,U).next(te=>{const ve=this.Sn(f,U);return te.isEqual(ve)?ht.resolve():this.bn(n,f,U,te,ve)}))))})}Dn(n,i,s,u){return hu(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(n,i,s,u){return hu(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(n,i,s){const u=hu(n);let f=new ci(Tl);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(E,N)=>{f=f.add(new Ou(s.indexId,i,N.arrayValue,N.directionalValue))}).next(()=>f)}Sn(n,i){let s=new ci(Tl);const u=this.Vn(i,n);if(null==u)return s;const f=Ut(i);if(null!=f){const E=n.data.field(f.fieldPath);if(Gn(E))for(const N of E.arrayValue.values||[])s=s.add(new Ou(i.indexId,n.key,this.dn(N),u))}else s=s.add(new Ou(i.indexId,n.key,Kc,u));return s}bn(n,i,s,u,f){St("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const E=[];return function(U,te,ve,Be,pt){const Ht=U.getIterator(),fn=te.getIterator();let Pn=os(Ht),On=os(fn);for(;Pn||On;){let Er=!1,kr=!1;if(Pn&&On){const Dr=ve(Pn,On);Dr<0?kr=!0:Dr>0&&(Er=!0)}else null!=Pn?kr=!0:Er=!0;Er?(Be(On),On=os(fn)):kr?(pt(Pn),Pn=os(Ht)):(Pn=os(Ht),On=os(fn))}}(u,f,Tl,N=>{E.push(this.Dn(n,i,s,N))},N=>{E.push(this.vn(n,i,s,N))}),ht.waitFor(E)}yn(n){let i=1;return fu(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((E,N)=>Tl(E,N)).filter((E,N,U)=>!N||0!==Tl(E,U[N-1]));const u=[];u.push(n);for(const E of s){const N=Tl(E,n),U=Tl(E,i);if(0===N)u[0]=n.Zt();else if(N>0&&U<0)u.push(E),u.push(E.Zt());else if(U>0)break}u.push(i);const f=[];for(let E=0;E<u.length;E+=2){if(this.Cn(u[E],u[E+1]))return[];f.push(IDBKeyRange.bound([u[E].indexId,this.uid,u[E].arrayValue,u[E].directionalValue,Kc,[]],[u[E+1].indexId,this.uid,u[E+1].arrayValue,u[E+1].directionalValue,Kc,[]]))}return f}Cn(n,i){return Tl(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(_h)}getMinOffset(n,i){return ht.mapArray(this.hn(i),s=>this.Pn(n,s).next(u=>u||qt())).next(_h)}}function mc(l){return _i(l,"collectionParents")}function hu(l){return _i(l,"indexEntries")}function ku(l){return _i(l,"indexConfiguration")}function fu(l){return _i(l,"indexState")}function _h(l){Zt(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;He(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Ne(n.readTime,n.documentKey,i)}const Od={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rs{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Rs(n,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vc(l,n,i){const s=l.store("mutations"),u=l.store("documentMutations"),f=[],E=IDBKeyRange.only(i.batchId);let N=0;const U=s.J({range:E},(ve,Be,pt)=>(N++,pt.delete()));f.push(U.next(()=>{Zt(1===N)}));const te=[];for(const ve of i.mutations){const Be=ki(n,ve.key.path,i.batchId);f.push(u.delete(Be)),te.push(ve.key)}return ht.waitFor(f).next(()=>te)}function jl(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw qt();n=l.noDocument}return JSON.stringify(n).length}Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(41943040,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class io{constructor(n,i,s,u){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(n,i,s,u){Zt(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new io(f,i,s,u)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pr(n).J({index:"userMutationsIndex",range:s},(u,f,E)=>{i=!1,E.done()}).next(()=>i)}addMutationBatch(n,i,s,u){const f=so(n),E=pr(n);return E.add({}).next(N=>{Zt("number"==typeof N);const U=new Ks(N,i,s,u),te=function(Ht,fn,Pn){const On=Pn.baseMutations.map(kr=>V(Ht.ct,kr)),Er=Pn.mutations.map(kr=>V(Ht.ct,kr));return{userId:fn,batchId:Pn.batchId,localWriteTimeMs:Pn.localWriteTime.toMillis(),baseMutations:On,mutations:Er}}(this.serializer,this.userId,U),ve=[];let Be=new ci((pt,Ht)=>Vn(pt.canonicalString(),Ht.canonicalString()));for(const pt of u){const Ht=ki(this.userId,pt.key.path,N);Be=Be.add(pt.key.path.popLast()),ve.push(E.put(te)),ve.push(f.put(Ht,Ie))}return Be.forEach(pt=>{ve.push(this.indexManager.addToCollectionParentIndex(n,pt))}),n.addOnCommittedListener(()=>{this.Fn[N]=U.keys()}),ht.waitFor(ve).next(()=>U)})}lookupMutationBatch(n,i){return pr(n).get(i).next(s=>s?(Zt(s.userId===this.userId),Ul(this.serializer,s)):null)}Mn(n,i){return this.Fn[i]?ht.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return pr(n).J({index:"userMutationsIndex",range:u},(E,N,U)=>{N.userId===this.userId&&(Zt(N.batchId>=s),f=Ul(this.serializer,N)),U.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return pr(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,E)=>{s=f.batchId,E.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pr(n).U("userMutationsIndex",i).next(s=>s.map(u=>Ul(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=Sr(this.userId,i.path),u=IDBKeyRange.lowerBound(s),f=[];return so(n).J({range:u},(E,N,U)=>{const[te,ve,Be]=E,pt=wn(ve);if(te===this.userId&&i.path.isEqual(pt))return pr(n).get(Be).next(Ht=>{if(!Ht)throw qt();Zt(Ht.userId===this.userId),f.push(Ul(this.serializer,Ht))});U.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new ci(Vn);const u=[];return i.forEach(f=>{const E=Sr(this.userId,f.path),N=IDBKeyRange.lowerBound(E),U=so(n).J({range:N},(te,ve,Be)=>{const[pt,Ht,fn]=te,Pn=wn(Ht);pt===this.userId&&f.path.isEqual(Pn)?s=s.add(fn):Be.done()});u.push(U)}),ht.waitFor(u).next(()=>this.xn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1,f=Sr(this.userId,s),E=IDBKeyRange.lowerBound(f);let N=new ci(Vn);return so(n).J({range:E},(U,te,ve)=>{const[Be,pt,Ht]=U,fn=wn(pt);Be===this.userId&&s.isPrefixOf(fn)?fn.length===u&&(N=N.add(Ht)):ve.done()}).next(()=>this.xn(n,N))}xn(n,i){const s=[],u=[];return i.forEach(f=>{u.push(pr(n).get(f).next(E=>{if(null===E)throw qt();Zt(E.userId===this.userId),s.push(Ul(this.serializer,E))}))}),ht.waitFor(u).next(()=>s)}removeMutationBatch(n,i){return vc(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),ht.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return ht.resolve();const s=IDBKeyRange.lowerBound(function(E){return[E]}(this.userId)),u=[];return so(n).J({range:s},(f,E,N)=>{if(f[0]===this.userId){const U=wn(f[1]);u.push(U)}else N.done()}).next(()=>{Zt(0===u.length)})})}containsKey(n,i){return $n(n,this.userId,i)}Nn(n){return za(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $n(l,n,i){const s=Sr(n,i.path),u=s[1],f=IDBKeyRange.lowerBound(s);let E=!1;return so(l).J({range:f,H:!0},(N,U,te)=>{const[ve,Be,pt]=N;ve===n&&Be===u&&(E=!0),te.done()}).next(()=>E)}function pr(l){return _i(l,"mutations")}function so(l){return _i(l,"documentMutations")}function za(l){return _i(l,"mutationQueues")}class po{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new po(0)}static kn(){return new po(-1)}}class jo{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const s=new po(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>zn.fromTimestamp(new Zn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(n,s))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>Ys(n).delete(i.targetId)).next(()=>this.qn(n)).next(s=>(Zt(s.targetCount>0),s.targetCount-=1,this.Qn(n,s)))}removeTargets(n,i,s){let u=0;const f=[];return Ys(n).J((E,N)=>{const U=Mu(N);U.sequenceNumber<=i&&null===s.get(U.targetId)&&(u++,f.push(this.removeTargetData(n,U)))}).next(()=>ht.waitFor(f)).next(()=>u)}forEachTarget(n,i){return Ys(n).J((s,u)=>{const f=Mu(u);i(f)})}qn(n){return ao(n).get("targetGlobalKey").next(i=>(Zt(null!==i),i))}Qn(n,i){return ao(n).put("targetGlobalKey",i)}Kn(n,i){return Ys(n).put(Bl(this.serializer,i))}$n(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=ge(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Ys(n).J({range:u,index:"queryTargetsIndex"},(E,N,U)=>{const te=Mu(N);_n(i,te.target)&&(f=te,U.done())}).next(()=>f)}addMatchingKeys(n,i,s){const u=[],f=lo(n);return i.forEach(E=>{const N=ze(E.path);u.push(f.put({targetId:s,path:N})),u.push(this.referenceDelegate.addReference(n,s,E))}),ht.waitFor(u)}removeMatchingKeys(n,i,s){const u=lo(n);return ht.forEach(i,f=>{const E=ze(f.path);return ht.waitFor([u.delete([s,E]),this.referenceDelegate.removeReference(n,s,f)])})}removeMatchingKeysForTargetId(n,i){const s=lo(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=lo(n);let f=Fr();return u.J({range:s,H:!0},(E,N,U)=>{const te=wn(E[1]),ve=new Dn(te);f=f.add(ve)}).next(()=>f)}containsKey(n,i){const s=ze(i.path),u=IDBKeyRange.bound([s],[Qn(s)],!1,!0);let f=0;return lo(n).J({index:"documentTargetsIndex",H:!0,range:u},([E,N],U,te)=>{0!==E&&(f++,te.done())}).next(()=>f>0)}ot(n,i){return Ys(n).get(i).next(s=>s?Mu(s):null)}}function Ys(l){return _i(l,"targets")}function ao(l){return _i(l,"targetGlobal")}function lo(l){return _i(l,"targetDocuments")}function Ea([l,n],[i,s]){const u=Vn(l,i);return 0===u?Vn(n,s):u}class Br{constructor(n){this.Un=n,this.buffer=new ci(Ea),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ea(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Bi{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;St("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,ue.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Ti(s)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Xn(s)}yield i.Hn(3e5)}))}}class xd{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return ht.resolve(Te.oe);const s=new Br(i);return this.Jn.forEachTarget(n,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(Od)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Od):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let s,u,f,E,N,U,te;const ve=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),u=this.params.maximumSequenceNumbersToCollect):u=Be,E=Date.now(),this.nthSequenceNumber(n,u))).next(Be=>(s=Be,N=Date.now(),this.removeTargets(n,s,i))).next(Be=>(f=Be,U=Date.now(),this.removeOrphanedDocuments(n,s))).next(Be=>(te=Date.now(),wt()<=Ke.$b.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-ve}ms\n\tDetermined least recently used ${u} in `+(N-E)+`ms\n\tRemoved ${f} targets in `+(U-N)+`ms\n\tRemoved ${Be} documents in `+(te-U)+`ms\nTotal Duration: ${te-ve}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Be})))}}class Ao{constructor(n,i){this.db=n,this.garbageCollector=function pu(l,n){return new xd(l,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}er(n){let i=0;return this.Zn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(s,u)=>i(u))}addReference(n,i,s){return ll(n,s)}removeReference(n,i,s){return ll(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return ll(n,i)}nr(n,i){return function(u,f){let E=!1;return za(u).Y(N=>$n(u,N,f).next(U=>(U&&(E=!0),ht.resolve(!U)))).next(()=>E)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(n,(E,N)=>{if(N<=i){const U=this.nr(n,E).next(te=>{if(!te)return f++,s.getEntry(n,E).next(()=>(s.removeEntry(E,zn.min()),lo(n).delete([0,ze(E.path)])))});u.push(U)}}).next(()=>ht.waitFor(u)).next(()=>s.apply(n)).next(()=>f)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return ll(n,i)}tr(n,i){const s=lo(n);let u,f=Te.oe;return s.J({index:"documentTargetsIndex"},([E,N],{path:U,sequenceNumber:te})=>{0===E?(f!==Te.oe&&i(new Dn(wn(u)),f),f=te,u=U):f=Te.oe}).next(()=>{f!==Te.oe&&i(new Dn(wn(u)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function ll(l,n){return lo(l).put((u=l.currentSequenceNumber,{targetId:0,path:ze(n.path),sequenceNumber:u}));var u}class gu{constructor(){this.changes=new Ns(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,gi.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?ht.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Cl{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return Wa(n).put(s)}removeEntry(n,i,s){return Wa(n).delete(function(f,E){const N=f.path.toArray();return[N.slice(0,N.length-2),N[N.length-2],Ba(E),N[N.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.rr(n,s)))}getEntry(n,i){let s=gi.newInvalidDocument(i);return Wa(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jo(i))},(u,f)=>{s=this.ir(i,f)}).next(()=>s)}sr(n,i){let s={size:0,document:gi.newInvalidDocument(i)};return Wa(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jo(i))},(u,f)=>{s={document:this.ir(i,f),size:jl(f)}}).next(()=>s)}getEntries(n,i){let s=ds();return this._r(n,i,(u,f)=>{const E=this.ir(u,f);s=s.insert(u,E)}).next(()=>s)}ar(n,i){let s=ds(),u=new _r(Dn.comparator);return this._r(n,i,(f,E)=>{const N=this.ir(f,E);s=s.insert(f,N),u=u.insert(f,jl(E))}).next(()=>({documents:s,ur:u}))}_r(n,i,s){if(i.isEmpty())return ht.resolve();let u=new ci(Ia);i.forEach(U=>u=u.add(U));const f=IDBKeyRange.bound(Jo(u.first()),Jo(u.last())),E=u.getIterator();let N=E.getNext();return Wa(n).J({index:"documentKeyIndex",range:f},(U,te,ve)=>{const Be=Dn.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;N&&Ia(N,Be)<0;)s(N,null),N=E.getNext();N&&N.isEqual(Be)&&(s(N,te),N=E.hasNext()?E.getNext():null),N?ve.$(Jo(N)):ve.done()}).next(()=>{for(;N;)s(N,null),N=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(n,i,s,u,f){const E=i.path,N=[E.popLast().toArray(),E.lastSegment(),Ba(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],U=[E.popLast().toArray(),E.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wa(n).U(IDBKeyRange.bound(N,U,!0)).next(te=>{null==f||f.incrementDocumentReadCount(te.length);let ve=ds();for(const Be of te){const pt=this.ir(Dn.fromSegments(Be.prefixPath.concat(Be.collectionGroup,Be.documentId)),Be);pt.isFoundDocument()&&(oa(i,pt)||u.has(pt.key))&&(ve=ve.insert(pt.key,pt))}return ve})}getAllFromCollectionGroup(n,i,s,u){let f=ds();const E=hr(i,s),N=hr(i,Ne.max());return Wa(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,N,!0)},(U,te,ve)=>{const Be=this.ir(Dn.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);f=f.insert(Be.key,Be),f.size===u&&ve.done()}).next(()=>f)}newChangeBuffer(n){return new yh(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return Ga(n).get("remoteDocumentGlobalKey").next(i=>(Zt(!!i),i))}rr(n,i){return Ga(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const s=function Pu(l,n){let i;if(n.document)i=$c(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=Dn.fromSegments(n.noDocument.path),u=sl(n.noDocument.readTime);i=gi.newNoDocument(s,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return qt();{const s=Dn.fromSegments(n.unknownDocument.path),u=sl(n.unknownDocument.version);i=gi.newUnknownDocument(s,u)}}return n.readTime&&i.setReadTime(function(u){const f=new Zn(u[0],u[1]);return zn.fromTimestamp(f)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(zn.min()))return s}return gi.newInvalidDocument(n)}}function Lu(l){return new Cl(l)}class yh extends gu{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Ns(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(n){const i=[];let s=0,u=new ci((f,E)=>Vn(f.canonicalString(),E.canonicalString()));return this.changes.forEach((f,E)=>{const N=this.lr.get(f);if(i.push(this.cr.removeEntry(n,f,N.readTime)),E.isValidDocument()){const U=Fl(this.cr.serializer,E);u=u.add(f.path.popLast());const te=jl(U);s+=te-N.size,i.push(this.cr.addEntry(n,f,U))}else if(s-=N.size,this.trackRemovals){const U=Fl(this.cr.serializer,E.convertToNoDocument(zn.min()));i.push(this.cr.addEntry(n,f,U))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,f))}),i.push(this.cr.updateMetadata(n,s)),ht.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:s,ur:u})=>(u.forEach((f,E)=>{this.lr.set(f,{size:E,readTime:s.get(f).readTime})}),s))}}function Ga(l){return _i(l,"remoteDocumentGlobal")}function Wa(l){return _i(l,"remoteDocumentsV14")}function Jo(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function hr(l,n){const i=n.documentKey.path.toArray();return[l,Ba(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Ia(l,n){const i=l.path.toArray(),s=n.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<s.length-2;++f)if(u=Vn(i[f],s[f]),u)return u;return u=Vn(i.length,s.length),u||(u=Vn(i[i.length-2],s[s.length-2]),u||Vn(i[i.length-1],s[s.length-1]))}class _c{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class Aa{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Hr(s.mutation,u,Ci.empty(),Zn.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,Fr()).next(()=>s))}getLocalViewOfDocuments(n,i,s=Fr()){const u=Ro();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(f=>{let E=vl();return f.forEach((N,U)=>{E=E.insert(N,U.overlayedDocument)}),E}))}getOverlayedDocuments(n,i){const s=Ro();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,Fr()))}populateOverlays(n,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(n,u).next(f=>{f.forEach((E,N)=>{i.set(E,N)})})}computeViews(n,i,s,u){let f=ds();const E=tl(),N=tl();return i.forEach((U,te)=>{const ve=s.get(te.key);u.has(te.key)&&(void 0===ve||ve.mutation instanceof qn)?f=f.insert(te.key,te):void 0!==ve?(E.set(te.key,ve.mutation.getFieldMask()),Hr(ve.mutation,te,ve.mutation.getFieldMask(),Zn.now())):E.set(te.key,Ci.empty())}),this.recalculateAndSaveOverlays(n,f).next(U=>(U.forEach((te,ve)=>E.set(te,ve)),i.forEach((te,ve)=>{var Be;return N.set(te,new _c(ve,null!==(Be=E.get(te))&&void 0!==Be?Be:null))}),N))}recalculateAndSaveOverlays(n,i){const s=tl();let u=new _r((E,N)=>E-N),f=Fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(E=>{for(const N of E)N.keys().forEach(U=>{const te=i.get(U);if(null===te)return;let ve=s.get(U)||Ci.empty();ve=N.applyToLocalView(te,ve),s.set(U,ve);const Be=(u.get(N.batchId)||Fr()).add(U);u=u.insert(N.batchId,Be)})}).next(()=>{const E=[],N=u.getReverseIterator();for(;N.hasNext();){const U=N.getNext(),te=U.key,ve=U.value,Be=La();ve.forEach(pt=>{if(!f.has(pt)){const Ht=wr(i.get(pt),s.get(pt));null!==Ht&&Be.set(pt,Ht),f=f.add(pt)}}),E.push(this.documentOverlayCache.saveOverlays(n,te,Be))}return ht.waitFor(E)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Dn.isDocumentKey((E=i).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Gs(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var E}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(f=>{const E=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-f.size):ht.resolve(Ro());let N=-1,U=f;return E.next(te=>ht.forEach(te,(ve,Be)=>(N<Be.largestBatchId&&(N=Be.largestBatchId),f.get(ve)?ht.resolve():this.remoteDocumentCache.getEntry(n,ve).next(pt=>{U=U.insert(ve,pt)}))).next(()=>this.populateOverlays(n,te,f)).next(()=>this.computeViews(n,U,te,Fr())).next(ve=>({batchId:N,changes:ka(ve)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Dn(i)).next(s=>{let u=vl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const f=i.collectionGroup;let E=vl();return this.indexManager.getCollectionParents(n,f).next(N=>ht.forEach(N,U=>{const te=(Be=i,pt=U.child(f),new Pr(pt,null,Be.explicitOrderBy.slice(),Be.filters.slice(),Be.limit,Be.limitType,Be.startAt,Be.endAt));var Be,pt;return this.getDocumentsMatchingCollectionQuery(n,te,s,u).next(ve=>{ve.forEach((Be,pt)=>{E=E.insert(Be,pt)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(n,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(E=>(f=E,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,f,u))).next(E=>{f.forEach((U,te)=>{const ve=te.getKey();null===E.get(ve)&&(E=E.insert(ve,gi.newInvalidDocument(ve)))});let N=vl();return E.forEach((U,te)=>{const ve=f.get(U);void 0!==ve&&Hr(ve.mutation,te,Ci.empty(),Zn.now()),oa(i,te)&&(N=N.insert(U,te))}),N})}}class Xc{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return ht.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:ho(u.createTime)}),ht.resolve();var u}getNamedQuery(n,i){return ht.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:uu(u.bundledQuery),readTime:ho(u.readTime)}),ht.resolve();var u}}class Fu{constructor(){this.overlays=new _r(Dn.comparator),this.Ir=new Map}getOverlay(n,i){return ht.resolve(this.overlays.get(i))}getOverlays(n,i){const s=Ro();return ht.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,f)=>{this.ht(n,i,f)}),ht.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),ht.resolve()}getOverlaysForCollection(n,i,s){const u=Ro(),f=i.length+1,E=new Dn(i.child("")),N=this.overlays.getIteratorFrom(E);for(;N.hasNext();){const U=N.getNext().value,te=U.getKey();if(!i.isPrefixOf(te.path))break;te.path.length===f&&U.largestBatchId>s&&u.set(U.getKey(),U)}return ht.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let f=new _r((te,ve)=>te-ve);const E=this.overlays.getIterator();for(;E.hasNext();){const te=E.getNext().value;if(te.getKey().getCollectionGroup()===i&&te.largestBatchId>s){let ve=f.get(te.largestBatchId);null===ve&&(ve=Ro(),f=f.insert(te.largestBatchId,ve)),ve.set(te.getKey(),te)}}const N=Ro(),U=f.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((te,ve)=>N.set(te,ve)),!(N.size()>=u)););return ht.resolve(N)}ht(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const E=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(s.key,new aa(i,s));let f=this.Ir.get(i);void 0===f&&(f=Fr(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}class Ho{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(n){return ht.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,ht.resolve()}}class Vu{constructor(){this.Tr=new ci(Mi.Er),this.dr=new ci(Mi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const s=new Mi(n,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Vr(new Mi(n,i))}mr(n,i){n.forEach(s=>this.removeReference(s,i))}gr(n){const i=new Dn(new tr([])),s=new Mi(i,n),u=new Mi(i,n+1),f=[];return this.dr.forEachInRange([s,u],E=>{this.Vr(E),f.push(E.key)}),f}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new Dn(new tr([])),s=new Mi(i,n),u=new Mi(i,n+1);let f=Fr();return this.dr.forEachInRange([s,u],E=>{f=f.add(E.key)}),f}containsKey(n){const i=new Mi(n,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Mi{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return Dn.comparator(n.key,i.key)||Vn(n.wr,i.wr)}static Ar(n,i){return Vn(n.wr,i.wr)||Dn.comparator(n.key,i.key)}}class hs{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new ci(Mi.Er)}checkEmpty(n){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const f=this.Sr;this.Sr++;const E=new Ks(f,i,s,u);this.mutationQueue.push(E);for(const N of u)this.br=this.br.add(new Mi(N.key,f)),this.indexManager.addToCollectionParentIndex(n,N.key.path.popLast());return ht.resolve(E)}lookupMutationBatch(n,i){return ht.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),f=u<0?0:u;return ht.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Mi(i,0),u=new Mi(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],E=>{const N=this.Dr(E.wr);f.push(N)}),ht.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new ci(Vn);return i.forEach(u=>{const f=new Mi(u,0),E=new Mi(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,E],N=>{s=s.add(N.wr)})}),ht.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let f=s;Dn.isDocumentKey(f)||(f=f.child(""));const E=new Mi(new Dn(f),0);let N=new ci(Vn);return this.br.forEachWhile(U=>{const te=U.key.path;return!!s.isPrefixOf(te)&&(te.length===u&&(N=N.add(U.wr)),!0)},E),ht.resolve(this.Cr(N))}Cr(n){const i=[];return n.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Zt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return ht.forEach(i.mutations,u=>{const f=new Mi(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=s})}On(n){}containsKey(n,i){const s=new Mi(i,0),u=this.br.firstAfterOrEqual(s);return ht.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return ht.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class yc{constructor(n){this.Mr=n,this.docs=new _r(Dn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,E=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:E}),this.size+=E-f,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return ht.resolve(s?s.document.mutableCopy():gi.newInvalidDocument(i))}getEntries(n,i){let s=ds();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():gi.newInvalidDocument(u))}),ht.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let f=ds();const E=i.path,N=new Dn(E.child("")),U=this.docs.getIteratorFrom(N);for(;U.hasNext();){const{key:te,value:{document:ve}}=U.getNext();if(!E.isPrefixOf(te.path))break;te.path.length>E.length+1||He(ee(ve),s)<=0||(u.has(ve.key)||oa(i,ve))&&(f=f.insert(ve.key,ve.mutableCopy()))}return ht.resolve(f)}getAllFromCollectionGroup(n,i,s,u){qt()}Or(n,i){return ht.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new mu(this)}getSize(n){return ht.resolve(this.size)}}class mu extends gu{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(s)}),ht.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Uu{constructor(n){this.persistence=n,this.Nr=new Ns(i=>ge(i),_n),this.lastRemoteSnapshotVersion=zn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vu,this.targetCount=0,this.kr=po.Bn()}forEachTarget(n,i){return this.Nr.forEach((s,u)=>i(u)),ht.resolve()}getLastRemoteSnapshotVersion(n){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ht.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),ht.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new po(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,ht.resolve()}updateTargetData(n,i){return this.Kn(i),ht.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,ht.resolve()}removeTargets(n,i,s){let u=0;const f=[];return this.Nr.forEach((E,N)=>{N.sequenceNumber<=i&&null===s.get(N.targetId)&&(this.Nr.delete(E),f.push(this.removeMatchingKeysForTargetId(n,N.targetId)),u++)}),ht.waitFor(f).next(()=>u)}getTargetCount(n){return ht.resolve(this.targetCount)}getTargetData(n,i){const s=this.Nr.get(i)||null;return ht.resolve(s)}addMatchingKeys(n,i,s){return this.Br.Rr(i,s),ht.resolve()}removeMatchingKeys(n,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(E=>{f.push(u.markPotentiallyOrphaned(n,E))}),ht.waitFor(f)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),ht.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Br.yr(i);return ht.resolve(s)}containsKey(n,i){return ht.resolve(this.Br.containsKey(i))}}class ua{constructor(n,i){this.qr={},this.overlays={},this.Qr=new Te(0),this.Kr=!1,this.Kr=!0,this.$r=new Ho,this.referenceDelegate=n(this),this.Ur=new Uu(this),this.indexManager=new Nd,this.remoteDocumentCache=new yc(s=>this.referenceDelegate.Wr(s)),this.serializer=new Ll(i),this.Gr=new Xc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Fu,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.qr[n.toKey()];return s||(s=new hs(i,this.referenceDelegate),this.qr[n.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,s){St("MemoryPersistence","Starting transaction:",n);const u=new Bu(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(n,i){return ht.or(Object.values(this.qr).map(s=>()=>s.containsKey(n,i)))}}class Bu extends In{constructor(n){super(),this.currentSequenceNumber=n}}class $u{constructor(n){this.persistence=n,this.Jr=new Vu,this.Yr=null}static Zr(n){return new $u(n)}get Xr(){if(this.Yr)return this.Yr;throw qt()}addReference(n,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),ht.resolve()}removeReference(n,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),ht.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),ht.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Xr,s=>{const u=Dn.fromPath(s);return this.ei(n,u).next(f=>{f||i.removeEntry(u,zn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return ht.or([()=>ht.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class kd{constructor(n){this.serializer=n}O(n,i,s,u){const f=new fr("createOrUpgrade",i);var U;s<1&&u>=1&&(n.createObjectStore("owner"),(U=n).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kn,{unique:!0}),U.createObjectStore("documentMutations"),Eh(n),function(U){U.createObjectStore("remoteDocuments")}(n));let E=ht.resolve();return s<3&&u>=3&&(0!==s&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(n),Eh(n)),E=E.next(()=>function(U){const te=U.store("targetGlobal"),ve={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zn.min().toTimestamp(),targetCount:0};return te.put("targetGlobalKey",ve)}(f))),s<4&&u>=4&&(0!==s&&(E=E.next(()=>function(U,te){return te.store("mutations").U().next(ve=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kn,{unique:!0});const Be=te.store("mutations"),pt=ve.map(Ht=>Be.put(Ht));return ht.waitFor(pt)})}(n,f))),E=E.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&u>=5&&(E=E.next(()=>this.ni(f))),s<6&&u>=6&&(E=E.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(n),this.ri(f)))),s<7&&u>=7&&(E=E.next(()=>this.ii(f))),s<8&&u>=8&&(E=E.next(()=>this.si(n,f))),s<9&&u>=9&&(E=E.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&u>=10&&(E=E.next(()=>this.oi(f))),s<11&&u>=11&&(E=E.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&u>=12&&(E=E.next(()=>{!function(U){const te=U.createObjectStore("documentOverlays",{keyPath:ar});te.createIndex("collectionPathOverlayIndex",Rr,{unique:!1}),te.createIndex("collectionGroupOverlayIndex",Xr,{unique:!1})}(n)})),s<13&&u>=13&&(E=E.next(()=>function(U){const te=U.createObjectStore("remoteDocumentsV14",{keyPath:Qe});te.createIndex("documentKeyIndex",xe),te.createIndex("collectionGroupIndex",At)}(n)).next(()=>this._i(n,f)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(E=E.next(()=>this.ai(n,f))),s<15&&u>=15&&(E=E.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:An}).createIndex("sequenceNumberIndex",Sn,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Un}).createIndex("documentKeyIndex",Jn,{unique:!1})}(n))),s<16&&u>=16&&(E=E.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(E=E.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(n)})),E}ri(n){let i=0;return n.store("remoteDocuments").J((s,u)=>{i+=jl(u)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(u=>ht.forEach(u,f=>{const E=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",E).next(N=>ht.forEach(N,U=>{Zt(U.userId===f.userId);const te=Ul(this.serializer,U);return vc(n,f.userId,te).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((E,N)=>{const U=new tr(E),te=[0,ze(U)];f.push(i.get(te).next(ve=>ve?ht.resolve():i.put({targetId:0,path:ze(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>ht.waitFor(f))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:vn});const s=i.store("collectionParents"),u=new No,f=E=>{if(u.add(E)){const N=E.lastSegment(),U=E.popLast();return s.put({collectionId:N,parent:ze(U)})}};return i.store("remoteDocuments").J({H:!0},(E,N)=>{const U=new tr(E);return f(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([E,N,U],te)=>{const ve=wn(N);return f(ve.popLast())}))}oi(n){const i=n.store("targets");return i.J((s,u)=>{const f=Mu(u),E=Bl(this.serializer,f);return i.put(E)})}_i(n,i){const s=i.store("remoteDocuments"),u=[];return s.J((f,E)=>{const N=i.store("remoteDocumentsV14"),U=(Be=E,Be.document?new Dn(tr.fromString(Be.document.name).popFirst(5)):Be.noDocument?Dn.fromSegments(Be.noDocument.path):Be.unknownDocument?Dn.fromSegments(Be.unknownDocument.path):qt()).path.toArray(),te={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};var Be;u.push(N.put(te))}).next(()=>ht.waitFor(u))}ai(n,i){const s=i.store("mutations"),u=Lu(this.serializer),f=new ua($u.Zr,this.serializer.ct);return s.U().next(E=>{const N=new Map;return E.forEach(U=>{var te;let ve=null!==(te=N.get(U.userId))&&void 0!==te?te:Fr();Ul(this.serializer,U).keys().forEach(Be=>ve=ve.add(Be)),N.set(U.userId,ve)}),ht.forEach(N,(U,te)=>{const ve=new at(te),Be=al.lt(this.serializer,ve),pt=f.getIndexManager(ve),Ht=io.lt(ve,this.serializer,pt,f.referenceDelegate);return new Aa(u,Ht,Be,pt).recalculateAndSaveOverlaysForDocumentKeys(new Do(i,Te.oe),U).next()})})}}function Eh(l){l.createObjectStore("targetDocuments",{keyPath:gt}).createIndex("documentTargetsIndex",sn,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rt,{unique:!0}),l.createObjectStore("targetGlobal")}const Ec="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hu{constructor(n,i,s,u,f,E,N,U,te,ve,Be=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.ui=f,this.window=E,this.document=N,this.ci=te,this.li=ve,this.hi=Be,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=pt=>Promise.resolve(),!Hu.D())throw new Ue($e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ao(this,u),this.Ai=i+"main",this.serializer=new Ll(U),this.Ri=new xn(this.Ai,this.hi,new kd(this.serializer)),this.$r=new zc,this.Ur=new jo(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Lu(this.serializer),this.Gr=new dc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ve&&kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue($e.FAILED_PRECONDITION,Ec);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new Te(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var s=(0,ue.A)(function*(u){if(i.started)return n(u)});return function(u){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,ue.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,ue.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>qc(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(Ti(n))return St("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return vu(n).get("owner").next(i=>ht.resolve(this.vi(i)))}Ci(n){return qc(n).delete(this.clientId)}Fi(){var n=this;return(0,ue.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=_i(s,"clientMetadata");return u.U().next(f=>{const E=n.xi(f,18e5),N=f.filter(U=>-1===E.indexOf(U));return ht.forEach(N,U=>u.delete(U.clientId)).next(()=>N)})}).catch(()=>[]);if(n.Vi)for(const s of i)n.Vi.removeItem(n.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?ht.resolve(!0):vu(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Ue($e.FAILED_PRECONDITION,Ec);return!1}}return!(!this.networkEnabled||!this.inForeground)||qc(n).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&St("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,ue.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new Do(i,Te.oe);return n.bi(s).next(()=>n.Ci(s))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>qc(n).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return io.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new gc(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return al.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,s){St("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",f=17===(U=this.hi)?rs:16===U?Fo:15===U?Lo:14===U?ko:13===U?oo:12===U?jr:11===U?Si:void qt();var U;let E;return this.Ri.runTransaction(n,u,f,N=>(E=new Do(N,this.Qr?this.Qr.next():Te.oe),"readwrite-primary"===i?this.wi(E).next(U=>!!U||this.Si(E)).next(U=>{if(!U)throw kn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ue($e.FAILED_PRECONDITION,Wt);return s(E)}).next(U=>this.Di(E).next(()=>U)):this.Ki(E).next(()=>s(E)))).then(N=>(E.raiseOnCommittedEvent(),N))}Ki(n){return vu(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ue($e.FAILED_PRECONDITION,Ec)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vu(n).put("owner",i)}static D(){return xn.D()}bi(n){const i=vu(n);return i.get("owner").next(s=>this.vi(s)?(St("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):ht.resolve())}Mi(n,i){const s=Date.now();return!(n<s-i||n>s&&(kn(`Detected an update time that is in the future: ${n} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,nt.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return St("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return kn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){kn("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function vu(l){return _i(l,"owner")}function qc(l){return _i(l,"clientMetadata")}function Ld(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class Ih{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(n,i){let s=Fr(),u=Fr();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Ih(n,i.fromCache,s,u)}}class jp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Df{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,nt.nr)()?8:Wr((0,nt.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,s,u){const f={result:null};return this.Yi(n,i).next(E=>{f.result=E}).next(()=>{if(!f.result)return this.Zi(n,i,u,s).next(E=>{f.result=E})}).next(()=>{if(f.result)return;const E=new jp;return this.Xi(n,i,E).next(N=>{if(f.result=N,this.zi)return this.es(n,i,E,N.size)})}).next(()=>f.result)}es(n,i,s,u){return s.documentReadCount<this.ji?(wt()<=Ke.$b.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",ms(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ht.resolve()):(wt()<=Ke.$b.DEBUG&&St("QueryEngine","Query:",ms(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(wt()<=Ke.$b.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",ms(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ko(i))):ht.resolve())}Yi(n,i){if(cs(i))return ht.resolve(null);let s=Ko(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=ml(i,null,"F"),s=Ko(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(f=>{const E=Fr(...f);return this.Ji.getDocuments(n,E).next(N=>this.indexManager.getMinOffset(n,s).next(U=>{const te=this.ts(i,N);return this.ns(i,te,E,U.readTime)?this.Yi(n,ml(i,null,"F")):this.rs(n,te,i,U)}))})))}Zi(n,i,s,u){return cs(i)||u.isEqual(zn.min())?ht.resolve(null):this.Ji.getDocuments(n,s).next(f=>{const E=this.ts(i,f);return this.ns(i,E,s,u)?ht.resolve(null):(wt()<=Ke.$b.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ms(i)),this.rs(n,E,i,K(u,-1)).next(N=>N))})}ts(n,i){let s=new ci(iu(n));return i.forEach((u,f)=>{oa(n,f)&&(s=s.add(f))}),s}ns(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const f="F"===n.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(n,i,s){return wt()<=Ke.$b.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",ms(i)),this.Ji.getDocumentsMatchingQuery(n,i,Ne.min(),s)}rs(n,i,s,u){return this.Ji.getDocumentsMatchingQuery(n,s,u).next(f=>(i.forEach(E=>{f=f.insert(E.key,E)}),f))}}class Hp{constructor(n,i,s,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new _r(Vn),this._s=new Ns(f=>ge(f),_n),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(s)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Aa(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function zp(l,n,i,s){return new Hp(l,n,i,s)}function Ic(l,n){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,ue.A)(function*(l,n){const i=ln(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.ls(n),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const E=[],N=[];let U=Fr();for(const te of u){E.push(te.batchId);for(const ve of te.mutations)U=U.add(ve.key)}for(const te of f){N.push(te.batchId);for(const ve of te.mutations)U=U.add(ve.key)}return i.localDocuments.getDocuments(s,U).next(te=>({hs:te,removedBatchIds:E,addedBatchIds:N}))})})})).apply(this,arguments)}function Tc(l){const n=ln(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function p(l,n,i){let s=Fr(),u=Fr();return i.forEach(f=>s=s.add(f)),n.getEntries(l,s).next(f=>{let E=ds();return i.forEach((N,U)=>{const te=f.get(N);U.isFoundDocument()!==te.isFoundDocument()&&(u=u.add(N)),U.isNoDocument()&&U.version.isEqual(zn.min())?(n.removeEntry(N,U.readTime),E=E.insert(N,U)):!te.isValidDocument()||U.version.compareTo(te.version)>0||0===U.version.compareTo(te.version)&&te.hasPendingWrites?(n.addEntry(U),E=E.insert(N,U)):St("LocalStore","Ignoring outdated watch update for ",N,". Current version:",te.version," Watch version:",U.version)}),{Ps:E,Is:u}})}function _(l,n){const i=ln(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function S(l,n){const i=ln(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,n).next(f=>f?(u=f,ht.resolve(u)):i.Ur.allocateTargetId(s).next(E=>(u=new eo(n,E,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(n,s.targetId)),s})}function ne(l,n,i){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,ue.A)(function*(l,n,i){const s=ln(l),u=s.os.get(n),f=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",f,E=>s.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!Ti(E))throw E;St("LocalStore",`Failed to update sequence numbers for target ${n}: ${E}`)}s.os=s.os.remove(n),s._s.delete(u.target)})).apply(this,arguments)}function Ct(l,n,i){const s=ln(l);let u=zn.min(),f=Fr();return s.persistence.runTransaction("Execute query","readwrite",E=>function(U,te,ve){const Be=ln(U),pt=Be._s.get(ve);return void 0!==pt?ht.resolve(Be.os.get(pt)):Be.Ur.getTargetData(te,ve)}(s,E,Ko(n)).next(N=>{if(N)return u=N.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(E,N.targetId).next(U=>{f=U})}).next(()=>s.ss.getDocumentsMatchingQuery(E,n,i?u:zn.min(),i?f:Fr())).next(N=>(nr(s,el(n),N),{documents:N,Ts:f})))}function Yt(l,n){const i=ln(l),s=ln(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,n).next(E=>E?E.target:null))}function Cn(l,n){const i=ln(l),s=i.us.get(n)||zn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,K(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(nr(i,n,u),u))}function nr(l,n,i){let s=l.us.get(n)||zn.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.us.set(n,s)}function hi(){return(hi=(0,ue.A)(function*(l,n,i,s){const u=ln(l);let f=Fr(),E=ds();for(const te of i){const ve=n.Es(te.metadata.name);te.document&&(f=f.add(ve));const Be=n.ds(te);Be.setReadTime(n.As(te.metadata.readTime)),E=E.insert(ve,Be)}const N=u.cs.newChangeBuffer({trackRemovals:!0}),U=yield S(u,(ve=s,Ko(us(tr.fromString(`__bundle__/docs/${ve}`)))));var ve;return u.persistence.runTransaction("Apply bundle documents","readwrite",te=>p(te,N,E).next(ve=>(N.apply(te),ve)).next(ve=>u.Ur.removeMatchingKeysForTargetId(te,U.targetId).next(()=>u.Ur.addMatchingKeys(te,f,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(te,ve.Ps,ve.Is)).next(()=>ve.Ps)))})).apply(this,arguments)}function ks(l,n){return ul.apply(this,arguments)}function ul(){return(ul=(0,ue.A)(function*(l,n,i=Fr()){const s=yield S(l,Ko(uu(n.bundledQuery))),u=ln(l);return u.persistence.runTransaction("Save named query","readwrite",f=>{const E=ho(n.readTime);if(s.snapshotVersion.compareTo(E)>=0)return u.Gr.saveNamedQuery(f,n);const N=s.withResumeToken(Vi.EMPTY_BYTE_STRING,E);return u.os=u.os.insert(N.targetId,N),u.Ur.updateTargetData(f,N).next(()=>u.Ur.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(f,n))})})).apply(this,arguments)}function zu(l,n){return`firestore_clients_${l}_${n}`}function Qc(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function Yc(l,n){return`firestore_targets_${l}_${n}`}class ca{constructor(n,i,s,u){this.user=n,this.batchId=i,this.state=s,this.error=u}static Rs(n,i,s){const u=JSON.parse(s);let f,E="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return E&&u.error&&(E="string"==typeof u.error.message&&"string"==typeof u.error.code,E&&(f=new Ue(u.error.code,u.error.message))),E?new ca(n,i,u.state,f):(kn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class _u{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Rs(n,i){const s=JSON.parse(i);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new Ue(s.error.code,s.error.message))),f?new _u(n,s.state,u):(kn("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class bl{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Mr();for(let E=0;u&&E<s.activeTargetIds.length;++E)u=de(s.activeTargetIds[E]),f=f.add(s.activeTargetIds[E]);return u?new bl(n,f):(kn("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class fi{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new fi(i.clientId,i.onlineState):(kn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Cc{constructor(){this.activeTargetIds=Mr()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Hl{constructor(n,i,s,u,f){this.window=n,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new _r(Vn),this.started=!1,this.bs=[];const E=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=zu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Cc),this.Cs=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,ue.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const f=n.getItem(zu(n.persistenceKey,u));if(f){const E=bl.Rs(u,f);E&&(n.Ss=n.Ss.insert(E.clientId,E))}}n.Ns();const s=n.storage.getItem(n.xs);if(s){const u=n.Ls(s);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,s){this.qs(n,i,s),this.Qs(n)}addLocalQueryTarget(n,i=!0){let s="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(Yc(this.persistenceKey,n));if(u){const f=_u.Rs(n,u);f&&(s=f.state)}}return i&&this.Ks.fs(n),this.Ns(),s}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Yc(this.persistenceKey,n))}updateQueryState(n,i,s){this.$s(n,i,s)}handleUserChange(n,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return St("SharedClientState","READ",n,i),i}setItem(n,i){St("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){St("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const s=n;if(s.storageArea===this.storage){if(St("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ue.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(E){let N=Te.oe;if(null!=E)try{const U=JSON.parse(E);Zt("number"==typeof U),N=U}catch(U){kn("SharedClientState","Failed to read sequence number from WebStorage",U)}return N}(s.newValue);u!==Te.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,s){const u=new ca(this.currentUser,n,i,s),f=Qc(this.persistenceKey,this.currentUser,n);this.setItem(f,u.Vs())}Qs(n){const i=Qc(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,s){const u=Yc(this.persistenceKey,n),f=new _u(n,i,s);this.setItem(u,f.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const s=this.Gs(n);return bl.Rs(s,i)}Hs(n,i){const s=this.Fs.exec(n),u=Number(s[1]);return ca.Rs(new at(void 0!==s[2]?s[2]:null),u,i)}Ys(n,i){const s=this.Ms.exec(n),u=Number(s[1]);return _u.Rs(u,i)}Ls(n){return fi.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,ue.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);St("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const s=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),f=this.ks(s),E=[],N=[];return f.forEach(U=>{u.has(U)||E.push(U)}),u.forEach(U=>{f.has(U)||N.push(U)}),this.syncEngine.io(E,N).then(()=>{this.Ss=s})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=Mr();return n.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Is{constructor(){this.so=new Cc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,s){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Cc,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class wf{_o(n){}shutdown(){}}class Ta{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ca=null;function Js(){return null===Ca?Ca=268435456+Math.round(2147483648*Math.random()):Ca++,"0x"+Ca.toString(16)}const Mm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fd{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const Ls="WebChannelConnection";class ba extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,s,u,f,E){const N=Js(),U=this.xo(i,s.toUriEncodedString());St("RestConnection",`Sending RPC '${i}' ${N}:`,U,u);const te={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(te,f,E),this.No(i,U,te,u).then(ve=>(St("RestConnection",`Received RPC '${i}' ${N}: `,ve),ve),ve=>{throw Ln("RestConnection",`RPC '${i}' ${N} failed with error: `,ve,"url: ",U,"request:",u),ve})}Lo(i,s,u,f,E,N){return this.Mo(i,s,u,f,E)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+Ft,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,E)=>i[E]=f),u&&u.headers.forEach((f,E)=>i[E]=f)}xo(i,s){return`${this.Do}/v1/${s}:${Mm[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,s,u){const f=Js();return new Promise((E,N)=>{const U=new tn;U.setWithCredentials(!0),U.listenOnce(Me.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case ie.NO_ERROR:const ve=U.getResponseJson();St(Ls,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(ve)),E(ve);break;case ie.TIMEOUT:St(Ls,`RPC '${n}' ${f} timed out`),N(new Ue($e.DEADLINE_EXCEEDED,"Request time out"));break;case ie.HTTP_ERROR:const Be=U.getStatus();if(St(Ls,`RPC '${n}' ${f} failed with status:`,Be,"response text:",U.getResponseText()),Be>0){let pt=U.getResponseJson();Array.isArray(pt)&&(pt=pt[0]);const Ht=null==pt?void 0:pt.error;if(Ht&&Ht.status&&Ht.message){const fn=function(On){const Er=On.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(Er)>=0?Er:$e.UNKNOWN}(Ht.status);N(new Ue(fn,Ht.message))}else N(new Ue($e.UNKNOWN,"Server responded with status "+U.getStatus()))}else N(new Ue($e.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{St(Ls,`RPC '${n}' ${f} completed.`)}});const te=JSON.stringify(u);St(Ls,`RPC '${n}' ${f} sending request:`,u),U.send(i,"POST",te,s,15)})}Bo(n,i,s){const u=Js(),f=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],E=mt(),N=Ge(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},te=this.longPollingOptions.timeoutSeconds;void 0!==te&&(U.longPollingTimeout=Math.round(1e3*te)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,s),U.encodeInitMessageHeaders=!0;const ve=f.join("");St(Ls,`Creating RPC '${n}' stream ${u}: ${ve}`,U);const Be=E.createWebChannel(ve,U);let pt=!1,Ht=!1;const fn=new Fd({Io:On=>{Ht?St(Ls,`Not sending because RPC '${n}' stream ${u} is closed:`,On):(pt||(St(Ls,`Opening RPC '${n}' stream ${u} transport.`),Be.open(),pt=!0),St(Ls,`RPC '${n}' stream ${u} sending:`,On),Be.send(On))},To:()=>Be.close()}),Pn=(On,Er,kr)=>{On.listen(Er,Dr=>{try{kr(Dr)}catch(Zr){setTimeout(()=>{throw Zr},0)}})};return Pn(Be,ft.EventType.OPEN,()=>{Ht||(St(Ls,`RPC '${n}' stream ${u} transport opened.`),fn.yo())}),Pn(Be,ft.EventType.CLOSE,()=>{Ht||(Ht=!0,St(Ls,`RPC '${n}' stream ${u} transport closed`),fn.So())}),Pn(Be,ft.EventType.ERROR,On=>{Ht||(Ht=!0,Ln(Ls,`RPC '${n}' stream ${u} transport errored:`,On),fn.So(new Ue($e.UNAVAILABLE,"The operation could not be completed")))}),Pn(Be,ft.EventType.MESSAGE,On=>{var Er;if(!Ht){const kr=On.data[0];Zt(!!kr);const Zr=kr.error||(null===(Er=kr[0])||void 0===Er?void 0:Er.error);if(Zr){St(Ls,`RPC '${n}' stream ${u} received error:`,Zr);const $i=Zr.status;let ri=function(bt){const kt=Io[bt];if(void 0!==kt)return Ss(kt)}($i),xt=Zr.message;void 0===ri&&(ri=$e.INTERNAL,xt="Unknown error status: "+$i+" with message "+Zr.message),Ht=!0,fn.So(new Ue(ri,xt)),Be.close()}else St(Ls,`RPC '${n}' stream ${u} received:`,kr),fn.bo(kr)}}),Pn(N,he.STAT_EVENT,On=>{On.stat===oe.PROXY?St(Ls,`RPC '${n}' stream ${u} detected buffering proxy`):On.stat===oe.NOPROXY&&St(Ls,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{fn.wo()},0),fn}}function Th(){return typeof window<"u"?window:null}function Vd(){return typeof document<"u"?document:null}function Jc(l){return new kl(l,!0)}class Zc{constructor(n,i,s=1e3,u=1.5,f=6e4){this.ui=n,this.timerId=i,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&St("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ud{constructor(n,i,s,u,f,E,N,U){this.ui=n,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=N,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Zc(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,ue.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,ue.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var s=this;return(0,ue.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==n?s.t_.reset():i&&i.code===$e.RESOURCE_EXHAUSTED?(kn(i.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===$e.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{n(()=>{const u=new Ue($e.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(n,i){const s=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,ue.A)(function*(){n.state=0,n.start()}))}I_(n){return St("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ch extends Ud{constructor(n,i,s,u,f,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,E),this.serializer=f}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function M(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(te=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===te?1:"REMOVE"===te?2:"CURRENT"===te?3:"RESET"===te?4:qt(),u=n.targetChange.targetIds||[],f=function(te,ve){return te.useProto3Json?(Zt(void 0===ve||"string"==typeof ve),Vi.fromBase64String(ve||"")):(Zt(void 0===ve||ve instanceof Buffer||ve instanceof Uint8Array),Vi.fromUint8Array(ve||new Uint8Array))}(l,n.targetChange.resumeToken),E=n.targetChange.cause,N=E&&function(te){const ve=void 0===te.code?$e.UNKNOWN:Ss(te.code);return new Ue(ve,te.message||"")}(E);i=new mh(s,u,f,N||null)}else if("documentChange"in n){const s=n.documentChange,u=xs(l,s.document.name),f=ho(s.document.updateTime),E=s.document.createTime?ho(s.document.createTime):zn.min(),N=new Eo({mapValue:{fields:s.document.fields}}),U=gi.newFoundDocument(u,f,E,N);i=new Ol(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in n){const s=n.documentDelete,u=xs(l,s.document),f=s.readTime?ho(s.readTime):zn.min(),E=gi.newNoDocument(u,f);i=new Ol([],s.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const s=n.documentRemove,u=xs(l,s.document);i=new Ol([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return qt();{const s=n.filter,{count:u=0,unchangedNames:f}=s,E=new Ml(u,f);i=new ro(s.targetId,E)}}var te;return i}(this.serializer,n),s=function(f){if(!("targetChange"in f))return zn.min();const E=f.targetChange;return E.targetIds&&E.targetIds.length?zn.min():E.readTime?ho(E.readTime):zn.min()}(n);return this.listener.d_(i,s)}A_(n){const i={};i.database=Uc(this.serializer),i.addTarget=function(f,E){let N;const U=E.target;if(N=yr(U)?{documents:me(f,U)}:{query:Ae(f,U)._t},N.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){N.resumeToken=au(f,E.resumeToken);const te=qs(f,E.expectedCount);null!==te&&(N.expectedCount=te)}else if(E.snapshotVersion.compareTo(zn.min())>0){N.readTime=Yo(f,E.snapshotVersion.toTimestamp());const te=qs(f,E.expectedCount);null!==te&&(N.expectedCount=te)}return N}(this.serializer,n);const s=function Vt(l,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.a_(i)}R_(n){const i={};i.database=Uc(this.serializer),i.removeTarget=n,this.a_(i)}}class bh extends Ud{constructor(n,i,s,u,f,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,E),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return Zt(!!n.streamToken),this.lastStreamToken=n.streamToken,Zt(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){Zt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function $(l,n){return l&&l.length>0?(Zt(void 0!==n),l.map(i=>function(u,f){let E=ho(u.updateTime?u.updateTime:f);return E.isEqual(zn.min())&&(E=ho(f)),new _e(E,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=ho(n.commitTime);return this.listener.g_(s,i)}p_(){const n={};n.database=Uc(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>V(this.serializer,s))};this.a_(i)}}class Dh extends class{}{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Ue($e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,E])=>this.connection.Mo(n,ya(i,s),u,f,E)).catch(f=>{throw"FirebaseError"===f.name?(f.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ue($e.UNKNOWN,f.toString())})}Lo(n,i,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,N])=>this.connection.Lo(n,ya(i,s),u,E,N,f)).catch(E=>{throw"FirebaseError"===E.name?(E.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Ue($e.UNKNOWN,E.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yu{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kn(i),this.D_=!1):St("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Qr{constructor(n,i,s,u,f){var E=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(N=>{s.enqueueAndForget((0,ue.A)(function*(){var U;Wu(E)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,ue.A)(function*(ve){const Be=ln(ve);Be.L_.add(4),yield Gl(Be),Be.q_.set("Unknown"),Be.L_.delete(4),yield Gu(Be)}),function te(ve){return U.apply(this,arguments)})(E))}))}),this.q_=new yu(s,u)}}function Gu(l){return zl.apply(this,arguments)}function zl(){return(zl=(0,ue.A)(function*(l){if(Wu(l))for(const n of l.B_)yield n(!0)})).apply(this,arguments)}function Gl(l){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,ue.A)(function*(l){for(const n of l.B_)yield n(!1)})).apply(this,arguments)}function Sf(l,n){const i=ln(l);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),Rf(i)?Wl(i):Dc(i).r_()&&Bd(i,n))}function ed(l,n){const i=ln(l),s=Dc(i);i.N_.delete(n),s.r_()&&wh(i,n),0===i.N_.size&&(s.r_()?s.o_():Wu(i)&&i.q_.set("Unknown"))}function Bd(l,n){if(l.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(zn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}Dc(l).A_(n)}function wh(l,n){l.Q_.xe(n),Dc(l).R_(n)}function Wl(l){l.Q_=new _a({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.N_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),Dc(l).start(),l.q_.v_()}function Rf(l){return Wu(l)&&!Dc(l).n_()&&l.N_.size>0}function Wu(l){return 0===ln(l).L_.size}function Nm(l){l.Q_=void 0}function T_(l){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,ue.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function pn(l){return vi.apply(this,arguments)}function vi(){return(vi=(0,ue.A)(function*(l){l.N_.forEach((n,i)=>{Bd(l,n)})})).apply(this,arguments)}function Om(l,n){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,ue.A)(function*(l,n){Nm(l),Rf(l)?(l.q_.M_(n),Wl(l)):l.q_.set("Unknown")})).apply(this,arguments)}function go(l,n,i){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,ue.A)(function*(l,n,i){if(l.q_.set("Online"),n instanceof mh&&2===n.state&&n.cause)try{yield(s=(0,ue.A)(function*(f,E){const N=E.cause;for(const U of E.targetIds)f.N_.has(U)&&(yield f.remoteSyncer.rejectListen(U,N),f.N_.delete(U),f.Q_.removeTarget(U))}),function u(f,E){return s.apply(this,arguments)})(l,n)}catch(s){St("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield bc(l,s)}else if(n instanceof Ol?l.Q_.Ke(n):n instanceof ro?l.Q_.He(n):l.Q_.We(n),!i.isEqual(zn.min()))try{const s=yield Tc(l.localStore);i.compareTo(s)>=0&&(yield function(f,E){const N=f.Q_.rt(E);return N.targetChanges.forEach((U,te)=>{if(U.resumeToken.approximateByteSize()>0){const ve=f.N_.get(te);ve&&f.N_.set(te,ve.withResumeToken(U.resumeToken,E))}}),N.targetMismatches.forEach((U,te)=>{const ve=f.N_.get(U);if(!ve)return;f.N_.set(U,ve.withResumeToken(Vi.EMPTY_BYTE_STRING,ve.snapshotVersion)),wh(f,U);const Be=new eo(ve.target,U,te,ve.sequenceNumber);Bd(f,Be)}),f.remoteSyncer.applyRemoteEvent(N)}(l,i))}catch(s){St("RemoteStore","Failed to raise snapshot:",s),yield bc(l,s)}var s}),Mf.apply(this,arguments)}function bc(l,n,i){return Da.apply(this,arguments)}function Da(){return(Da=(0,ue.A)(function*(l,n,i){if(!Ti(n))throw n;l.L_.add(1),yield Gl(l),l.q_.set("Offline"),i||(i=()=>Tc(l.localStore)),l.asyncQueue.enqueueRetryable((0,ue.A)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield Gu(l)}))})).apply(this,arguments)}function td(l,n){return n().catch(i=>bc(l,i,n))}function Ku(l){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,ue.A)(function*(l){const n=ln(l),i=ql(n);let s=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;Kp(n);)try{const u=yield _(n.localStore,s);if(null===u){0===n.O_.length&&i.o_();break}s=u.batchId,C_(n,u)}catch(u){yield bc(n,u)}Of(n)&&Sh(n)})).apply(this,arguments)}function Kp(l){return Wu(l)&&l.O_.length<10}function C_(l,n){l.O_.push(n);const i=ql(l);i.r_()&&i.V_&&i.m_(n.mutations)}function Of(l){return Wu(l)&&!ql(l).n_()&&l.O_.length>0}function Sh(l){ql(l).start()}function xf(l){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,ue.A)(function*(l){ql(l).p_()})).apply(this,arguments)}function Xu(l){return kf.apply(this,arguments)}function kf(){return(kf=(0,ue.A)(function*(l){const n=ql(l);for(const i of l.O_)n.m_(i.mutations)})).apply(this,arguments)}function Kl(l,n,i){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,ue.A)(function*(l,n,i){const s=l.O_.shift(),u=Fa.from(s,n,i);yield td(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield Ku(l)})).apply(this,arguments)}function b_(l,n){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ue.A)(function*(l,n){var i;n&&ql(l).V_&&(yield(i=(0,ue.A)(function*(u,f){if(El(N=f.code)&&N!==$e.ABORTED){const E=u.O_.shift();ql(u).s_(),yield td(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,f)),yield Ku(u)}var N}),function s(u,f){return i.apply(this,arguments)})(l,n)),Of(l)&&Sh(l)}),Lf.apply(this,arguments)}function xm(l,n){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,ue.A)(function*(l,n){const i=ln(l);i.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const s=Wu(i);i.L_.add(3),yield Gl(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield Gu(i)})).apply(this,arguments)}function Rh(l,n){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,ue.A)(function*(l,n){const i=ln(l);n?(i.L_.delete(2),yield Gu(i)):n||(i.L_.add(2),yield Gl(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Dc(l){return l.K_||(l.K_=function(i,s,u){const f=ln(i);return f.w_(),new Ch(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:T_.bind(null,l),Ro:pn.bind(null,l),mo:Om.bind(null,l),d_:go.bind(null,l)}),l.B_.push(function(){var n=(0,ue.A)(function*(i){i?(l.K_.s_(),Rf(l)?Wl(l):l.q_.set("Unknown")):(yield l.K_.stop(),Nm(l))});return function(i){return n.apply(this,arguments)}}())),l.K_}function ql(l){return l.U_||(l.U_=function(i,s,u){const f=ln(i);return f.w_(),new bh(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xf.bind(null,l),mo:b_.bind(null,l),f_:Xu.bind(null,l),g_:Kl.bind(null,l)}),l.B_.push(function(){var n=(0,ue.A)(function*(i){i?(l.U_.s_(),yield Ku(l)):(yield l.U_.stop(),l.O_.length>0&&(St("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return n.apply(this,arguments)}}())),l.U_}class qp{constructor(n,i,s,u,f){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,f){const E=Date.now()+s,N=new qp(n,i,E,u,f);return N.start(s),N}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue($e.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nd(l,n){if(kn("AsyncQueue",`${n}: ${l}`),Ti(l))return new Ue($e.UNAVAILABLE,`${n}: ${l}`);throw l}class wc{constructor(n){this.comparator=n?(i,s)=>n(i,s)||Dn.comparator(i.key,s.key):(i,s)=>Dn.comparator(i.key,s.key),this.keyedMap=vl(),this.sortedSet=new _r(this.comparator)}static emptySet(n){return new wc(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof wc)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new wc;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class Qp{constructor(){this.W_=new _r(Dn.comparator)}track(n){const i=n.doc.key,s=this.W_.get(i);s?0!==n.type&&3===s.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.W_=this.W_.remove(i):1===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):qt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,s)=>{n.push(s)}),n}}class rd{constructor(n,i,s,u,f,E,N,U,te){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=E,this.syncStateChanged=N,this.excludesMetadataChanges=U,this.hasCachedResults=te}static fromInitialDocuments(n,i,s,u,f){const E=[];return i.forEach(N=>{E.push({type:0,doc:N})}),new rd(n,i,wc.emptySet(i),E,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&va(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class km{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class Lm{constructor(){this.queries=Ff(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=ln(i),f=u.queries;u.queries=Ff(),f.forEach((E,N)=>{for(const U of N.j_)U.onError(s)})}(this,new Ue($e.ABORTED,"Firestore shutting down"))}}function Ff(){return new Ns(l=>br(l),va)}function Yp(l,n){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,ue.A)(function*(l,n){const i=ln(l);let s=3;const u=n.query;let f=i.queries.get(u);f?!f.H_()&&n.J_()&&(s=2):(f=new km,s=n.J_()?0:1);try{switch(s){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(E){const N=nd(E,`Initialization of query '${ms(n.query)}' failed`);return void n.onError(N)}i.queries.set(u,f),f.j_.push(n),n.Z_(i.onlineState),f.z_&&n.X_(f.z_)&&Jp(i)})).apply(this,arguments)}function qu(l,n){return vo.apply(this,arguments)}function vo(){return(vo=(0,ue.A)(function*(l,n){const i=ln(l),s=n.query;let u=3;const f=i.queries.get(s);if(f){const E=f.j_.indexOf(n);E>=0&&(f.j_.splice(E,1),0===f.j_.length?u=n.J_()?0:1:!f.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function D_(l,n){const i=ln(l);let s=!1;for(const u of n){const E=i.queries.get(u.query);if(E){for(const N of E.j_)N.X_(u)&&(s=!0);E.z_=u}}s&&Jp(i)}function w_(l,n,i){const s=ln(l),u=s.queries.get(n);if(u)for(const f of u.j_)f.onError(i);s.queries.delete(n)}function Jp(l){l.Y_.forEach(n=>{n.next()})}var Zp,eg;(eg=Zp||(Zp={})).ea="default",eg.Cache="cache";class Vf{constructor(n,i,s){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new rd(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=rd.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==Zp.Cache}}class Mh{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class Ql{constructor(n){this.serializer=n}Es(n){return xs(this.serializer,n)}ds(n){return n.metadata.exists?$c(this.serializer,n.document,!1):gi.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return ho(n)}}class S_{constructor(n,i,s){this.ca=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Nh(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const s=tr.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,s=new Ql(this.serializer);for(const u of n)if(u.metadata.queries){const f=s.Es(u.metadata.name);for(const E of u.metadata.queries){const N=(i.get(E)||Fr()).add(f);i.set(E,N)}}return i}complete(){var n=this;return(0,ue.A)(function*(){const i=yield function cr(l,n,i,s){return hi.apply(this,arguments)}(n.localStore,new Ql(n.serializer),n.documents,n.ca.id),s=n.ha(n.documents);for(const u of n.queries)yield ks(n.localStore,u,s.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function Nh(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Oh{constructor(n){this.key=n}}class xh{constructor(n){this.key=n}}class Uf{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fr(),this.mutatedKeys=Fr(),this.Aa=iu(n),this.Ra=new wc(this.Aa)}get Va(){return this.Ta}ma(n,i){const s=i?i.fa:new Qp,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,E=u,N=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,te="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((ve,Be)=>{const pt=u.get(ve),Ht=oa(this.query,Be)?Be:null,fn=!!pt&&this.mutatedKeys.has(pt.key),Pn=!!Ht&&(Ht.hasLocalMutations||this.mutatedKeys.has(Ht.key)&&Ht.hasCommittedMutations);let On=!1;pt&&Ht?pt.data.isEqual(Ht.data)?fn!==Pn&&(s.track({type:3,doc:Ht}),On=!0):this.ga(pt,Ht)||(s.track({type:2,doc:Ht}),On=!0,(U&&this.Aa(Ht,U)>0||te&&this.Aa(Ht,te)<0)&&(N=!0)):!pt&&Ht?(s.track({type:0,doc:Ht}),On=!0):pt&&!Ht&&(s.track({type:1,doc:pt}),On=!0,(U||te)&&(N=!0)),On&&(Ht?(E=E.add(Ht),f=Pn?f.add(ve):f.delete(ve)):(E=E.delete(ve),f=f.delete(ve)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const ve="F"===this.query.limitType?E.last():E.first();E=E.delete(ve.key),f=f.delete(ve.key),s.track({type:1,doc:ve})}return{Ra:E,fa:s,ns:N,mutatedKeys:f}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const f=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const E=n.fa.G_();E.sort((ve,Be)=>function(Ht,fn){const Pn=On=>{switch(On){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return Pn(Ht)-Pn(fn)}(ve.type,Be.type)||this.Aa(ve.doc,Be.doc)),this.pa(s),u=null!=u&&u;const N=i&&!u?this.ya():[],U=0===this.da.size&&this.current&&!u?1:0,te=U!==this.Ea;return this.Ea=U,0!==E.length||te?{snapshot:new rd(this.query,n.Ra,f,E,n.mutatedKeys,0===U,te,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:N}:{wa:N}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=Fr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return n.forEach(s=>{this.da.has(s)||i.push(new xh(s))}),this.da.forEach(s=>{n.has(s)||i.push(new Oh(s))}),i}ba(n){this.Ta=n.Ts,this.da=Fr();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return rd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Fm{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class Vm{constructor(n){this.key=n,this.va=!1}}class R_{constructor(n,i,s,u,f,E){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=E,this.Ca={},this.Fa=new Ns(N=>br(N),va),this.Ma=new Map,this.xa=new Set,this.Oa=new _r(Dn.comparator),this.Na=new Map,this.La=new Vu,this.Ba={},this.ka=new Map,this.qa=po.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function $d(l,n){return id.apply(this,arguments)}function id(){return(id=(0,ue.A)(function*(l,n,i=!0){const s=Gd(l);let u;const f=s.Fa.get(n);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield tg(s,n,i,!0),u})).apply(this,arguments)}function P_(l,n){return kh.apply(this,arguments)}function kh(){return(kh=(0,ue.A)(function*(l,n){const i=Gd(l);yield tg(i,n,!0,!1)})).apply(this,arguments)}function tg(l,n,i,s){return ng.apply(this,arguments)}function ng(){return(ng=(0,ue.A)(function*(l,n,i,s){const u=yield S(l.localStore,Ko(n)),f=u.targetId,E=l.sharedClientState.addLocalQueryTarget(f,i);let N;return s&&(N=yield rg(l,n,f,"current"===E,u.resumeToken)),l.isPrimaryClient&&i&&Sf(l.remoteStore,u),N})).apply(this,arguments)}function rg(l,n,i,s,u){return ig.apply(this,arguments)}function ig(){return ig=(0,ue.A)(function*(l,n,i,s,u){l.Ka=(Be,pt,Ht)=>{return(fn=(0,ue.A)(function*(On,Er,kr,Dr){let Zr=Er.view.ma(kr);Zr.ns&&(Zr=yield Ct(On.localStore,Er.query,!1).then(({documents:lt})=>Er.view.ma(lt,Zr)));const $i=Dr&&Dr.targetChanges.get(Er.targetId),ri=Dr&&null!=Dr.targetMismatches.get(Er.targetId),xt=Er.view.applyChanges(Zr,On.isPrimaryClient,$i,ri);return gn(On,Er.targetId,xt.wa),xt.snapshot}),function Pn(On,Er,kr,Dr){return fn.apply(this,arguments)})(l,Be,pt,Ht);var fn};const f=yield Ct(l.localStore,n,!0),E=new Uf(n,f.Ts),N=E.ma(f.documents),U=co.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),te=E.applyChanges(N,l.isPrimaryClient,U);gn(l,i,te.wa);const ve=new Fm(n,i,E);return l.Fa.set(n,ve),l.Ma.has(i)?l.Ma.get(i).push(n):l.Ma.set(i,[n]),te.snapshot}),ig.apply(this,arguments)}function Y0(l,n,i){return Um.apply(this,arguments)}function Um(){return(Um=(0,ue.A)(function*(l,n,i){const s=ln(l),u=s.Fa.get(n),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(E=>!va(E,n))),void s.Fa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield ne(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&ed(s.remoteStore,u.targetId),Mt(s,u.targetId)}).catch(Xn))):(Mt(s,u.targetId),yield ne(s.localStore,u.targetId,!0))})).apply(this,arguments)}function og(l,n){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,ue.A)(function*(l,n){const i=ln(l),s=i.Fa.get(n),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ed(i.remoteStore,s.targetId))})).apply(this,arguments)}function od(){return(od=(0,ue.A)(function*(l,n,i){const s=lg(l);try{const u=yield function(E,N){const U=ln(E),te=Zn.now(),ve=N.reduce((Ht,fn)=>Ht.add(fn.key),Fr());let Be,pt;return U.persistence.runTransaction("Locally write mutations","readwrite",Ht=>{let fn=ds(),Pn=Fr();return U.cs.getEntries(Ht,ve).next(On=>{fn=On,fn.forEach((Er,kr)=>{kr.isValidDocument()||(Pn=Pn.add(Er))})}).next(()=>U.localDocuments.getOverlayedDocuments(Ht,fn)).next(On=>{Be=On;const Er=[];for(const kr of N){const Dr=Ur(kr,Be.get(kr.key).overlayedDocument);null!=Dr&&Er.push(new qn(kr.key,Dr,bs(Dr.value.mapValue),je.exists(!0)))}return U.mutationQueue.addMutationBatch(Ht,te,Er,N)}).next(On=>{pt=On;const Er=On.applyToLocalDocumentSet(Be,Pn);return U.documentOverlayCache.saveOverlays(Ht,On.batchId,Er)})}).then(()=>({batchId:pt.batchId,changes:ka(Be)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(E,N,U){let te=E.Ba[E.currentUser.toKey()];te||(te=new _r(Vn)),te=te.insert(N,U),E.Ba[E.currentUser.toKey()]=te}(s,u.batchId,i),yield Or(s,u.changes),yield Ku(s.remoteStore)}catch(u){const f=nd(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function Bm(l,n){return sd.apply(this,arguments)}function sd(){return(sd=(0,ue.A)(function*(l,n){const i=ln(l);try{const s=yield function b(l,n){const i=ln(l),s=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const E=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const N=[];n.targetChanges.forEach((ve,Be)=>{const pt=u.get(Be);if(!pt)return;N.push(i.Ur.removeMatchingKeys(f,ve.removedDocuments,Be).next(()=>i.Ur.addMatchingKeys(f,ve.addedDocuments,Be)));let Ht=pt.withSequenceNumber(f.currentSequenceNumber);var Pn,On,Er;null!==n.targetMismatches.get(Be)?Ht=Ht.withResumeToken(Vi.EMPTY_BYTE_STRING,zn.min()).withLastLimboFreeSnapshotVersion(zn.min()):ve.resumeToken.approximateByteSize()>0&&(Ht=Ht.withResumeToken(ve.resumeToken,s)),u=u.insert(Be,Ht),On=Ht,Er=ve,(0===(Pn=pt).resumeToken.approximateByteSize()||On.snapshotVersion.toMicroseconds()-Pn.snapshotVersion.toMicroseconds()>=3e8||Er.addedDocuments.size+Er.modifiedDocuments.size+Er.removedDocuments.size>0)&&N.push(i.Ur.updateTargetData(f,Ht))});let U=ds(),te=Fr();if(n.documentUpdates.forEach(ve=>{n.resolvedLimboDocuments.has(ve)&&N.push(i.persistence.referenceDelegate.updateLimboDocument(f,ve))}),N.push(p(f,E,n.documentUpdates).next(ve=>{U=ve.Ps,te=ve.Is})),!s.isEqual(zn.min())){const ve=i.Ur.getLastRemoteSnapshotVersion(f).next(Be=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));N.push(ve)}return ht.waitFor(N).next(()=>E.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,U,te)).next(()=>U)}).then(f=>(i.os=u,f))}(i.localStore,n);n.targetChanges.forEach((u,f)=>{const E=i.Na.get(f);E&&(Zt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?E.va=!0:u.modifiedDocuments.size>0?Zt(E.va):u.removedDocuments.size>0&&(Zt(E.va),E.va=!1))}),yield Or(i,s,n)}catch(s){yield Xn(s)}})).apply(this,arguments)}function $m(l,n,i){const s=ln(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((f,E)=>{const N=E.view.Z_(n);N.snapshot&&u.push(N.snapshot)}),function(E,N){const U=ln(E);U.onlineState=N;let te=!1;U.queries.forEach((ve,Be)=>{for(const pt of Be.j_)pt.Z_(N)&&(te=!0)}),te&&Jp(U)}(s.eventManager,n),u.length&&s.Ca.d_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function ag(l,n,i){return jd.apply(this,arguments)}function jd(){return(jd=(0,ue.A)(function*(l,n,i){const s=ln(l);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Na.get(n),f=u&&u.key;if(f){let E=new _r(Dn.comparator);E=E.insert(f,gi.newNoDocument(f,zn.min()));const N=Fr().add(f),U=new Nl(zn.min(),new Map,new _r(Vn),E,N);yield Bm(s,U),s.Oa=s.Oa.remove(f),s.Na.delete(n),dr(s)}else yield ne(s.localStore,n,!1).then(()=>Mt(s,n,i)).catch(Xn)})).apply(this,arguments)}function M_(l,n){return v.apply(this,arguments)}function v(){return(v=(0,ue.A)(function*(l,n){const i=ln(l),s=n.batch.batchId;try{const u=yield function Ac(l,n){const i=ln(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(N,U,te,ve){const Be=te.batch,pt=Be.keys();let Ht=ht.resolve();return pt.forEach(fn=>{Ht=Ht.next(()=>ve.getEntry(U,fn)).next(Pn=>{const On=te.docVersions.get(fn);Zt(null!==On),Pn.version.compareTo(On)<0&&(Be.applyToRemoteDocument(Pn,te),Pn.isValidDocument()&&(Pn.setReadTime(te.commitVersion),ve.addEntry(Pn)))})}),Ht.next(()=>N.mutationQueue.removeMutationBatch(U,Be))}(i,s,n,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(N){let U=Fr();for(let te=0;te<N.mutationResults.length;++te)N.mutationResults[te].transformResults.length>0&&(U=U.add(N.batch.mutations[te].key));return U}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);it(i,s,null),be(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Or(i,u)}catch(u){yield Xn(u)}})).apply(this,arguments)}function m(l,n,i){return P.apply(this,arguments)}function P(){return(P=(0,ue.A)(function*(l,n,i){const s=ln(l);try{const u=yield function(E,N){const U=ln(E);return U.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let ve;return U.mutationQueue.lookupMutationBatch(te,N).next(Be=>(Zt(null!==Be),ve=Be.keys(),U.mutationQueue.removeMutationBatch(te,Be))).next(()=>U.mutationQueue.performConsistencyCheck(te)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(te,ve,N)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(te,ve)).next(()=>U.localDocuments.getDocuments(te,ve))})}(s.localStore,n);it(s,n,i),be(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Or(s,u)}catch(u){yield Xn(u)}})).apply(this,arguments)}function Y(){return(Y=(0,ue.A)(function*(l,n){const i=ln(l);Wu(i.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(E){const N=ln(E);return N.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>N.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===s)return void n.resolve();const u=i.ka.get(s)||[];u.push(n),i.ka.set(s,u)}catch(s){const u=nd(s,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function be(l,n){(l.ka.get(n)||[]).forEach(i=>{i.resolve()}),l.ka.delete(n)}function it(l,n,i){const s=ln(l);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(n);f&&(i?f.reject(i):f.resolve(),u=u.remove(n)),s.Ba[s.currentUser.toKey()]=u}}function Mt(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Ma.get(n))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(n),l.isPrimaryClient&&l.La.gr(n).forEach(s=>{l.La.containsKey(s)||hn(l,s)})}function hn(l,n){l.xa.delete(n.path.canonicalString());const i=l.Oa.get(n);null!==i&&(ed(l.remoteStore,i),l.Oa=l.Oa.remove(n),l.Na.delete(i),dr(l))}function gn(l,n,i){for(const s of i)s instanceof Oh?(l.La.addReference(s.key,n),sr(l,s)):s instanceof xh?(St("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,n),l.La.containsKey(s.key)||hn(l,s.key)):qt()}function sr(l,n){const i=n.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(St("SyncEngine","New document in limbo: "+i),l.xa.add(s),dr(l))}function dr(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const n=l.xa.values().next().value;l.xa.delete(n);const i=new Dn(tr.fromString(n)),s=l.qa.next();l.Na.set(s,new Vm(i)),l.Oa=l.Oa.insert(i,s),Sf(l.remoteStore,new eo(Ko(us(i.path)),s,"TargetPurposeLimboResolution",Te.oe))}}function Or(l,n,i){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,ue.A)(function*(l,n,i){const s=ln(l),u=[],f=[],E=[];var N;s.Fa.isEmpty()||(s.Fa.forEach((N,U)=>{E.push(s.Ka(U,n,i).then(te=>{var ve;if((te||i)&&s.isPrimaryClient){const Be=te?!te.fromCache:null===(ve=null==i?void 0:i.targetChanges.get(U.targetId))||void 0===ve?void 0:ve.current;s.sharedClientState.updateQueryState(U.targetId,Be?"current":"not-current")}if(te){u.push(te);const Be=Ih.Wi(U.targetId,te);f.push(Be)}}))}),yield Promise.all(E),s.Ca.d_(u),yield(N=(0,ue.A)(function*(te,ve){const Be=ln(te);try{yield Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",pt=>ht.forEach(ve,Ht=>ht.forEach(Ht.$i,fn=>Be.persistence.referenceDelegate.addReference(pt,Ht.targetId,fn)).next(()=>ht.forEach(Ht.Ui,fn=>Be.persistence.referenceDelegate.removeReference(pt,Ht.targetId,fn)))))}catch(pt){if(!Ti(pt))throw pt;St("LocalStore","Failed to update sequence numbers: "+pt)}for(const pt of ve){const Ht=pt.targetId;if(!pt.fromCache){const fn=Be.os.get(Ht),On=fn.withLastLimboFreeSnapshotVersion(fn.snapshotVersion);Be.os=Be.os.insert(Ht,On)}}}),function U(te,ve){return N.apply(this,arguments)})(s.localStore,f))}),Jr.apply(this,arguments)}function pi(l,n){return xi.apply(this,arguments)}function xi(){return(xi=(0,ue.A)(function*(l,n){const i=ln(l);if(!i.currentUser.isEqual(n)){St("SyncEngine","User change. New user:",n.toKey());const s=yield Ic(i.localStore,n);i.currentUser=n,(f=i).ka.forEach(N=>{N.forEach(U=>{U.reject(new Ue($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Or(i,s.hs)}var f})).apply(this,arguments)}function xr(l,n){const i=ln(l),s=i.Na.get(n);if(s&&s.va)return Fr().add(s.key);{let u=Fr();const f=i.Ma.get(n);if(!f)return u;for(const E of f){const N=i.Fa.get(E);u=u.unionWith(N.view.Va)}return u}}function Yr(l,n){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,ue.A)(function*(l,n){const i=ln(l),s=yield Ct(i.localStore,n.query,!0),u=n.view.ba(s);return i.isPrimaryClient&&gn(i,n.targetId,u.wa),u})).apply(this,arguments)}function Zi(l,n){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,ue.A)(function*(l,n){const i=ln(l);return Cn(i.localStore,n).then(s=>Or(i,s))})).apply(this,arguments)}function es(l,n,i,s){return ts.apply(this,arguments)}function ts(){return(ts=(0,ue.A)(function*(l,n,i,s){const u=ln(l),f=yield function(N,U){const te=ln(N),ve=ln(te.mutationQueue);return te.persistence.runTransaction("Lookup mutation documents","readonly",Be=>ve.Mn(Be,U).next(pt=>pt?te.localDocuments.getDocuments(Be,pt):ht.resolve(null)))}(u.localStore,n);var U;null!==f?("pending"===i?yield Ku(u.remoteStore):"acknowledged"===i||"rejected"===i?(it(u,n,s||null),be(u,n),U=n,ln(ln(u.localStore).mutationQueue).On(U)):qt(),yield Or(u,f)):St("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Dl(){return(Dl=(0,ue.A)(function*(l,n){const i=ln(l);if(Gd(i),lg(i),!0===n&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield Yu(i,s.toArray());i.Qa=!0,yield Rh(i.remoteStore,!0);for(const f of u)Sf(i.remoteStore,f)}else if(!1===n&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((f,E)=>{i.sharedClientState.isLocalQueryTarget(E)?s.push(E):u=u.then(()=>(Mt(i,E),ne(i.localStore,E,!0))),ed(i.remoteStore,E)}),yield u,yield Yu(i,s),function(E){const N=ln(E);N.Na.forEach((U,te)=>{ed(N.remoteStore,te)}),N.La.pr(),N.Na=new Map,N.Oa=new _r(Dn.comparator)}(i),i.Qa=!1,yield Rh(i.remoteStore,!1)}})).apply(this,arguments)}function Yu(l,n,i){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,ue.A)(function*(l,n,i){const s=ln(l),u=[],f=[];for(const E of n){let N;const U=s.Ma.get(E);if(U&&0!==U.length){N=yield S(s.localStore,Ko(U[0]));for(const te of U){const ve=s.Fa.get(te),Be=yield Yr(s,ve);Be.snapshot&&f.push(Be.snapshot)}}else{const te=yield Yt(s.localStore,E);N=yield S(s.localStore,te),yield rg(s,Ju(te),E,!1,N.resumeToken)}u.push(N)}return s.Ca.d_(f),u})).apply(this,arguments)}function Ju(l){return Za(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Lh(l){return i=ln(l).localStore,ln(ln(i).persistence).Qi();var i}function Fh(l,n,i,s){return zd.apply(this,arguments)}function zd(){return(zd=(0,ue.A)(function*(l,n,i,s){const u=ln(l);if(u.Qa)return void St("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(n);if(f&&f.length>0)switch(i){case"current":case"not-current":{const E=yield Cn(u.localStore,el(f[0])),N=Nl.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,Vi.EMPTY_BYTE_STRING);yield Or(u,E,N);break}case"rejected":yield ne(u.localStore,n,!0),Mt(u,n,s);break;default:qt()}})).apply(this,arguments)}function Bf(l,n,i){return $f.apply(this,arguments)}function $f(){return($f=(0,ue.A)(function*(l,n,i){const s=Gd(l);if(s.Qa){for(const u of n){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){St("SyncEngine","Adding an already active target "+u);continue}const f=yield Yt(s.localStore,u),E=yield S(s.localStore,f);yield rg(s,Ju(f),E.targetId,!1,E.resumeToken),Sf(s.remoteStore,E)}for(const u of i)s.Ma.has(u)&&(yield ne(s.localStore,u,!1).then(()=>{ed(s.remoteStore,u),Mt(s,u)}).catch(Xn))}})).apply(this,arguments)}function Gd(l){const n=ln(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=xr.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ag.bind(null,n),n.Ca.d_=D_.bind(null,n.eventManager),n.Ca.$a=w_.bind(null,n.eventManager),n}function lg(l){const n=ln(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=M_.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=m.bind(null,n),n}let Vh=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,ue.A)(function*(){s.serializer=Jc(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return zp(this.persistence,new Df,i.initialUser,this.serializer)}Ga(i){return new ua($u.Zr,this.serializer)}Wa(i){return new Is}terminate(){var i=this;return(0,ue.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class ug extends Vh{constructor(n,i,s){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,ue.A)(function*(){yield i().call(s,n),yield s.Ja.initialize(s,n),yield lg(s.Ja.syncEngine),yield Ku(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return zp(this.persistence,new Df,n.initialUser,this.serializer)}ja(n,i){return new Bi(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const s=new Je(i,this.persistence);return new _o(n.asyncQueue,s)}Ga(n){const i=Ld(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new Hu(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,Th(),Vd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new Is}}class N_ extends ug{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,ue.A)(function*(){yield i().call(s,n);const u=s.Ja.syncEngine;s.sharedClientState instanceof Hl&&(s.sharedClientState.syncEngine={no:es.bind(null,u),ro:Fh.bind(null,u),io:Bf.bind(null,u),Qi:Lh.bind(null,u),eo:Zi.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var f=(0,ue.A)(function*(E){yield function To(l,n){return Dl.apply(this,arguments)}(s.Ja.syncEngine,E),s.gcScheduler&&(E&&!s.gcScheduler.started?s.gcScheduler.start():E||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(E&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():E||s.indexBackfillerScheduler.stop())});return function(E){return f.apply(this,arguments)}}())})()}Wa(n){const i=Th();if(!Hl.D(i))throw new Ue($e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Ld(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Hl(i,n.asyncQueue,s,n.clientId,n.initialUser)}}let Wd=(()=>{class l{initialize(i,s){var u=this;return(0,ue.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>$m(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=pi.bind(null,u.syncEngine),yield Rh(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Lm}createDatastore(i){const s=Jc(i.databaseInfo.databaseId),u=new ba(i.databaseInfo);return new Dh(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,f=this.datastore,E=i.asyncQueue,N=s=>$m(this.syncEngine,s,0),U=Ta.D()?new Ta:new wf,new Qr(u,f,E,N,U);var u,f,E,N,U}createSyncEngine(i,s){return function(f,E,N,U,te,ve,Be){const pt=new R_(f,E,N,U,te,ve);return Be&&(pt.Qa=!0),pt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,ue.A)(function*(){var s,u,f;yield(f=(0,ue.A)(function*(N){const U=ln(N);St("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield Gl(U),U.k_.shutdown(),U.q_.set("Unknown")}),function E(N){return f.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function O_(l,n=10240){let i=0;return{read:()=>(0,ue.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,ue.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cg{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):kn("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class xA{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new Lt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,ue.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,ue.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,ue.A)(function*(){const i=yield n.nu();if(null===i)return null;const s=n.eu.decode(i),u=Number(s);isNaN(u)&&n.ru(`length string (${s}) is not valid number`);const f=yield n.iu(u);return new Mh(JSON.parse(f),i.length+u)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,ue.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}iu(n){var i=this;return(0,ue.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,ue.A)(function*(){const i=yield n.Xa.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class x_{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,ue.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Ue($e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,ue.A)(function*(E,N){const U=ln(E),te={documents:N.map(Ht=>Ua(U.serializer,Ht))},ve=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,tr.emptyPath(),te,N.length),Be=new Map;ve.forEach(Ht=>{const fn=function C(l,n){return"found"in n?function(s,u){Zt(!!u.found);const f=xs(s,u.found.name),E=ho(u.found.updateTime),N=u.found.createTime?ho(u.found.createTime):zn.min(),U=new Eo({mapValue:{fields:u.found.fields}});return gi.newFoundDocument(f,E,N,U)}(l,n):"missing"in n?function(s,u){Zt(!!u.missing),Zt(!!u.readTime);const f=xs(s,u.missing),E=ho(u.readTime);return gi.newNoDocument(f,E)}(l,n):qt()}(U.serializer,Ht);Be.set(fn.key.toString(),fn)});const pt=[];return N.forEach(Ht=>{const fn=Be.get(Ht.toString());Zt(!!fn),pt.push(fn)}),pt}),function f(E,N){return u.apply(this,arguments)})(i.datastore,n);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new ys(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,ue.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const f=Dn.fromPath(u);n.mutations.push(new ws(f,n.precondition(f)))}),yield(s=(0,ue.A)(function*(f,E){const N=ln(f),U={writes:E.map(te=>V(N.serializer,te))};yield N.Mo("Commit",N.serializer.databaseId,tr.emptyPath(),U)}),function u(f,E){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw qt();i=zn.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new Ue($e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(zn.min())?je.exists(!1):je.updateTime(i):je.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(zn.min()))throw new Ue($e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return je.updateTime(i)}return je.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class k_{constructor(n,i,s,u,f){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=f,this._u=s.maxAttempts,this.t_=new Zc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,ue.A)(function*(){const i=new x_(n.datastore),s=n.cu(i);s&&s.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(f=>{n.lu(f)}))}).catch(u=>{n.lu(u)})}))}cu(n){try{const i=this.updateFunction(n);return!Et(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!El(i)}return!1}}class wa{constructor(n,i,s,u,f){var E=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=at.UNAUTHENTICATED,this.clientId=Ni.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var N=(0,ue.A)(function*(U){St("FirestoreClient","Received user=",U.uid),yield E.authCredentialListener(U),E.user=U});return function(U){return N.apply(this,arguments)}}()),this.appCheckCredentials.start(s,N=>(St("FirestoreClient","Received new app check token=",N),this.appCheckCredentialListener(N,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=nd(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function L_(l,n){return jm.apply(this,arguments)}function jm(){return jm=(0,ue.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,ue.A)(function*(f){s.isEqual(f)||(yield Ic(n.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),jm.apply(this,arguments)}function eE(l,n){return dg.apply(this,arguments)}function dg(){return(dg=(0,ue.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield F_(l);St("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>xm(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>xm(n.remoteStore,u)),l._onlineComponents=n})).apply(this,arguments)}function F_(l){return jf.apply(this,arguments)}function jf(){return(jf=(0,ue.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){St("FirestoreClient","Using user provided OfflineComponentProvider");try{yield L_(l,l._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===$e.FAILED_PRECONDITION||u.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Ln("Error using user provided cache. Falling back to memory cache: "+n),yield L_(l,new Vh)}}else St("FirestoreClient","Using default OfflineComponentProvider"),yield L_(l,new Vh);var u;return l._offlineComponents})).apply(this,arguments)}function Hf(l){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,ue.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(St("FirestoreClient","Using user provided OnlineComponentProvider"),yield eE(l,l._uninitializedComponentsProvider._online)):(St("FirestoreClient","Using default OnlineComponentProvider"),yield eE(l,new Wd))),l._onlineComponents})).apply(this,arguments)}function V_(l){return F_(l).then(n=>n.persistence)}function Uh(l){return F_(l).then(n=>n.localStore)}function ad(l){return Hf(l).then(n=>n.remoteStore)}function U_(l){return Hf(l).then(n=>n.syncEngine)}function Ka(l){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,ue.A)(function*(l){const n=yield Hf(l),i=n.eventManager;return i.onListen=$d.bind(null,n.syncEngine),i.onUnlisten=Y0.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=P_.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=og.bind(null,n.syncEngine),i})).apply(this,arguments)}function hg(l,n,i={}){const s=new Lt;return l.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(f,E,N,U,te){const ve=new cg({next:pt=>{ve.Za(),E.enqueueAndForget(()=>qu(f,Be));const Ht=pt.docs.has(N);!Ht&&pt.fromCache?te.reject(new Ue($e.UNAVAILABLE,"Failed to get document because the client is offline.")):Ht&&pt.fromCache&&U&&"server"===U.source?te.reject(new Ue($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(pt)},error:pt=>te.reject(pt)}),Be=new Vf(us(N.path),ve,{includeMetadataChanges:!0,_a:!0});return Yp(f,Be)}(yield Ka(l),l.asyncQueue,n,i,s)})),s.promise}function H_(l,n,i={}){const s=new Lt;return l.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function(f,E,N,U,te){const ve=new cg({next:pt=>{ve.Za(),E.enqueueAndForget(()=>qu(f,Be)),pt.fromCache&&"server"===U.source?te.reject(new Ue($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(pt)},error:pt=>te.reject(pt)}),Be=new Vf(N,ve,{includeMetadataChanges:!0,_a:!0});return Yp(f,Be)}(yield Ka(l),l.asyncQueue,n,i,s)})),s.promise}function Gm(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const pg=new Map;function Wm(l,n,i){if(!i)throw new Ue($e.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function G_(l,n,i,s){if(!0===n&&!0===s)throw new Ue($e.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function Km(l){if(!Dn.isDocumentKey(l))throw new Ue($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function W_(l){if(Dn.isDocumentKey(l))throw new Ue($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Yl(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":qt()}function Fi(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new Ue($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Yl(l);throw new Ue($e.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function Xm(l,n){if(n<=0)throw new Ue($e.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class iE{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Ue($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ue($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}G_("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Gm(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Ue($e.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Ue($e.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Ue($e.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class gg{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ue($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new ir;switch(s.type){case"firstParty":return new gr(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ue($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,ue.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=pg.get(i);s&&(St("ComponentProvider","Removing Datastore"),pg.delete(i),s.terminate())}(this),Promise.resolve()}}class Sa{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Sa(this.firestore,n,this._query)}}class Qo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Qo(this.firestore,n,this._key)}}class Zu extends Sa{constructor(n,i,s){super(n,i,us(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Qo(this.firestore,null,new Dn(n))}withConverter(n){return new Zu(this.firestore,n,this._path)}}function Xd(l,n,...i){if(l=(0,nt.Ku)(l),Wm("collection","path",n),l instanceof gg){const s=tr.fromString(n,...i);return W_(s),new Zu(l,null,s)}{if(!(l instanceof Qo||l instanceof Zu))throw new Ue($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(tr.fromString(n,...i));return W_(s),new Zu(l.firestore,null,s)}}function Gf(l,n,...i){if(l=(0,nt.Ku)(l),1===arguments.length&&(n=Ni.newId()),Wm("doc","path",n),l instanceof gg){const s=tr.fromString(n,...i);return Km(s),new Qo(l,null,new Dn(s))}{if(!(l instanceof Qo||l instanceof Zu))throw new Ue($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(tr.fromString(n,...i));return Km(s),new Qo(l.firestore,l instanceof Zu?l.converter:null,new Dn(s))}}function K_(l,n){return l=(0,nt.Ku)(l),n=(0,nt.Ku)(n),(l instanceof Qo||l instanceof Zu)&&(n instanceof Qo||n instanceof Zu)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function Wf(l,n){return l=(0,nt.Ku)(l),n=(0,nt.Ku)(n),l instanceof Sa&&n instanceof Sa&&l.firestore===n.firestore&&va(l._query,n._query)&&l.converter===n.converter}class $h{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Zc(this,"async_queue_retry"),this.Vu=()=>{const s=Vd();s&&St("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=n;const i=Vd();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=Vd();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new Lt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,ue.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!Ti(i))throw i;St("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(s=>{throw this.Eu=s,this.du=!1,kn("INTERNAL UNHANDLED ERROR: ",function(E){let N=E.message||"";return E.stack&&(N=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),N}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(n,i,s){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const u=qp.createAndSchedule(this,n,i,s,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&qt()}verifyOperationInProgress(){}wu(){var n=this;return(0,ue.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function qm(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(l)}class Qm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class uo extends gg{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new $h,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,ue.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new $h(i),n._firestoreClient=void 0,yield i}})()}}function Bo(l){if(l._terminated)throw new Ue($e.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||q_(l),l._firestoreClient}function q_(l){var n,i,s;const u=l._freezeSettings(),f=(U=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new Qt(l._databaseId,U,l._persistenceKey,(ve=u).host,ve.ssl,ve.experimentalForceLongPolling,ve.experimentalAutoDetectLongPolling,Gm(ve.experimentalLongPollingOptions),ve.useFetchStreams));var U,ve;l._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new wa(l._authCredentials,l._appCheckCredentials,l._queue,f,l._componentsProvider&&function(N){const U=null==N?void 0:N._online.build();return{_offline:null==N?void 0:N._offline.build(U),_online:U}}(l._componentsProvider))}function vg(){return(vg=(0,ue.A)(function*(l){Ln("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=l._freezeSettings();_g(l,Wd.provider,{build:i=>new N_(i,n.cacheSizeBytes)})})).apply(this,arguments)}function _g(l,n,i){if((l=Fi(l,uo))._firestoreClient||l._terminated)throw new Ue($e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new Ue($e.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:n,_offline:i},q_(l)}class Eu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Eu(Vi.fromBase64String(n))}catch(i){throw new Ue($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Eu(Vi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ec{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Ue($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ld{constructor(n){this._methodName=n}}class yg{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Ue($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Ue($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Vn(this._lat,n._lat)||Vn(this._long,n._long)}}class Kf{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,n._values)}}const cE=/^__.*__$/;class Y_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new qn(n,this.data,this.fieldMask,i,this.fieldTransforms):new di(n,this.data,i,this.fieldTransforms)}}class J_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new qn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function Z_(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class Eg{constructor(n,i,s,u,f,E){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new Eg(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.Ou(n),u}Nu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return Dg(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if(Z_(this.Cu)&&cE.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class dE{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||Jc(n)}Qu(n,i,s,u=!1){return new Eg({Cu:n,methodName:i,qu:s,path:Ar.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ud(l){const n=l._freezeSettings(),i=Jc(l._databaseId);return new dE(l._databaseId,!!n.ignoreUndefinedProperties,i)}function Xf(l,n,i,s,u,f={}){const E=l.Qu(f.merge||f.mergeFields?2:0,n,i,u);bg("Data must be an object, but it was:",E,s);const N=tv(s,E);let U,te;if(f.merge)U=new Ci(E.fieldMask),te=E.fieldTransforms;else if(f.mergeFields){const ve=[];for(const Be of f.mergeFields){const pt=Qf(n,Be,i);if(!E.contains(pt))throw new Ue($e.INVALID_ARGUMENT,`Field '${pt}' is specified in your field mask but missing from your input data.`);rv(ve,pt)||ve.push(pt)}U=new Ci(ve),te=E.fieldTransforms.filter(Be=>U.covers(Be.field))}else U=null,te=E.fieldTransforms;return new Y_(new Eo(N),U,te)}class Hh extends ld{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Hh}}function qf(l,n,i){return new Eg({Cu:3,qu:n.settings.qu,methodName:l._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class Ig extends ld{_toFieldTransform(n){return new Le(n.path,new Kr)}isEqual(n){return n instanceof Ig}}class Ag extends ld{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=qf(this,n,!0),s=this.Ku.map(f=>qd(f,i)),u=new Os(s);return new Le(n.path,u)}isEqual(n){return n instanceof Ag&&(0,nt.bD)(this.Ku,n.Ku)}}class Tg extends ld{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=qf(this,n,!0),s=this.Ku.map(f=>qd(f,i)),u=new Xi(s);return new Le(n.path,u)}isEqual(n){return n instanceof Tg&&(0,nt.bD)(this.Ku,n.Ku)}}class Cg extends ld{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new yl(n.serializer,Ds(n.serializer,this.$u));return new Le(n.path,i)}isEqual(n){return n instanceof Cg&&this.$u===n.$u}}function Zm(l,n,i,s){const u=l.Qu(1,n,i);bg("Data must be an object, but it was:",u,s);const f=[],E=Eo.empty();is(s,(U,te)=>{const ve=nv(n,U,i);te=(0,nt.Ku)(te);const Be=u.Nu(ve);if(te instanceof Hh)f.push(ve);else{const pt=qd(te,Be);null!=pt&&(f.push(ve),E.set(ve,pt))}});const N=new Ci(f);return new J_(E,N,u.fieldTransforms)}function ev(l,n,i,s,u,f){const E=l.Qu(1,n,i),N=[Qf(n,s,i)],U=[u];if(f.length%2!=0)throw new Ue($e.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pt=0;pt<f.length;pt+=2)N.push(Qf(n,f[pt])),U.push(f[pt+1]);const te=[],ve=Eo.empty();for(let pt=N.length-1;pt>=0;--pt)if(!rv(te,N[pt])){const Ht=N[pt];let fn=U[pt];fn=(0,nt.Ku)(fn);const Pn=E.Nu(Ht);if(fn instanceof Hh)te.push(Ht);else{const On=qd(fn,Pn);null!=On&&(te.push(Ht),ve.set(Ht,On))}}const Be=new Ci(te);return new J_(ve,Be,E.fieldTransforms)}function ey(l,n,i,s=!1){return qd(i,l.Qu(s?4:3,n))}function qd(l,n){if(hE(l=(0,nt.Ku)(l)))return bg("Unsupported field value:",n,l),tv(l,n);if(l instanceof ld)return function(s,u){if(!Z_(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(s,u){const f=[];let E=0;for(const N of s){let U=qd(N,u.Lu(E));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),E++}return{arrayValue:{values:f}}}(l,n)}return function(s,u){if(null===(s=(0,nt.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ds(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=Zn.fromDate(s);return{timestampValue:Yo(u.serializer,f)}}if(s instanceof Zn){const f=new Zn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,f)}}if(s instanceof yg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eu)return{bytesValue:au(u.serializer,s._byteString)};if(s instanceof Qo){const f=u.databaseId,E=s.firestore._databaseId;if(!E.isEqual(f))throw u.Bu(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:lu(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Kf)return N=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(U=>{if("number"!=typeof U)throw N.Bu("VectorValues must only contain numeric values.");return bi(N.serializer,U)})}}}}};var N;throw u.Bu(`Unsupported field value: ${Yl(s)}`)}(l,n)}function tv(l,n){const i={};return Qi(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):is(l,(s,u)=>{const f=qd(u,n.Mu(s));null!=f&&(i[s]=f)}),{mapValue:{fields:i}}}function hE(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Zn||l instanceof yg||l instanceof Eu||l instanceof Qo||l instanceof ld||l instanceof Kf)}function bg(l,n,i){if(!hE(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Yl(i);throw n.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function Qf(l,n,i){if((n=(0,nt.Ku)(n))instanceof ec)return n._internalPath;if("string"==typeof n)return nv(l,n);throw Dg("Field path arguments must be of type string or ",l,!1,void 0,i)}const fE=new RegExp("[~\\*/\\[\\]]");function nv(l,n,i){if(n.search(fE)>=0)throw Dg(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new ec(...n.split("."))._internalPath}catch{throw Dg(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Dg(l,n,i,s,u){const f=s&&!s.isEmpty(),E=void 0!==u;let N=`Function ${n}() called with invalid data`;i&&(N+=" (via `toFirestore()`)"),N+=". ";let U="";return(f||E)&&(U+=" (found",f&&(U+=` in field ${s}`),E&&(U+=` in document ${u}`),U+=")"),new Ue($e.INVALID_ARGUMENT,N+l+U)}function rv(l,n){return l.some(i=>i.isEqual(n))}class Qd{constructor(n,i,s,u,f){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new pE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Iu("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class pE extends Qd{data(){return super.data()}}function Iu(l,n){return"string"==typeof n?nv(l,n):n instanceof ec?n._internalPath:n._delegate._internalPath}function Yf(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Ue($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class zh extends iv{}function Au(l,n,...i){let s=[];n instanceof iv&&s.push(n),s=s.concat(i),function(f){const E=f.filter(U=>U instanceof Gh).length,N=f.filter(U=>U instanceof wg).length;if(E>1||E>0&&N>0)throw new Ue($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class wg extends zh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new wg(n,i,s)}_apply(n){const i=this._parse(n);return eh(n._query,i),new Sa(n.firestore,n.converter,ma(n._query,i))}_parse(n){const i=ud(n.firestore);return function(f,E,N,U,te,ve,Be){let pt;if(te.isKeyField()){if("array-contains"===ve||"array-contains-any"===ve)throw new Ue($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ve}' queries on documentId().`);if("in"===ve||"not-in"===ve){qh(Be,ve);const Ht=[];for(const fn of Be)Ht.push(Sg(U,f,fn));pt={arrayValue:{values:Ht}}}else pt=Sg(U,f,Be)}else"in"!==ve&&"not-in"!==ve&&"array-contains-any"!==ve||qh(Be,ve),pt=ey(N,"where",Be,"in"===ve||"not-in"===ve);return Vr.create(te,ve,pt)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class Gh extends iv{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Gh(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:mi.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,f){let E=u;const N=f.getFlattenedFilters();for(const U of N)eh(E,U),E=ma(E,U)}(n._query,i),new Sa(n.firestore,n.converter,ma(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ty extends zh{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new ty(n,i)}_apply(n){const i=function(u,f,E){if(null!==u.startAt)throw new Ue($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Ue($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qr(f,E)}(n._query,this._field,this._direction);return new Sa(n.firestore,n.converter,function(u,f){const E=u.explicitOrderBy.concat([f]);return new Pr(u.path,u.collectionGroup,E,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class Yd extends zh{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new Yd(n,i,s)}_apply(n){return new Sa(n.firestore,n.converter,ml(n._query,this._limit,this._limitType))}}class Wh extends zh{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Wh(n,i,s)}_apply(n){const i=Zd(n,this.type,this._docOrFields,this._inclusive);return new Sa(n.firestore,n.converter,(f=i,new Pr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Jd extends zh{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Jd(n,i,s)}_apply(n){const i=Zd(n,this.type,this._docOrFields,this._inclusive);return new Sa(n.firestore,n.converter,(f=i,new Pr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Zd(l,n,i,s){if(i[0]=(0,nt.Ku)(i[0]),i[0]instanceof Qd)return function(f,E,N,U,te){if(!U)throw new Ue($e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${N}().`);const ve=[];for(const Be of ia(f))if(Be.field.isKeyField())ve.push(ss(E,U.key));else{const pt=U.data.field(Be.field);if(z(pt))throw new Ue($e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pt){const Ht=Be.field.canonicalString();throw new Ue($e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ht}' (used as the orderBy) does not exist.`)}ve.push(pt)}return new Wi(ve,te)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const u=ud(l.firestore);return function(E,N,U,te,ve,Be){const pt=E.explicitOrderBy;if(ve.length>pt.length)throw new Ue($e.INVALID_ARGUMENT,`Too many arguments provided to ${te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ht=[];for(let fn=0;fn<ve.length;fn++){const Pn=ve[fn];if(pt[fn].field.isKeyField()){if("string"!=typeof Pn)throw new Ue($e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${te}(), but got a ${typeof Pn}`);if(!Gs(E)&&-1!==Pn.indexOf("/"))throw new Ue($e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${te}() must be a plain document ID, but '${Pn}' contains a slash.`);const On=E.path.child(tr.fromString(Pn));if(!Dn.isDocumentKey(On))throw new Ue($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${te}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const Er=new Dn(On);Ht.push(ss(N,Er))}else{const On=ey(U,te,Pn);Ht.push(On)}}return new Wi(Ht,Be)}(l._query,l.firestore._databaseId,u,n,i,s)}}function Sg(l,n,i){if("string"==typeof(i=(0,nt.Ku)(i))){if(""===i)throw new Ue($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gs(n)&&-1!==i.indexOf("/"))throw new Ue($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(tr.fromString(i));if(!Dn.isDocumentKey(s))throw new Ue($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ss(l,new Dn(s))}if(i instanceof Qo)return ss(l,i._key);throw new Ue($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yl(i)}.`)}function qh(l,n){if(!Array.isArray(l)||0===l.length)throw new Ue($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function eh(l,n){const i=function(u,f){for(const E of u)for(const N of E.getFlattenedFilters())if(f.indexOf(N.op)>=0)return N.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Ue($e.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class ny{convertValue(n,i="none"){switch(Fn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return O(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(T(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw qt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return is(n,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertVectorValue(n){var i,s,u;const f=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(E=>O(E.doubleValue));return new Kf(f)}convertGeoPoint(n){return new yg(O(n.latitude),O(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=ae(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(dt(n));default:return null}}convertTimestamp(n){const i=A(n);return new Zn(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=tr.fromString(n);Zt(Mo(s));const u=new rn(s.get(1),s.get(3)),f=new Dn(s.popFirst(5));return u.isEqual(i)||kn(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function Qh(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class tp extends ny{constructor(n){super(),this.firestore=n}convertBytes(n){return new Eu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Qo(this.firestore,null,i)}}class cd{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Sc extends Qd{constructor(n,i,s,u,f,E){super(n,i,s,u,E),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Iu("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class np extends Sc{data(n={}){return super.data(n)}}class Jl{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new cd(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new np(this._firestore,this._userDataWriter,s.key,s,new cd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ue($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let E=0;return u._snapshot.docChanges.map(N=>({type:"added",doc:new np(u._firestore,u._userDataWriter,N.doc.key,N.doc,new cd(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:E++}))}{let E=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(N=>f||3!==N.type).map(N=>{const U=new np(u._firestore,u._userDataWriter,N.doc.key,N.doc,new cd(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter);let te=-1,ve=-1;return 0!==N.type&&(te=E.indexOf(N.doc.key),E=E.delete(N.doc.key)),1!==N.type&&(E=E.add(N.doc),ve=E.indexOf(N.doc.key)),{type:iy(N.type),doc:U,oldIndex:te,newIndex:ve}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function iy(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function Rg(l,n){return l instanceof Sc&&n instanceof Sc?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof Jl&&n instanceof Jl&&l._firestore===n._firestore&&Wf(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}class th extends ny{constructor(n){super(),this.firestore=n}convertBytes(n){return new Eu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Qo(this.firestore,null,i)}}function av(l,n,i){l=Fi(l,Qo);const s=Fi(l.firestore,uo),u=Qh(l.converter,n,i);return rh(s,[Xf(ud(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,je.none())])}function oy(l,n,i,...s){l=Fi(l,Qo);const u=Fi(l.firestore,uo),f=ud(u);let E;return E="string"==typeof(n=(0,nt.Ku)(n))||n instanceof ec?ev(f,"updateDoc",l._key,n,i,s):Zm(f,"updateDoc",l._key,n),rh(u,[E.toMutation(l._key,je.exists(!0))])}function uv(l,...n){var i,s,u;l=(0,nt.Ku)(l);let f={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof n[E]||qm(n[E])||(f=n[E],E++);const N={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(qm(n[E])){const Be=n[E];n[E]=null===(i=Be.next)||void 0===i?void 0:i.bind(Be),n[E+1]=null===(s=Be.error)||void 0===s?void 0:s.bind(Be),n[E+2]=null===(u=Be.complete)||void 0===u?void 0:u.bind(Be)}let U,te,ve;if(l instanceof Qo)te=Fi(l.firestore,uo),ve=us(l._key.path),U={next:Be=>{n[E]&&n[E](Yh(te,l,Be))},error:n[E+1],complete:n[E+2]};else{const Be=Fi(l,Sa);te=Fi(Be.firestore,uo),ve=Be._query;const pt=new th(te);U={next:Ht=>{n[E]&&n[E](new Jl(te,pt,Be,Ht))},error:n[E+1],complete:n[E+2]},Yf(l._query)}return function(pt,Ht,fn,Pn){const On=new cg(Pn),Er=new Vf(Ht,On,fn);return pt.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return Yp(yield Ka(pt),Er)})),()=>{On.Za(),pt.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return qu(yield Ka(pt),Er)}))}}(Bo(te),ve,N,U)}function rh(l,n){return function(s,u){const f=new Lt;return s.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function sg(l,n,i){return od.apply(this,arguments)}(yield U_(s),u,f)})),f.promise}(Bo(l),n)}function Yh(l,n,i){const s=i.docs.get(n._key),u=new th(l);return new Sc(l,u,n._key,s,new cd(i.hasPendingWrites,i.fromCache),n.converter)}const hy={maxAttempts:5};class hv{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ud(n)}set(n,i,s){this._verifyNotCommitted();const u=Rc(n,this._firestore),f=Qh(u.converter,i,s),E=Xf(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(E.toMutation(u._key,je.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const f=Rc(n,this._firestore);let E;return E="string"==typeof(i=(0,nt.Ku)(i))||i instanceof ec?ev(this._dataReader,"WriteBatch.update",f._key,i,s,u):Zm(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(E.toMutation(f._key,je.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Rc(n,this._firestore);return this._mutations=this._mutations.concat(new ys(i._key,je.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue($e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rc(l,n){if((l=(0,nt.Ku)(l)).firestore!==n)throw new Ue($e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class fy extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=ud(i)}get(i){const s=Rc(i,this._firestore),u=new tp(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return qt();const E=f[0];if(E.isFoundDocument())return new Qd(this._firestore,u,E.key,E,s.converter);if(E.isNoDocument())return new Qd(this._firestore,u,s._key,null,s.converter);throw qt()})}set(i,s,u){const f=Rc(i,this._firestore),E=Qh(f.converter,s,u),N=Xf(this._dataReader,"Transaction.set",f._key,E,null!==f.converter,u);return this._transaction.set(f._key,N),this}update(i,s,u,...f){const E=Rc(i,this._firestore);let N;return N="string"==typeof(s=(0,nt.Ku)(s))||s instanceof ec?ev(this._dataReader,"Transaction.update",E._key,s,u,f):Zm(this._dataReader,"Transaction.update",E._key,s),this._transaction.update(E._key,N),this}delete(i){const s=Rc(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Rc(n,this._firestore),s=new th(this._firestore);return super.get(n).then(u=>new Sc(this._firestore,s,i._key,u._document,new cd(!1,!1),i.converter))}}function yy(l,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return n}function RE(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function PE(){if(!function fs(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){Ft=De.SDK_VERSION,(0,De._registerComponent)(new Re.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const E=s.getProvider("app").getImmediate(),N=new uo(new Hn(s.getProvider("auth-internal")),new mr(s.getProvider("app-check-internal")),function(te,ve){if(!Object.prototype.hasOwnProperty.apply(te.options,["projectId"]))throw new Ue($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rn(te.options.projectId,ve)}(E,u),E);return f=Object.assign({useFetchStreams:i},f),N._setSettings(f),N},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(yt,"4.7.3",n),(0,De.registerVersion)(yt,"4.7.3","esm2017")}();class oh{constructor(n){this._delegate=n}static fromBase64String(n){return PE(),new oh(Eu.fromBase64String(n))}static fromUint8Array(n){return RE(),new oh(Eu.fromUint8Array(n))}toBase64(){return PE(),this._delegate.toBase64()}toUint8Array(){return RE(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sp(l){return function JA(l,n){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of n)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class ZA{enableIndexedDbPersistence(n,i){return function aE(l,n){Ln("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings();return _g(l,Wd.provider,{build:s=>new ug(s,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function lE(l){return vg.apply(this,arguments)}(n._delegate)}clearIndexedDbPersistence(n){return function uE(l){if(l._initialized&&!l._terminated)throw new Ue($e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Lt;return l._queue.enqueueAndForgetEvenWhileRestricted((0,ue.A)(function*(){try{yield(i=(0,ue.A)(function*(u){if(!xn.D())return Promise.resolve();const f=u+"main";yield xn.delete(f)}),function s(u){return i.apply(this,arguments)})(Ld(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class fv{constructor(n,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof rn||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&Ln("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,s={}){!function oE(l,n,i,s={}){var u;const f=(l=Fi(l,gg))._getSettings(),E=`${n}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==E&&Ln("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},f),{host:E,ssl:!1})),s.mockUserToken){let N,U;if("string"==typeof s.mockUserToken)N=s.mockUserToken,U=at.MOCK_USER;else{N=(0,nt.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const te=s.mockUserToken.sub||s.mockUserToken.user_id;if(!te)throw new Ue($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new at(te)}l._authCredentials=new lr(new yn(N,U))}}(this._delegate,n,i,s)}enableNetwork(){return function Ym(l){return function $_(l){return l.asyncQueue.enqueue((0,ue.A)(function*(){const n=yield V_(l),i=yield ad(l);return n.setNetworkEnabled(!0),function(u){const f=ln(u);return f.L_.delete(0),Gu(f)}(i)}))}(Bo(l=Fi(l,uo)))}(this._delegate)}disableNetwork(){return function Q_(l){return function j_(l){return l.asyncQueue.enqueue((0,ue.A)(function*(){const n=yield V_(l),i=yield ad(l);return n.setNetworkEnabled(!1),(s=(0,ue.A)(function*(f){const E=ln(f);E.L_.add(0),yield Gl(E),E.q_.set("Offline")}),function u(f){return s.apply(this,arguments)})(i);var s}))}(Bo(l=Fi(l,uo)))}(this._delegate)}enablePersistence(n){let i=!1,s=!1;return n&&(i=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,G_("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cl(l){return function(i){const s=new Lt;return i.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return function L(l,n){return Y.apply(this,arguments)}(yield U_(i),s)})),s.promise}(Bo(l=Fi(l,uo)))}(this._delegate)}onSnapshotsInSync(n){return function nh(l,n){return function tE(l,n){const i=new cg(n);return l.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return u=yield Ka(l),f=i,ln(u).Y_.add(f),void f.next();var u,f})),()=>{i.Za(),l.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return u=yield Ka(l),f=i,void ln(u).Y_.delete(f);var u,f}))}}(Bo(l=Fi(l,uo)),qm(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Tu(this,Xd(this._delegate,n))}catch(i){throw Ra(i,"collection()","Firestore.collection()")}}doc(n){try{return new wl(this,Gf(this._delegate,n))}catch(i){throw Ra(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Xa(this,function zf(l,n){if(l=Fi(l,gg),Wm("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ue($e.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sa(l,null,(s=n,new Pr(tr.emptyPath(),s)));var s}(this._delegate,n))}catch(i){throw Ra(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function AE(l,n,i){l=Fi(l,uo);const s=Object.assign(Object.assign({},hy),i);return function(f){if(f.maxAttempts<1)throw new Ue($e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,E,N){const U=new Lt;return f.asyncQueue.enqueueAndForget((0,ue.A)(function*(){const te=yield function B_(l){return Hf(l).then(n=>n.datastore)}(f);new k_(f.asyncQueue,te,N,E,U).au()})),U.promise}(Bo(l),u=>n(new fy(l,u)),s)}(this._delegate,i=>n(new Ey(this,i)))}batch(){return Bo(this._delegate),new Iy(new hv(this._delegate,n=>rh(this._delegate,n)))}loadBundle(n){return function LA(l,n){const i=Bo(l=Fi(l,uo)),s=new Qm;return function Hm(l,n,i,s){const u=function(E,N){let U;return U="string"==typeof E?Xs().encode(E):E,ve=function(ve){if(ve instanceof Uint8Array)return O_(ve,void 0);if(ve instanceof ArrayBuffer)return O_(new Uint8Array(ve),void 0);if(ve instanceof ReadableStream)return ve.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new xA(ve,N);var ve}(i,Jc(n));l.asyncQueue.enqueueAndForget((0,ue.A)(function*(){!function J0(l,n,i){const s=ln(l);var u;(u=(0,ue.A)(function*(E,N,U){try{const te=yield N.getMetadata();if(yield function(fn,Pn){const On=ln(fn),Er=ho(Pn.createTime);return On.persistence.runTransaction("hasNewerBundle","readonly",kr=>On.Gr.getBundleMetadata(kr,Pn.id)).then(kr=>!!kr&&kr.createTime.compareTo(Er)>=0)}(E.localStore,te))return yield N.close(),U._completeWith({taskState:"Success",documentsLoaded:(fn=te).totalDocuments,bytesLoaded:fn.totalBytes,totalDocuments:fn.totalDocuments,totalBytes:fn.totalBytes}),Promise.resolve(new Set);U._updateProgress(Nh(te));const ve=new S_(te,E.localStore,N.serializer);let Be=yield N.Ua();for(;Be;){const Ht=yield ve.la(Be);Ht&&U._updateProgress(Ht),Be=yield N.Ua()}const pt=yield ve.complete();return yield Or(E,pt.Ia,void 0),yield function(fn,Pn){const On=ln(fn);return On.persistence.runTransaction("Save bundle","readwrite",Er=>On.Gr.saveBundleMetadata(Er,Pn))}(E.localStore,te),U._completeWith(pt.progress),Promise.resolve(pt.Pa)}catch(te){return Ln("SyncEngine",`Loading bundle failed with ${te}`),U._failWith(te),Promise.resolve(new Set)}var fn}),function f(E,N,U){return u.apply(this,arguments)})(s,n,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield U_(l),u,s)}))}(i,l._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function FA(l,n){return function nE(l,n){return l.asyncQueue.enqueue((0,ue.A)(function*(){return function(s,u){const f=ln(s);return f.persistence.runTransaction("Get named query","readonly",E=>f.Gr.getNamedQuery(E,u))}(yield Uh(l),n)}))}(Bo(l=Fi(l,uo)),n).then(i=>i?new Sa(l,null,i.query):null)}(this._delegate,n).then(i=>i?new Xa(this,i):null)}}class xg extends ny{constructor(n){super(),this.firestore=n}convertBytes(n){return new oh(new Eu(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return wl.forKey(i,this.firestore,null)}}class Ey{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new xg(n)}get(n){const i=ah(n);return this._delegate.get(i).then(s=>new Jh(this._firestore,new Sc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(n,i,s){const u=ah(n);return s?(yy("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const f=ah(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(n){const i=ah(n);return this._delegate.delete(i),this}}class Iy{constructor(n){this._delegate=n}set(n,i,s){const u=ah(n);return s?(yy("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const f=ah(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(n){const i=ah(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class sh{constructor(n,i,s){this._firestore=n,this._userDataWriter=i,this._delegate=s}fromFirestore(n,i){const s=new np(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new fd(this._firestore,s),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const s=sh.INSTANCES;let u=s.get(n);u||(u=new WeakMap,s.set(n,u));let f=u.get(i);return f||(f=new sh(n,new xg(n),i),u.set(i,f)),f}}sh.INSTANCES=new WeakMap;class wl{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new xg(n)}static forPath(n,i,s){if(n.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new wl(i,new Qo(i._delegate,s,new Dn(n)))}static forKey(n,i,s){return new wl(i,new Qo(i._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new Tu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Tu(this.firestore,Xd(this._delegate,n))}catch(i){throw Ra(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,nt.Ku)(n))instanceof Qo&&K_(this._delegate,n)}set(n,i){i=yy("DocumentReference.set",i);try{return i?av(this._delegate,n,i):av(this._delegate,n)}catch(s){throw Ra(s,"setDoc()","DocumentReference.set()")}}update(n,i,...s){try{return 1===arguments.length?oy(this._delegate,n):oy(this._delegate,n,i,...s)}catch(u){throw Ra(u,"updateDoc()","DocumentReference.update()")}}delete(){return function sy(l){return rh(Fi(l.firestore,uo),[new ys(l._key,je.none())])}(this._delegate)}onSnapshot(...n){const i=Ay(n),s=Ty(n,u=>new Jh(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return uv(this._delegate,i,s)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function GA(l){l=Fi(l,Qo);const n=Fi(l.firestore,uo),i=Bo(n),s=new th(n);return function kA(l,n){const i=new Lt;return l.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(s=(0,ue.A)(function*(f,E,N){try{const U=yield function(ve,Be){const pt=ln(ve);return pt.persistence.runTransaction("read document","readonly",Ht=>pt.localDocuments.getDocument(Ht,Be))}(f,E);U.isFoundDocument()?N.resolve(U):U.isNoDocument()?N.resolve(null):N.reject(new Ue($e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const te=nd(U,`Failed to get document '${E} from cache`);N.reject(te)}}),function u(f,E,N){return s.apply(this,arguments)})(yield Uh(l),n,i);var s})),i.promise}(i,l._key).then(u=>new Sc(n,s,l._key,u,new cd(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function rp(l){l=Fi(l,Qo);const n=Fi(l.firestore,uo);return hg(Bo(n),l._key,{source:"server"}).then(i=>Yh(n,l,i))}(this._delegate):function _E(l){l=Fi(l,Qo);const n=Fi(l.firestore,uo);return hg(Bo(n),l._key).then(i=>Yh(n,l,i))}(this._delegate),i.then(s=>new Jh(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new wl(this.firestore,this._delegate.withConverter(n?sh.getInstance(this.firestore,n):null))}}function Ra(l,n,i){return l.message=l.message.replace(n,i),l}function Ay(l){for(const n of l)if("object"==typeof n&&!sp(n))return n;return{}}function Ty(l,n){var i,s;let u;return u=sp(l[0])?l[0]:sp(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:f=>{u.next&&u.next(n(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Jh{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new wl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return Rg(this._delegate,n._delegate)}}class fd extends Jh{data(n){const i=this._delegate.data(n);return this._delegate._converter||function rr(l){l||qt()}(void 0!==i),i}}class Xa{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new xg(n)}where(n,i,s){try{return new Xa(this.firestore,Au(this._delegate,function UA(l,n,i){const s=n,u=Iu("where",l);return wg._create(u,s,i)}(n,i,s)))}catch(u){throw Ra(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Xa(this.firestore,Au(this._delegate,function jA(l,n="asc"){const i=n,s=Iu("orderBy",l);return ty._create(s,i)}(n,i)))}catch(s){throw Ra(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Xa(this.firestore,Au(this._delegate,function gE(l){return Xm("limit",l),Yd._create("limit",l,"F")}(n)))}catch(i){throw Ra(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Xa(this.firestore,Au(this._delegate,function ov(l){return Xm("limitToLast",l),Yd._create("limitToLast",l,"L")}(n)))}catch(i){throw Ra(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Xa(this.firestore,Au(this._delegate,function Kh(...l){return Wh._create("startAt",l,!0)}(...n)))}catch(i){throw Ra(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Xa(this.firestore,Au(this._delegate,function Jf(...l){return Wh._create("startAfter",l,!1)}(...n)))}catch(i){throw Ra(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Xa(this.firestore,Au(this._delegate,function Xh(...l){return Jd._create("endBefore",l,!1)}(...n)))}catch(i){throw Ra(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Xa(this.firestore,Au(this._delegate,function Zf(...l){return Jd._create("endAt",l,!0)}(...n)))}catch(i){throw Ra(i,"endAt()","Query.endAt()")}}isEqual(n){return Wf(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function Pg(l){l=Fi(l,Sa);const n=Fi(l.firestore,uo),i=Bo(n),s=new th(n);return function fg(l,n){const i=new Lt;return l.asyncQueue.enqueueAndForget((0,ue.A)(function*(){return(s=(0,ue.A)(function*(f,E,N){try{const U=yield Ct(f,E,!0),te=new Uf(E,U.Ts),ve=te.ma(U.documents),Be=te.applyChanges(ve,!1);N.resolve(Be.snapshot)}catch(U){const te=nd(U,`Failed to execute query '${E} against cache`);N.reject(te)}}),function u(f,E,N){return s.apply(this,arguments)})(yield Uh(l),n,i);var s})),i.promise}(i,l._query).then(u=>new Jl(n,s,l,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function sv(l){l=Fi(l,Sa);const n=Fi(l.firestore,uo),i=Bo(n),s=new th(n);return H_(i,l._query,{source:"server"}).then(u=>new Jl(n,s,l,u))}(this._delegate):function yE(l){l=Fi(l,Sa);const n=Fi(l.firestore,uo),i=Bo(n),s=new th(n);return Yf(l._query),H_(i,l._query).then(u=>new Jl(n,s,l,u))}(this._delegate),i.then(s=>new gv(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const i=Ay(n),s=Ty(n,u=>new gv(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return uv(this._delegate,i,s)}withConverter(n){return new Xa(this.firestore,this._delegate.withConverter(n?sh.getInstance(this.firestore,n):null))}}class pv{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new fd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gv{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Xa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new fd(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new pv(this._firestore,i))}forEach(n,i){this._delegate.forEach(s=>{n.call(i,new fd(this._firestore,s))})}isEqual(n){return Rg(this._delegate,n._delegate)}}class Tu extends Xa{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new wl(this.firestore,n):null}doc(n){try{return new wl(this.firestore,void 0===n?Gf(this._delegate):Gf(this._delegate,n))}catch(i){throw Ra(i,"doc()","CollectionReference.doc()")}}add(n){return function lv(l,n){const i=Fi(l.firestore,uo),s=Gf(l),u=Qh(l.converter,n);return rh(i,[Xf(ud(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,je.exists(!1))]).then(()=>s)}(this._delegate,n).then(i=>new wl(this.firestore,i))}isEqual(n){return K_(this._delegate,n._delegate)}withConverter(n){return new Tu(this.firestore,this._delegate.withConverter(n?sh.getInstance(this.firestore,n):null))}}function ah(l){return Fi(l,Qo)}class mv{constructor(...n){this._delegate=new ec(...n)}static documentId(){return new mv(Ar.keyField().canonicalString())}isEqual(n){return(n=(0,nt.Ku)(n))instanceof ec&&this._delegate._internalPath.isEqual(n._internalPath)}}class pd{constructor(n){this._delegate=n}static serverTimestamp(){const n=function CE(){return new Ig("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new pd(n)}static delete(){const n=function TE(){return new Hh("deleteField")}();return n._methodName="FieldValue.delete",new pd(n)}static arrayUnion(...n){const i=function bE(...l){return new Ag("arrayUnion",l)}(...n);return i._methodName="FieldValue.arrayUnion",new pd(i)}static arrayRemove(...n){const i=function DE(...l){return new Tg("arrayRemove",l)}(...n);return i._methodName="FieldValue.arrayRemove",new pd(i)}static increment(n){const i=function dd(l){return new Cg("increment",l)}(n);return i._methodName="FieldValue.increment",new pd(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Cy={Firestore:fv,GeoPoint:yg,Timestamp:Zn,Blob:oh,Transaction:Ey,WriteBatch:Iy,DocumentReference:wl,DocumentSnapshot:Jh,Query:Xa,QueryDocumentSnapshot:fd,QuerySnapshot:gv,CollectionReference:Tu,FieldPath:mv,FieldValue:pd,setLogLevel:function ME(l){!function Nn(l){Pt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function OE(l){(function NE(l,n){l.INTERNAL.registerComponent(new Re.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(s,u)},"PUBLIC").setServiceProps(Object.assign({},Cy)))})(l,(n,i)=>new fv(n,i,new ZA)),l.registerVersion("@firebase/firestore-compat","0.3.38")}(vt.A);var by=k(762);function vv(l,n){return function xE(l,n=Se.E){return new Oe.c(i=>{let s;return null!=n?n.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,n)}function Dy(l,n){return vv(l,n).pipe((0,ot.T)(i=>({payload:i,type:"query"})))}class Zh{constructor(n,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const s=this.ref.collection(n),{ref:u,query:f}=VE(s,i);return new Ry(u,f,this.afs)}snapshotChanges(){return function eT(l,n){return vv(l,n).pipe((0,se.Z)(void 0),Xe(),(0,ot.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,ot.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,Ve.H)(this.ref.get(n)).pipe(Ee.U0)}}function kg(l,n){return Dy(l,n).pipe((0,se.Z)(void 0),Xe(),(0,ot.T)(i=>{const[s,u]=i,f=u.payload.docChanges(),E=f.map(N=>({type:N.type,payload:N}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((N,U)=>{const te=f.find(Be=>Be.doc.ref.isEqual(N.ref)),ve=null==s?void 0:s.payload.docs.find(Be=>Be.ref.isEqual(N.ref));te&&JSON.stringify(te.doc.metadata)===JSON.stringify(N.metadata)||!te&&ve&&JSON.stringify(ve.metadata)===JSON.stringify(N.metadata)||E.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:N}})}),E}))}function wy(l,n,i){return kg(l,i).pipe((0,ut.S)((s,u)=>function kE(l,n,i){return n.forEach(s=>{i.indexOf(s.type)>-1&&(l=function LE(l,n){switch(n.type){case"added":if(!l[n.newIndex]||!l[n.newIndex].doc.ref.isEqual(n.doc.ref))return Lg(l,n.newIndex,0,n);break;case"modified":if(null==l[n.oldIndex]||l[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=l.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return Lg(l,n.newIndex,1,n)}break;case"removed":if(l[n.oldIndex]&&l[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Lg(l,n.oldIndex,1)}return l}(l,s))}),l}(s,u.map(f=>f.payload),n),[]),(0,ct.F)(),(0,ot.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Lg(l,n,i,...s){const u=l.slice();return u.splice(n,i,...s),u}function Sy(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class Ry{constructor(n,i,s){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=s}stateChanges(n){let i=kg(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,ot.T)(s=>s.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,se.Z)(void 0),Xe(),(0,tt.p)(([s,u])=>u.length>0||!s),(0,ot.T)(([,s])=>s),Ee.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,ut.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=Sy(n);return wy(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}valueChanges(n={}){return Dy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.T)(i=>i.payload.docs.map(s=>n.idField?{...s.data(),[n.idField]:s.id}:s.data())),Ee.U0)}get(n){return(0,Ve.H)(this.query.get(n)).pipe(Ee.U0)}add(n){return this.ref.add(n)}doc(n){return new Zh(this.ref.doc(n),this.afs)}}class FE{constructor(n,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?kg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.T)(i=>i.filter(s=>n.indexOf(s.type)>-1)),(0,tt.p)(i=>i.length>0),Ee.U0):kg(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,ut.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=Sy(n);return wy(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}valueChanges(n={}){return Dy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.T)(s=>s.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),Ee.U0)}get(n){return(0,Ve.H)(this.query.get(n)).pipe(Ee.U0)}}const Py=new B.nKC("angularfire2.enableFirestorePersistence"),My=new B.nKC("angularfire2.firestore.persistenceSettings"),_v=new B.nKC("angularfire2.firestore.settings"),tT=new B.nKC("angularfire2.firestore.use-emulator");function VE(l,n=i=>i){return{query:n(l),ref:l}}let Fg=(()=>{var l;class n{constructor(s,u,f,E,N,U,te,ve,Be,pt,Ht,fn,Pn,On,Er,kr,Dr){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=te;const Zr=(0,J.iB)(s,U,u),$i=Be;pt&&(0,ye.gF)(Zr,U,Ht,Pn,On,Er,fn,kr),[this.firestore,this.persistenceEnabled$]=(0,J.BM)(`${Zr.name}.firestore`,"AngularFirestore",Zr.name,()=>{const ri=U.runOutsideAngular(()=>Zr.firestore());if(E&&ri.settings(E),$i&&ri.useEmulator(...$i),f&&!(0,h.Vy)(N)){const xt=()=>{try{return(0,Ve.H)(ri.enablePersistence(ve||void 0).then(()=>!0,()=>!1))}catch(lt){return typeof console<"u"&&console.warn(lt),(0,we.of)(!1)}};return[ri,U.runOutsideAngular(xt)]}return[ri,(0,we.of)(!1)]},[E,$i,f])}collection(s,u){let f;f="string"==typeof s?this.firestore.collection(s):s;const{ref:E,query:N}=VE(f,u),U=this.schedulers.ngZone.run(()=>E);return new Ry(U,N,this)}collectionGroup(s,u){const f=u||(N=>N),E=this.firestore.collectionGroup(s);return new FE(f(E),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const f=this.schedulers.ngZone.run(()=>u);return new Zh(f,this)}createId(){return this.firestore.collection("_").doc().id}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)(B.KVO(J.rx),B.KVO(J.uP,8),B.KVO(Py,8),B.KVO(_v,8),B.KVO(B.Agw),B.KVO(B.SKi),B.KVO(Ee.u0),B.KVO(My,8),B.KVO(tT,8),B.KVO(ye.DS,8),B.KVO(ye.CP,8),B.KVO(ye.yy,8),B.KVO(ye.ZP,8),B.KVO(ye.$z,8),B.KVO(ye.AU,8),B.KVO(ye.UB,8),B.KVO(Ee.Jv,8))}),(0,d.A)(n,"\u0275prov",B.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),n})(),nT=(()=>{var l;class n{constructor(){by.A.registerVersion("angularfire",Ee.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:n,providers:[{provide:Py,useValue:!0},{provide:My,useValue:s}]}}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)}),(0,d.A)(n,"\u0275mod",B.$C({type:l})),(0,d.A)(n,"\u0275inj",B.G2t({providers:[Fg]})),n})()},9253:(Mn,It,k)=>{"use strict";k.d(It,{BM:()=>ot,Gt:()=>ye,bf:()=>Xe,e7:()=>Se,iB:()=>se,rx:()=>Ve,uP:()=>we});var d=k(9842),h=k(3953),B=k(5407),Ee=k(762);const J=["ngOnDestroy"],ye=(Dt,vt,ue,De={})=>new Proxy(Dt,{get:(Re,Ke)=>ue.runOutsideAngular(()=>{var nt;if(Dt[Ke])return null!=De&&null!==(nt=De.spy)&&void 0!==nt&&nt.get&&De.spy.get(Ke,Dt[Ke]),Dt[Ke];if(J.indexOf(Ke)>-1)return()=>{};const Ze=vt.toPromise().then(pe=>{const rt=null==pe?void 0:pe[Ke];return"function"==typeof rt?rt.bind(pe):null!=rt&&rt.then?rt.then(Ot=>ue.run(()=>Ot)):ue.run(()=>rt)});return new Proxy(()=>{},{get:(pe,rt)=>Ze[rt],apply:(pe,rt,Ot)=>Ze.then(Xt=>{var En;const tn=null==Xt?void 0:Xt(...Ot);return null!=De&&null!==(En=De.spy)&&void 0!==En&&En.apply&&De.spy.apply(Ke,Ot,tn),tn})})})}),Se=(Dt,vt)=>{vt.forEach(ue=>{Object.getOwnPropertyNames(ue.prototype||ue).forEach(De=>{Object.defineProperty(Dt.prototype,De,Object.getOwnPropertyDescriptor(ue.prototype||ue,De))})})};class Oe{constructor(vt){return vt}}const Ve=new h.nKC("angularfire2.app.options"),we=new h.nKC("angularfire2.app.name");function se(Dt,vt,ue){const Re="object"==typeof ue&&ue||{};Re.name=Re.name||"string"==typeof ue&&ue||"[DEFAULT]";const nt=Ee.A.apps.filter(Ze=>Ze&&Ze.name===Re.name)[0]||vt.runOutsideAngular(()=>Ee.A.initializeApp(Dt,Re));try{if(JSON.stringify(Dt)!==JSON.stringify(nt.options)){const Ze=!!module.hot;Fe("error",`${nt.name} Firebase App already initialized with different options${Ze?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Oe(nt)}const Fe=(Dt,...vt)=>{(0,h.naY)()&&typeof console<"u"&&console[Dt](...vt)},Ye={provide:Oe,useFactory:se,deps:[Ve,h.SKi,[new h.Xx1,we]]};let Xe=(()=>{var Dt;class vt{static initializeApp(De,Re){return{ngModule:vt,providers:[{provide:Ve,useValue:De},{provide:we,useValue:Re}]}}constructor(De){Ee.A.registerVersion("angularfire",B.xv.full,"core"),Ee.A.registerVersion("angularfire",B.xv.full,"app-compat"),Ee.A.registerVersion("angular",h.xvI.full,De.toString())}}return Dt=vt,(0,d.A)(vt,"\u0275fac",function(De){return new(De||Dt)(h.KVO(h.Agw))}),(0,d.A)(vt,"\u0275mod",h.$C({type:Dt})),(0,d.A)(vt,"\u0275inj",h.G2t({providers:[Ye]})),vt})();function ot(Dt,vt,ue,De,Re){const[,Ke,nt]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===Dt)||[];if(Ke)return function ut(Dt,vt){try{return Dt.toString()===vt.toString()}catch{return Dt===vt}}(Re,nt)||(tt("error",`${vt} was already initialized on the ${ue} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:Re,was:nt})),Ke;{const Ze=De();return globalThis.\u0275AngularfireInstanceCache.push([Dt,Ze,Re]),Ze}}const ct=typeof module<"u"&&!!module.hot,tt=(Dt,...vt)=>{(0,h.naY)()&&typeof console<"u"&&console[Dt](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(Mn,It,k)=>{"use strict";k.d(It,{xv:()=>Xe,U0:()=>Ot,Oe:()=>pe,u0:()=>Re,Jv:()=>tt,CA:()=>ct,lR:()=>ut});var d=k(9842),h=k(3953),B=k(7037),Ee=k(6780),ye=k(9687);const Oe=new class Se extends ye.q{}(class J extends Ee.R{constructor(ft,Me){super(ft,Me),this.scheduler=ft,this.work=Me}schedule(ft,Me=0){return Me>0?super.schedule(ft,Me):(this.delay=Me,this.state=ft,this.scheduler.flush(this),this)}execute(ft,Me){return Me>0||this.closed?super.execute(ft,Me):this._execute(ft,Me)}requestAsyncId(ft,Me,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(ft,Me,ie):(ft.flush(this),0)}});var we=k(3236),se=k(8141),Fe=k(941),Ye=k(6745);const Xe=new h.RxE("ANGULARFIRE2_VERSION");function ut(cn,ft,Me){if(ft){if(1===ft.length)return ft[0];const he=ft.filter(Ge=>Ge.app===Me);if(1===he.length)return he[0]}return Me.container.getProvider(cn).getImmediate({optional:!0})}const ct=(cn,ft)=>{const Me=ft?[ft]:(0,B.Dk)(),ie=[];return Me.forEach(oe=>{oe.container.getProvider(cn).instances.forEach(Ge=>{ie.includes(Ge)||ie.push(Ge)})}),ie};class tt{constructor(){return ct(Dt)}}const Dt="app-check";function vt(){}class ue{constructor(ft,Me=Oe){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=ft,this.delegate=Me}now(){return this.delegate.now()}schedule(ft,Me,ie){const oe=this.zone;return this.delegate.schedule(function(Ge){oe.runGuarded(()=>{ft.apply(this,[Ge])})},Me,ie)}}class De{constructor(ft){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=ft}call(ft,Me){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt)),Me.pipe((0,se.M)({next:ie,complete:ie,error:ie})).subscribe(ft).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Re=(()=>{var cn;class ft{constructor(ie){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new ue(Zone.current)),this.insideAngular=ie.run(()=>new ue(Zone.current,we.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return cn=ft,(0,d.A)(ft,"\u0275fac",function(ie){return new(ie||cn)(h.KVO(h.SKi))}),(0,d.A)(ft,"\u0275prov",h.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})),ft})();function Ke(){const cn=globalThis.\u0275AngularFireScheduler;if(!cn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return cn}function pe(cn){return cn.pipe((0,Fe.Q)(Ke().outsideAngular))}function Ot(cn){return function Xt(cn){return function(Me){return(Me=Me.lift(new De(cn.ngZone))).pipe((0,Ye._)(cn.outsideAngular),(0,Fe.Q)(cn.insideAngular))}}(Ke())(cn)}},9574:(Mn,It,k)=>{"use strict";k.d(It,{A:()=>ot});var d=k(1401),h=k(8779),B=k(1631),Ee=k(5398);class J{constructor(ct,tt){this._delegate=ct,this.firebase=tt,(0,B._addComponent)(ct,new h.uA("app-compat",()=>this,"PUBLIC")),this.container=ct.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this._delegate.automaticDataCollectionEnabled=ct}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ct=>{this._delegate.checkDestroyed(),ct()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ct,tt=B._DEFAULT_ENTRY_NAME){var Dt;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(ct);return!vt.isInitialized()&&"EXPLICIT"===(null===(Dt=vt.getComponent())||void 0===Dt?void 0:Dt.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:tt})}_removeServiceInstance(ct,tt=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ct).clearInstance(tt)}_addComponent(ct){(0,B._addComponent)(this._delegate,ct)}_addOrOverwriteComponent(ct){(0,B._addOrOverwriteComponent)(this._delegate,ct)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),we=function Ve(){const ut=function Oe(ut){const ct={},tt={__esModule:!0,initializeApp:function ue(nt,Ze={}){const pe=B.initializeApp(nt,Ze);if((0,d.gR)(ct,pe.name))return ct[pe.name];const rt=new ut(pe,tt);return ct[pe.name]=rt,rt},app:vt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Re(nt){const Ze=nt.name,pe=Ze.replace("-compat","");if(B._registerComponent(nt)&&"PUBLIC"===nt.type){const rt=(Ot=vt())=>{if("function"!=typeof Ot[pe])throw Se.create("invalid-app-argument",{appName:Ze});return Ot[pe]()};void 0!==nt.serviceProps&&(0,d.zw)(rt,nt.serviceProps),tt[pe]=rt,ut.prototype[pe]=function(...Ot){return this._getService.bind(this,Ze).apply(this,nt.multipleInstances?Ot:[])}}return"PUBLIC"===nt.type?tt[pe]:null},removeApp:function Dt(nt){delete ct[nt]},useAsService:function Ke(nt,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:B}};function vt(nt){if(!(0,d.gR)(ct,nt=nt||B._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:nt});return ct[nt]}return tt.default=tt,Object.defineProperty(tt,"apps",{get:function De(){return Object.keys(ct).map(nt=>ct[nt])}}),vt.App=ut,tt}(J);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function ct(tt){(0,d.zw)(ut,tt)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),ut}(),se=new Ee.Vy("@firebase/app-compat");try{const ut=(0,d.mS)();if(void 0!==ut.firebase){se.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const ct=ut.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&se.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ot=we;!function Xe(ut){(0,B.registerVersion)("@firebase/app-compat","0.2.43",ut)}()},1631:(Mn,It,k)=>{"use strict";k.r(It),k.d(It,{FirebaseError:()=>Ee.g,SDK_VERSION:()=>$e,_DEFAULT_ENTRY_NAME:()=>he,_addComponent:()=>Ft,_addOrOverwriteComponent:()=>Pt,_apps:()=>mt,_clearComponents:()=>jn,_components:()=>at,_getProvider:()=>Nn,_isFirebaseApp:()=>kn,_isFirebaseServerApp:()=>Ln,_registerComponent:()=>wt,_removeServiceInstance:()=>St,_serverApps:()=>yt,deleteApp:()=>lr,getApp:()=>yn,getApps:()=>ir,initializeApp:()=>Ue,initializeServerApp:()=>Lt,onLog:()=>gr,registerVersion:()=>zt,setLogLevel:()=>ur});var d=k(467),h=k(8779),B=k(5398),Ee=k(1401),J=k(6749);class ye{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(X=>{if(function Se(ke){const We=ke.getComponent();return"VERSION"===(null==We?void 0:We.type)}(X)){const K=X.getImmediate();return`${K.library}/${K.version}`}return null}).filter(X=>X).join(" ")}}const Oe="@firebase/app",Ve="0.10.13",we=new B.Vy("@firebase/app"),se="@firebase/app-compat",Fe="@firebase/analytics-compat",Ye="@firebase/analytics",Xe="@firebase/app-check-compat",ot="@firebase/app-check",ut="@firebase/auth",ct="@firebase/auth-compat",tt="@firebase/database",Dt="@firebase/data-connect",vt="@firebase/database-compat",ue="@firebase/functions",De="@firebase/functions-compat",Re="@firebase/installations",Ke="@firebase/installations-compat",nt="@firebase/messaging",Ze="@firebase/messaging-compat",pe="@firebase/performance",rt="@firebase/performance-compat",Ot="@firebase/remote-config",Xt="@firebase/remote-config-compat",En="@firebase/storage",tn="@firebase/storage-compat",cn="@firebase/firestore",ft="@firebase/vertexai-preview",Me="@firebase/firestore-compat",ie="firebase",he="[DEFAULT]",Ge={[Oe]:"fire-core",[se]:"fire-core-compat",[Ye]:"fire-analytics",[Fe]:"fire-analytics-compat",[ot]:"fire-app-check",[Xe]:"fire-app-check-compat",[ut]:"fire-auth",[ct]:"fire-auth-compat",[tt]:"fire-rtdb",[Dt]:"fire-data-connect",[vt]:"fire-rtdb-compat",[ue]:"fire-fn",[De]:"fire-fn-compat",[Re]:"fire-iid",[Ke]:"fire-iid-compat",[nt]:"fire-fcm",[Ze]:"fire-fcm-compat",[pe]:"fire-perf",[rt]:"fire-perf-compat",[Ot]:"fire-rc",[Xt]:"fire-rc-compat",[En]:"fire-gcs",[tn]:"fire-gcs-compat",[cn]:"fire-fst",[Me]:"fire-fst-compat",[ft]:"fire-vertex","fire-js":"fire-js",[ie]:"fire-js-all"},mt=new Map,yt=new Map,at=new Map;function Ft(ke,We){try{ke.container.addComponent(We)}catch(X){we.debug(`Component ${We.name} failed to register with FirebaseApp ${ke.name}`,X)}}function Pt(ke,We){ke.container.addOrOverwriteComponent(We)}function wt(ke){const We=ke.name;if(at.has(We))return we.debug(`There were multiple attempts to register component ${We}.`),!1;at.set(We,ke);for(const X of mt.values())Ft(X,ke);for(const X of yt.values())Ft(X,ke);return!0}function Nn(ke,We){const X=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),ke.container.getProvider(We)}function St(ke,We,X=he){Nn(ke,We).clearInstance(X)}function kn(ke){return void 0!==ke.options}function Ln(ke){return void 0!==ke.settings}function jn(){at.clear()}const Zt=new Ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rr{constructor(We,X,K){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=K,this.container.addComponent(new h.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}class ln extends rr{constructor(We,X,K,ee){const Ne=void 0!==X.automaticDataCollectionEnabled&&X.automaticDataCollectionEnabled,He={name:K,automaticDataCollectionEnabled:Ne};super(void 0!==We.apiKey?We:We.options,He,ee),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ne},X),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,X.releaseOnDeref=void 0,zt(Oe,Ve,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(We){this.isDeleted||(this._refCount++,void 0!==We&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(We,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){lr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Zt.create("server-app-deleted")}}const $e="10.14.1";function Ue(ke,We={}){let X=ke;"object"!=typeof We&&(We={name:We});const K=Object.assign({name:he,automaticDataCollectionEnabled:!1},We),ee=K.name;if("string"!=typeof ee||!ee)throw Zt.create("bad-app-name",{appName:String(ee)});if(X||(X=(0,Ee.T9)()),!X)throw Zt.create("no-options");const Ne=mt.get(ee);if(Ne){if((0,Ee.bD)(X,Ne.options)&&(0,Ee.bD)(K,Ne.config))return Ne;throw Zt.create("duplicate-app",{appName:ee})}const He=new h.h1(ee);for(const In of at.values())He.addComponent(In);const Wt=new rr(X,K,He);return mt.set(ee,Wt),Wt}function Lt(ke,We){if((0,Ee.Bd)()&&!(0,Ee.p7)())throw Zt.create("invalid-server-app-environment");let X;void 0===We.automaticDataCollectionEnabled&&(We.automaticDataCollectionEnabled=!1),X=kn(ke)?ke.options:ke;const K=Object.assign(Object.assign({},We),X);if(void 0!==K.releaseOnDeref&&delete K.releaseOnDeref,void 0!==We.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Zt.create("finalization-registry-not-supported",{});const Ne=""+(Xn=JSON.stringify(K),[...Xn].reduce((Tr,ht)=>Math.imul(31,Tr)+ht.charCodeAt(0)|0,0)),He=yt.get(Ne);var Xn;if(He)return He.incRefCount(We.releaseOnDeref),He;const Wt=new h.h1(Ne);for(const Xn of at.values())Wt.addComponent(Xn);const In=new ln(X,We,Ne,Wt);return yt.set(Ne,In),In}function yn(ke=he){const We=mt.get(ke);if(!We&&ke===he&&(0,Ee.T9)())return Ue();if(!We)throw Zt.create("no-app",{appName:ke});return We}function ir(){return Array.from(mt.values())}function lr(ke){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*(ke){let We=!1;const X=ke.name;mt.has(X)?(We=!0,mt.delete(X)):yt.has(X)&&ke.decRefCount()<=0&&(yt.delete(X),We=!0),We&&(yield Promise.all(ke.container.getProviders().map(K=>K.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function zt(ke,We,X){var K;let ee=null!==(K=Ge[ke])&&void 0!==K?K:ke;X&&(ee+=`-${X}`);const Ne=ee.match(/\s|\//),He=We.match(/\s|\//);if(Ne||He){const Wt=[`Unable to register library "${ee}" with version "${We}":`];return Ne&&Wt.push(`library name "${ee}" contains illegal characters (whitespace or "/")`),Ne&&He&&Wt.push("and"),He&&Wt.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void we.warn(Wt.join(" "))}wt(new h.uA(`${ee}-version`,()=>({library:ee,version:We}),"VERSION"))}function gr(ke,We){if(null!==ke&&"function"!=typeof ke)throw Zt.create("invalid-log-argument");(0,B.Ey)(ke,We)}function ur(ke){(0,B.He)(ke)}const mr="firebase-heartbeat-database",vr=1,Lr="firebase-heartbeat-store";let Ni=null;function Vn(){return Ni||(Ni=(0,J.P2)(mr,vr,{upgrade:(ke,We)=>{if(0===We)try{ke.createObjectStore(Lr)}catch(X){console.warn(X)}}}).catch(ke=>{throw Zt.create("idb-open",{originalErrorMessage:ke.message})})),Ni}function Qn(){return(Qn=(0,d.A)(function*(ke){try{const X=(yield Vn()).transaction(Lr),K=yield X.objectStore(Lr).get(Ai(ke));return yield X.done,K}catch(We){if(We instanceof Ee.g)we.warn(We.message);else{const X=Zt.create("idb-get",{originalErrorMessage:null==We?void 0:We.message});we.warn(X.message)}}})).apply(this,arguments)}function Zn(ke,We){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.A)(function*(ke,We){try{const K=(yield Vn()).transaction(Lr,"readwrite");yield K.objectStore(Lr).put(We,Ai(ke)),yield K.done}catch(X){if(X instanceof Ee.g)we.warn(X.message);else{const K=Zt.create("idb-set",{originalErrorMessage:null==X?void 0:X.message});we.warn(K.message)}}})).apply(this,arguments)}function Ai(ke){return`${ke.name}!${ke.options.appId}`}class Ar{constructor(We){this.container=We,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this._storage=new Ut(X),this._heartbeatsCachePromise=this._storage.read().then(K=>(this._heartbeatsCache=K,K))}triggerHeartbeat(){var We=this;return(0,d.A)(function*(){var X,K;try{const Ne=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),He=Dn();return null==(null===(X=We._heartbeatsCache)||void 0===X?void 0:X.heartbeats)&&(We._heartbeatsCache=yield We._heartbeatsCachePromise,null==(null===(K=We._heartbeatsCache)||void 0===K?void 0:K.heartbeats))||We._heartbeatsCache.lastSentHeartbeatDate===He||We._heartbeatsCache.heartbeats.some(Wt=>Wt.date===He)?void 0:(We._heartbeatsCache.heartbeats.push({date:He,agent:Ne}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(Wt=>{const In=new Date(Wt.date).valueOf();return Date.now()-In<=2592e6}),We._storage.overwrite(We._heartbeatsCache))}catch(ee){we.warn(ee)}})()}getHeartbeatsHeader(){var We=this;return(0,d.A)(function*(){var X;try{if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null==(null===(X=We._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||0===We._heartbeatsCache.heartbeats.length)return"";const K=Dn(),{heartbeatsToSend:ee,unsentEntries:Ne}=function ai(ke,We=1024){const X=[];let K=ke.slice();for(const ee of ke){const Ne=X.find(He=>He.agent===ee.agent);if(Ne){if(Ne.dates.push(ee.date),_t(X)>We){Ne.dates.pop();break}}else if(X.push({agent:ee.agent,dates:[ee.date]}),_t(X)>We){X.pop();break}K=K.slice(1)}return{heartbeatsToSend:X,unsentEntries:K}}(We._heartbeatsCache.heartbeats),He=(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:ee}));return We._heartbeatsCache.lastSentHeartbeatDate=K,Ne.length>0?(We._heartbeatsCache.heartbeats=Ne,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),He}catch(K){return we.warn(K),""}})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,Ee.zW)()&&(0,Ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,d.A)(function*(){if(yield We._canUseIndexedDBPromise){const K=yield function wi(ke){return Qn.apply(this,arguments)}(We.app);return null!=K&&K.heartbeats?K:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(We){var X=this;return(0,d.A)(function*(){var K;if(yield X._canUseIndexedDBPromise){const Ne=yield X.read();return Zn(X.app,{lastSentHeartbeatDate:null!==(K=We.lastSentHeartbeatDate)&&void 0!==K?K:Ne.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var X=this;return(0,d.A)(function*(){var K;if(yield X._canUseIndexedDBPromise){const Ne=yield X.read();return Zn(X.app,{lastSentHeartbeatDate:null!==(K=We.lastSentHeartbeatDate)&&void 0!==K?K:Ne.lastSentHeartbeatDate,heartbeats:[...Ne.heartbeats,...We.heartbeats]})}})()}}function _t(ke){return(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:ke})).length}!function Gt(ke){wt(new h.uA("platform-logger",We=>new ye(We),"PRIVATE")),wt(new h.uA("heartbeat",We=>new Ar(We),"PRIVATE")),zt(Oe,Ve,ke),zt(Oe,Ve,"esm2017"),zt("fire-js","")}("")},8779:(Mn,It,k)=>{"use strict";k.d(It,{h1:()=>Oe,uA:()=>B});var d=k(467),h=k(1401);class B{constructor(we,se,Fe){this.name=we,this.instanceFactory=se,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(we){return this.instantiationMode=we,this}setMultipleInstances(we){return this.multipleInstances=we,this}setServiceProps(we){return this.serviceProps=we,this}setInstanceCreatedCallback(we){return this.onInstanceCreated=we,this}}const Ee="[DEFAULT]";class J{constructor(we,se){this.name=we,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(we){const se=this.normalizeInstanceIdentifier(we);if(!this.instancesDeferred.has(se)){const Fe=new h.cY;if(this.instancesDeferred.set(se,Fe),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:se});Ye&&Fe.resolve(Ye)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(we){var se;const Fe=this.normalizeInstanceIdentifier(null==we?void 0:we.identifier),Ye=null!==(se=null==we?void 0:we.optional)&&void 0!==se&&se;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(Xe){if(Ye)return null;throw Xe}}getComponent(){return this.component}setComponent(we){if(we.name!==this.name)throw Error(`Mismatching Component ${we.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=we,this.shouldAutoInitialize()){if(function Se(Ve){return"EAGER"===Ve.instantiationMode}(we))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[se,Fe]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(se);try{const Xe=this.getOrInitializeService({instanceIdentifier:Ye});Fe.resolve(Xe)}catch{}}}}clearInstance(we=Ee){this.instancesDeferred.delete(we),this.instancesOptions.delete(we),this.instances.delete(we)}delete(){var we=this;return(0,d.A)(function*(){const se=Array.from(we.instances.values());yield Promise.all([...se.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...se.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(we=Ee){return this.instances.has(we)}getOptions(we=Ee){return this.instancesOptions.get(we)||{}}initialize(we={}){const{options:se={}}=we,Fe=this.normalizeInstanceIdentifier(we.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:Fe,options:se});for(const[Xe,ot]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(Xe)&&ot.resolve(Ye);return Ye}onInit(we,se){var Fe;const Ye=this.normalizeInstanceIdentifier(se),Xe=null!==(Fe=this.onInitCallbacks.get(Ye))&&void 0!==Fe?Fe:new Set;Xe.add(we),this.onInitCallbacks.set(Ye,Xe);const ot=this.instances.get(Ye);return ot&&we(ot,Ye),()=>{Xe.delete(we)}}invokeOnInitCallbacks(we,se){const Fe=this.onInitCallbacks.get(se);if(Fe)for(const Ye of Fe)try{Ye(we,se)}catch{}}getOrInitializeService({instanceIdentifier:we,options:se={}}){let Fe=this.instances.get(we);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=we,Ve===Ee?void 0:Ve),options:se}),this.instances.set(we,Fe),this.instancesOptions.set(we,se),this.invokeOnInitCallbacks(Fe,we),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,we,Fe)}catch{}var Ve;return Fe||null}normalizeInstanceIdentifier(we=Ee){return this.component?this.component.multipleInstances?we:Ee:we}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(we){this.name=we,this.providers=new Map}addComponent(we){const se=this.getProvider(we.name);if(se.isComponentSet())throw new Error(`Component ${we.name} has already been registered with ${this.name}`);se.setComponent(we)}addOrOverwriteComponent(we){this.getProvider(we.name).isComponentSet()&&this.providers.delete(we.name),this.addComponent(we)}getProvider(we){if(this.providers.has(we))return this.providers.get(we);const se=new J(we,this);return this.providers.set(we,se),se}getProviders(){return Array.from(this.providers.values())}}},5398:(Mn,It,k)=>{"use strict";k.d(It,{$b:()=>h,Ey:()=>Ve,He:()=>Oe,Vy:()=>Se});const d=[];var h=function(we){return we[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT",we}(h||{});const B={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Ee=h.INFO,J={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ye=(we,se,...Fe)=>{if(se<we.logLevel)return;const Ye=(new Date).toISOString(),Xe=J[se];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Xe](`[${Ye}]  ${we.name}:`,...Fe)};class Se{constructor(se){this.name=se,this._logLevel=Ee,this._logHandler=ye,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in h))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?B[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...se),this._logHandler(this,h.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...se),this._logHandler(this,h.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,h.INFO,...se),this._logHandler(this,h.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,h.WARN,...se),this._logHandler(this,h.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...se),this._logHandler(this,h.ERROR,...se)}}function Oe(we){d.forEach(se=>{se.setLogLevel(we)})}function Ve(we,se){for(const Fe of d){let Ye=null;se&&se.level&&(Ye=B[se.level]),Fe.userLogHandler=null===we?null:(Xe,ot,...ut)=>{const ct=ut.map(tt=>{if(null==tt)return null;if("string"==typeof tt)return tt;if("number"==typeof tt||"boolean"==typeof tt)return tt.toString();if(tt instanceof Error)return tt.message;try{return JSON.stringify(tt)}catch{return null}}).filter(tt=>tt).join(" ");ot>=(null!=Ye?Ye:Xe.logLevel)&&we({level:h[ot].toLowerCase(),message:ct,args:ut,type:Xe.name})}}}},7037:(Mn,It,k)=>{"use strict";k.d(It,{Dk:()=>d.getApps,KO:()=>d.registerVersion,Sx:()=>d.getApp});var d=k(1631);(0,d.registerVersion)("firebase","10.14.1","app")},5948:(Mn,It,k)=>{"use strict";k.d(It,{HF:()=>d.X});var d=k(443);k(1631),k(1401),k(5398),k(8779)},762:(Mn,It,k)=>{"use strict";k.d(It,{A:()=>d.A});var d=k(9574);d.A.registerVersion("firebase","10.14.1","app-compat")},5046:(Mn,It,k)=>{"use strict";var d=k(467),h=k(9574),B=k(443),Ee=k(1401),Se=(k(1631),k(5398),k(8779));function Oe(){return window}function se(){return se=(0,d.A)(function*(X,K,ee){var Ne;const{BuildInfo:He}=Oe();(0,B.au)(K.sessionId,"AuthEvent did not contain a session ID");const Wt=yield function tt(X){return Dt.apply(this,arguments)}(K.sessionId),In={};return(0,B.av)()?In.ibi=He.packageName:(0,B.aw)()?In.apn=He.packageName:(0,B.ax)(X,"operation-not-supported-in-this-environment"),He.displayName&&(In.appDisplayName=He.displayName),In.sessionId=Wt,(0,B.ay)(X,ee,K.type,void 0,null!==(Ne=K.eventId)&&void 0!==Ne?Ne:void 0,In)}),se.apply(this,arguments)}function Ye(){return(Ye=(0,d.A)(function*(X){const{BuildInfo:K}=Oe(),ee={};(0,B.av)()?ee.iosBundleId=K.packageName:(0,B.aw)()?ee.androidPackageName=K.packageName:(0,B.ax)(X,"operation-not-supported-in-this-environment"),yield(0,B.az)(X,ee)})).apply(this,arguments)}function ut(){return(ut=(0,d.A)(function*(X,K,ee){const{cordova:Ne}=Oe();let He=()=>{};try{yield new Promise((Wt,In)=>{let Xn=null;function Tr(){var xn;Wt();const Wr=null===(xn=Ne.plugins.browsertab)||void 0===xn?void 0:xn.close;"function"==typeof Wr&&Wr(),"function"==typeof(null==ee?void 0:ee.close)&&ee.close()}function ht(){Xn||(Xn=window.setTimeout(()=>{In((0,B.aB)(X,"redirect-cancelled-by-user"))},2e3))}function fr(){"visible"===(null==document?void 0:document.visibilityState)&&ht()}K.addPassiveListener(Tr),document.addEventListener("resume",ht,!1),(0,B.aw)()&&document.addEventListener("visibilitychange",fr,!1),He=()=>{K.removePassiveListener(Tr),document.removeEventListener("resume",ht,!1),document.removeEventListener("visibilitychange",fr,!1),Xn&&window.clearTimeout(Xn)}})}finally{He()}})).apply(this,arguments)}function Dt(){return(Dt=(0,d.A)(function*(X){const K=function vt(X){if((0,B.au)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const K=new ArrayBuffer(X.length),ee=new Uint8Array(K);for(let Ne=0;Ne<X.length;Ne++)ee[Ne]=X.charCodeAt(Ne);return ee}(X),ee=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(ee)).map(He=>He.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class De extends B.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInitialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInitialized(),this.passiveListeners.forEach(ee=>ee(K)),super.onEvent(K)}initialized(){var K=this;return(0,d.A)(function*(){yield K.initPromise})()}}function nt(X){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,d.A)(function*(X){const K=yield Ot()._get(Xt(X));return K&&(yield Ot()._remove(Xt(X))),K})).apply(this,arguments)}function rt(){const X=[];for(let ee=0;ee<20;ee++){const Ne=Math.floor(62*Math.random());X.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ne))}return X.join("")}function Ot(){return(0,B.aE)(B.b)}function Xt(X){return(0,B.aF)("authEvent",X.config.apiKey,X.name)}function cn(X){if(null==X||!X.includes("?"))return{};const[K,...ee]=X.split("?");return(0,Ee.I9)(ee.join("?"))}const ie=class Me{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(K){var ee=this;return(0,d.A)(function*(){const Ne=K._key();let He=ee.eventManagers.get(Ne);return He||(He=new De(K),ee.eventManagers.set(Ne,He),ee.attachCallbackListeners(K,He)),He})()}_openPopup(K){(0,B.ax)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,ee,Ne,He){var Wt=this;return(0,d.A)(function*(){!function ct(X){var K,ee,Ne,He,Wt,In,Xn,Tr,ht,fr;const xn=Oe();(0,B.aC)("function"==typeof(null===(K=null==xn?void 0:xn.universalLinks)||void 0===K?void 0:K.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aC)(typeof(null===(ee=null==xn?void 0:xn.BuildInfo)||void 0===ee?void 0:ee.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aC)("function"==typeof(null===(Wt=null===(He=null===(Ne=null==xn?void 0:xn.cordova)||void 0===Ne?void 0:Ne.plugins)||void 0===He?void 0:He.browsertab)||void 0===Wt?void 0:Wt.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(Tr=null===(Xn=null===(In=null==xn?void 0:xn.cordova)||void 0===In?void 0:In.plugins)||void 0===Xn?void 0:Xn.browsertab)||void 0===Tr?void 0:Tr.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(fr=null===(ht=null==xn?void 0:xn.cordova)||void 0===ht?void 0:ht.InAppBrowser)||void 0===fr?void 0:fr.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const In=yield Wt._initialize(K);yield In.initialized(),In.resetRedirect(),(0,B.aI)(),yield Wt._originValidation(K);const Xn=function Re(X,K,ee=null){return{type:K,eventId:ee,urlResponse:null,sessionId:rt(),postBody:null,tenantId:X.tenantId,error:(0,B.aB)(X,"no-auth-event")}}(K,Ne,He);yield function Ke(X,K){return Ot()._set(Xt(X),K)}(K,Xn);const Tr=yield function we(X,K,ee){return se.apply(this,arguments)}(K,Xn,ee),ht=yield function Xe(X){const{cordova:K}=Oe();return new Promise(ee=>{K.plugins.browsertab.isAvailable(Ne=>{let He=null;Ne?K.plugins.browsertab.openUrl(X):He=K.InAppBrowser.open(X,(0,B.aA)()?"_blank":"_system","location=yes"),ee(He)})})}(Tr);return function ot(X,K,ee){return ut.apply(this,arguments)}(K,In,ht)})()}_isIframeWebStorageSupported(K,ee){throw new Error("Method not implemented.")}_originValidation(K){const ee=K._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function Fe(X){return Ye.apply(this,arguments)}(K)),this.originValidationPromises[ee]}attachCallbackListeners(K,ee){const{universalLinks:Ne,handleOpenURL:He,BuildInfo:Wt}=Oe(),In=setTimeout((0,d.A)(function*(){yield nt(K),ee.onEvent(oe())}),500),Xn=function(){var fr=(0,d.A)(function*(xn){clearTimeout(In);const Wr=yield nt(K);let ji=null;Wr&&null!=xn&&xn.url&&(ji=function pe(X,K){var ee,Ne;const He=function tn(X){const K=cn(X),ee=K.link?decodeURIComponent(K.link):void 0,Ne=cn(ee).link,He=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return cn(He).link||He||Ne||ee||X}(K);if(He.includes("/__/auth/callback")){const Wt=cn(He),In=Wt.firebaseError?function En(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(Wt.firebaseError)):null,Xn=null===(Ne=null===(ee=null==In?void 0:In.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===Ne?void 0:Ne[1],Tr=Xn?(0,B.aB)(Xn):null;return Tr?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Tr,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:He,postBody:null}}return null}(Wr,xn.url)),ee.onEvent(ji||oe())});return function(Wr){return fr.apply(this,arguments)}}();typeof Ne<"u"&&"function"==typeof Ne.subscribe&&Ne.subscribe(null,Xn);const Tr=He,ht=`${Wt.packageName.toLowerCase()}://`;Oe().handleOpenURL=function(){var fr=(0,d.A)(function*(xn){if(xn.toLowerCase().startsWith(ht)&&Xn({url:xn}),"function"==typeof Tr)try{Tr(xn)}catch(Wr){console.error(Wr)}});return function(xn){return fr.apply(this,arguments)}}()}};function oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aB)("no-auth-event")}}function at(){var X;return(null===(X=null==self?void 0:self.location)||void 0===X?void 0:X.protocol)||null}function Pt(X=(0,Ee.ZQ)()){return!("file:"!==at()&&"ionic:"!==at()&&"capacitor:"!==at()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ln(){try{const X=self.localStorage,K=B.aN();if(X)return X.setItem(K,"1"),X.removeItem(K),!function kn(X=(0,Ee.ZQ)()){return function Nn(){return(0,Ee.lT)()&&11===(null==document?void 0:document.documentMode)}()||function St(X=(0,Ee.ZQ)()){return/Edge\/\d+/.test(X)}(X)}()||(0,Ee.zW)()}catch{return jn()&&(0,Ee.zW)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qt(){return(function Ft(){return"http:"===at()||"https:"===at()}()||(0,Ee.sr)()||Pt())&&!function wt(){return(0,Ee.lV)()||(0,Ee.Ll)()}()&&Ln()&&!jn()}function Zt(){return Pt()&&typeof document<"u"}function ln(){return(ln=(0,d.A)(function*(){return!!Zt()&&new Promise(X=>{const K=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),X(!0)})})})).apply(this,arguments)}const Ue={LOCAL:"local",NONE:"none",SESSION:"session"},Lt=B.aC,yn="persistence";function lr(X){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*(X){yield X._initializationPromise;const K=gr(),ee=B.aF(yn,X.config.apiKey,X.name);K&&K.setItem(ee,X._getPersistence())})).apply(this,arguments)}function gr(){var X;try{return(null===(X=function $e(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const ur=B.aC;class mr{constructor(){this.browserResolver=B.aE(B.k),this.cordovaResolver=B.aE(ie),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(K){var ee=this;return(0,d.A)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,ee,Ne,He){var Wt=this;return(0,d.A)(function*(){return yield Wt.selectUnderlyingResolver(),Wt.assertedUnderlyingResolver._openPopup(K,ee,Ne,He)})()}_openRedirect(K,ee,Ne,He){var Wt=this;return(0,d.A)(function*(){return yield Wt.selectUnderlyingResolver(),Wt.assertedUnderlyingResolver._openRedirect(K,ee,Ne,He)})()}_isIframeWebStorageSupported(K,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,ee)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ur(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,d.A)(function*(){if(K.underlyingResolver)return;const ee=yield function rr(){return ln.apply(this,arguments)}();K.underlyingResolver=ee?K.cordovaResolver:K.browserResolver})()}}function vr(X){return X.unwrap()}function Ni(X){return wi(X)}function wi(X){const{_tokenResponse:K}=X instanceof Ee.g?X.customData:X;if(!K)return null;if(!(X instanceof Ee.g)&&"temporaryProof"in K&&"phoneNumber"in K)return B.P.credentialFromResult(X);const ee=K.providerId;if(!ee||ee===B.p.PASSWORD)return null;let Ne;switch(ee){case B.p.GOOGLE:Ne=B.X;break;case B.p.FACEBOOK:Ne=B.W;break;case B.p.GITHUB:Ne=B.Y;break;case B.p.TWITTER:Ne=B.$;break;default:const{oauthIdToken:He,oauthAccessToken:Wt,oauthTokenSecret:In,pendingToken:Xn,nonce:Tr}=K;return Wt||In||He||Xn?Xn?ee.startsWith("saml.")?B.aQ._create(ee,Xn):B.N._fromParams({providerId:ee,signInMethod:ee,pendingToken:Xn,idToken:He,accessToken:Wt}):new B.Z(ee).credential({idToken:He,accessToken:Wt,rawNonce:Tr}):null}return X instanceof Ee.g?Ne.credentialFromError(X):Ne.credentialFromResult(X)}function Qn(X,K){return K.catch(ee=>{throw ee instanceof Ee.g&&function Vn(X,K){var ee;const Ne=null===(ee=K.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===(null==K?void 0:K.code))K.resolver=new Ai(X,B.as(X,K));else if(Ne){const He=wi(K),Wt=K;He&&(Wt.credential=He,Wt.tenantId=Ne.tenantId||void 0,Wt.email=Ne.email||void 0,Wt.phoneNumber=Ne.phoneNumber||void 0)}}(X,ee),ee}).then(ee=>{const He=ee.user;return{operationType:ee.operationType,credential:Ni(ee),additionalUserInfo:B.aq(ee),user:tr.getOrCreate(He)}})}function Zn(X,K){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.A)(function*(X,K){const ee=yield K;return{verificationId:ee.verificationId,confirm:Ne=>Qn(X,ee.confirm(Ne))}})).apply(this,arguments)}class Ai{constructor(K,ee){this.resolver=ee,this.auth=function Lr(X){return X.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Qn(vr(this.auth),this.resolver.resolveSignIn(K))}}class tr{constructor(K){this._delegate=K,this.multiFactor=B.at(K)}static getOrCreate(K){return tr.USER_MAP.has(K)||tr.USER_MAP.set(K,new tr(K)),tr.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var ee=this;return(0,d.A)(function*(){return Qn(ee.auth,B.a2(ee._delegate,K))})()}linkWithPhoneNumber(K,ee){var Ne=this;return(0,d.A)(function*(){return Zn(Ne.auth,B.l(Ne._delegate,K,ee))})()}linkWithPopup(K){var ee=this;return(0,d.A)(function*(){return Qn(ee.auth,B.d(ee._delegate,K,mr))})()}linkWithRedirect(K){var ee=this;return(0,d.A)(function*(){return yield lr(B.aJ(ee.auth)),B.g(ee._delegate,K,mr)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var ee=this;return(0,d.A)(function*(){return Qn(ee.auth,B.a3(ee._delegate,K))})()}reauthenticateWithPhoneNumber(K,ee){return Zn(this.auth,B.r(this._delegate,K,ee))}reauthenticateWithPopup(K){return Qn(this.auth,B.e(this._delegate,K,mr))}reauthenticateWithRedirect(K){var ee=this;return(0,d.A)(function*(){return yield lr(B.aJ(ee.auth)),B.h(ee._delegate,K,mr)})()}sendEmailVerification(K){return B.ag(this._delegate,K)}unlink(K){var ee=this;return(0,d.A)(function*(){return yield B.ap(ee._delegate,K),ee})()}updateEmail(K){return B.al(this._delegate,K)}updatePassword(K){return B.am(this._delegate,K)}updatePhoneNumber(K){return B.u(this._delegate,K)}updateProfile(K){return B.ak(this._delegate,K)}verifyBeforeUpdateEmail(K,ee){return B.ah(this._delegate,K,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}tr.USER_MAP=new WeakMap;const si=B.aC;let Ar=(()=>{class X{constructor(ee,Ne){if(this.app=ee,Ne.isInitialized())return this._delegate=Ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:He}=ee.options;si(He,"invalid-api-key",{appName:ee.name}),si(He,"invalid-api-key",{appName:ee.name});const Wt=typeof window<"u"?mr:void 0;this._delegate=Ne.initialize({options:{persistence:ai(He,ee.name),popupRedirectResolver:Wt}}),this._delegate._updateErrorMap(B.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,Ne){B.K(this._delegate,ee,Ne)}applyActionCode(ee){return B.a7(this._delegate,ee)}checkActionCode(ee){return B.a8(this._delegate,ee)}confirmPasswordReset(ee,Ne){return B.a6(this._delegate,ee,Ne)}createUserWithEmailAndPassword(ee,Ne){var He=this;return(0,d.A)(function*(){return Qn(He._delegate,B.aa(He._delegate,ee,Ne))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return B.af(this._delegate,ee)}isSignInWithEmailLink(ee){return B.ad(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,d.A)(function*(){si(qt(),ee._delegate,"operation-not-supported-in-this-environment");const Ne=yield B.j(ee._delegate,mr);return Ne?Qn(ee._delegate,Promise.resolve(Ne)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function he(X,K){(0,B.aJ)(X)._logFramework(K)}(this._delegate,ee)}onAuthStateChanged(ee,Ne,He){const{next:Wt,error:In,complete:Xn}=Dn(ee,Ne,He);return this._delegate.onAuthStateChanged(Wt,In,Xn)}onIdTokenChanged(ee,Ne,He){const{next:Wt,error:In,complete:Xn}=Dn(ee,Ne,He);return this._delegate.onIdTokenChanged(Wt,In,Xn)}sendSignInLinkToEmail(ee,Ne){return B.ac(this._delegate,ee,Ne)}sendPasswordResetEmail(ee,Ne){return B.a5(this._delegate,ee,Ne||void 0)}setPersistence(ee){var Ne=this;return(0,d.A)(function*(){let He;switch(function ir(X,K){Lt(Object.values(Ue).includes(K),X,"invalid-persistence-type"),(0,Ee.lV)()?Lt(K!==Ue.SESSION,X,"unsupported-persistence-type"):(0,Ee.Ll)()?Lt(K===Ue.NONE,X,"unsupported-persistence-type"):jn()?Lt(K===Ue.NONE||K===Ue.LOCAL&&(0,Ee.zW)(),X,"unsupported-persistence-type"):Lt(K===Ue.NONE||Ln(),X,"unsupported-persistence-type")}(Ne._delegate,ee),ee){case Ue.SESSION:He=B.a;break;case Ue.LOCAL:He=(yield B.aE(B.i)._isAvailable())?B.i:B.b;break;case Ue.NONE:He=B.U;break;default:return B.ax("argument-error",{appName:Ne._delegate.name})}return Ne._delegate.setPersistence(He)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return Qn(this._delegate,B.a0(this._delegate))}signInWithCredential(ee){return Qn(this._delegate,B.a1(this._delegate,ee))}signInWithCustomToken(ee){return Qn(this._delegate,B.a4(this._delegate,ee))}signInWithEmailAndPassword(ee,Ne){return Qn(this._delegate,B.ab(this._delegate,ee,Ne))}signInWithEmailLink(ee,Ne){return Qn(this._delegate,B.ae(this._delegate,ee,Ne))}signInWithPhoneNumber(ee,Ne){return Zn(this._delegate,B.s(this._delegate,ee,Ne))}signInWithPopup(ee){var Ne=this;return(0,d.A)(function*(){return si(qt(),Ne._delegate,"operation-not-supported-in-this-environment"),Qn(Ne._delegate,B.c(Ne._delegate,ee,mr))})()}signInWithRedirect(ee){var Ne=this;return(0,d.A)(function*(){return si(qt(),Ne._delegate,"operation-not-supported-in-this-environment"),yield lr(Ne._delegate),B.f(Ne._delegate,ee,mr)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return B.a9(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=Ue,X})();function Dn(X,K,ee){let Ne=X;"function"!=typeof X&&({next:Ne,error:K,complete:ee}=X);const He=Ne;return{next:In=>He(In&&tr.getOrCreate(In)),error:K,complete:ee}}function ai(X,K){const ee=function zt(X,K){const ee=gr();if(!ee)return[];const Ne=B.aF(yn,X,K);switch(ee.getItem(Ne)){case Ue.NONE:return[B.U];case Ue.LOCAL:return[B.i,B.a];case Ue.SESSION:return[B.a];default:return[]}}(X,K);if(typeof self<"u"&&!ee.includes(B.i)&&ee.push(B.i),typeof window<"u")for(const Ne of[B.b,B.a])ee.includes(Ne)||ee.push(Ne);return ee.includes(B.U)||ee.push(B.U),ee}class Ut{constructor(){this.providerId="phone",this._delegate=new B.P(vr(h.A.auth()))}static credential(K,ee){return B.P.credential(K,ee)}verifyPhoneNumber(K,ee){return this._delegate.verifyPhoneNumber(K,ee)}unwrap(){return this._delegate}}Ut.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,Ut.PROVIDER_ID=B.P.PROVIDER_ID;const _t=B.aC;class Gt{constructor(K,ee,Ne=h.A.app()){var He;_t(null===(He=Ne.options)||void 0===He?void 0:He.apiKey,"invalid-api-key",{appName:Ne.name}),this._delegate=new B.R(Ne.auth(),K,ee),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function We(X){X.INTERNAL.registerComponent(new Se.uA("auth-compat",K=>{const ee=K.getProvider("app-compat").getImmediate(),Ne=K.getProvider("auth");return new Ar(ee,Ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.V,FacebookAuthProvider:B.W,GithubAuthProvider:B.Y,GoogleAuthProvider:B.X,OAuthProvider:B.Z,SAMLAuthProvider:B._,PhoneAuthProvider:Ut,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Gt,TwitterAuthProvider:B.$,Auth:Ar,AuthCredential:B.L,Error:Ee.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.5.14")}(h.A)},4341:(Mn,It,k)=>{"use strict";k.d(It,{MJ:()=>Lo,JD:()=>or,gE:()=>Ti,j4:()=>Qt,YN:()=>Ja,zX:()=>ls,VZ:()=>Hs,cz:()=>nt,kq:()=>ut,vO:()=>Lt,BC:()=>Hn,cb:()=>zt,cV:()=>jr,vS:()=>ci,X1:()=>gl,YS:()=>bs,k0:()=>rt,qT:()=>Ts});var d=k(3953),h=k(177),B=k(8455),Ee=k(1985),J=k(3073),ye=k(8750),Se=k(3794),Oe=k(4360),Ve=k(6450),we=k(8496),Fe=k(1413),Ye=k(6354);let Xe=(()=>{var Q;class F{constructor(W,ge){this._renderer=W,this._elementRef=ge,this.onChange=_n=>{},this.onTouched=()=>{}}setProperty(W,ge){this._renderer.setProperty(this._elementRef.nativeElement,W,ge)}registerOnTouched(W){this.onTouched=W}registerOnChange(W){this.onChange=W}setDisabledState(W){this.setProperty("disabled",W)}}return(Q=F).\u0275fac=function(W){return new(W||Q)(d.rXU(d.sFG),d.rXU(d.aKT))},Q.\u0275dir=d.FsC({type:Q}),F})(),ot=(()=>{var Q;class F extends Xe{}return(Q=F).\u0275fac=(()=>{let le;return function(ge){return(le||(le=d.xGo(Q)))(ge||Q)}})(),Q.\u0275dir=d.FsC({type:Q,features:[d.Vt3]}),F})();const ut=new d.nKC(""),Dt={provide:ut,useExisting:(0,d.Rfq)(()=>De),multi:!0},ue=new d.nKC("");let De=(()=>{var Q;class F extends Xe{constructor(W,ge,_n){super(W,ge),this._compositionMode=_n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vt(){const Q=(0,h.QT)()?(0,h.QT)().getUserAgent():"";return/android (\d+)/.test(Q.toLowerCase())}())}writeValue(W){this.setProperty("value",null==W?"":W)}_handleInput(W){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(W)}_compositionStart(){this._composing=!0}_compositionEnd(W){this._composing=!1,this._compositionMode&&this.onChange(W)}}return(Q=F).\u0275fac=function(W){return new(W||Q)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(ue,8))},Q.\u0275dir=d.FsC({type:Q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,ge){1&W&&d.bIt("input",function(yr){return ge._handleInput(yr.target.value)})("blur",function(){return ge.onTouched()})("compositionstart",function(){return ge._compositionStart()})("compositionend",function(yr){return ge._compositionEnd(yr.target.value)})},features:[d.Jv_([Dt]),d.Vt3]}),F})();function Re(Q){return null==Q||("string"==typeof Q||Array.isArray(Q))&&0===Q.length}function Ke(Q){return null!=Q&&"number"==typeof Q.length}const nt=new d.nKC(""),Ze=new d.nKC(""),pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rt{static min(F){return Ot(F)}static max(F){return Xt(F)}static required(F){return En(F)}static requiredTrue(F){return function tn(Q){return!0===Q.value?null:{required:!0}}(F)}static email(F){return function cn(Q){return Re(Q.value)||pe.test(Q.value)?null:{email:!0}}(F)}static minLength(F){return function ft(Q){return F=>Re(F.value)||!Ke(F.value)?null:F.value.length<Q?{minlength:{requiredLength:Q,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function Me(Q){return F=>Ke(F.value)&&F.value.length>Q?{maxlength:{requiredLength:Q,actualLength:F.value.length}}:null}(F)}static pattern(F){return function ie(Q){if(!Q)return oe;let F,le;return"string"==typeof Q?(le="","^"!==Q.charAt(0)&&(le+="^"),le+=Q,"$"!==Q.charAt(Q.length-1)&&(le+="$"),F=new RegExp(le)):(le=Q.toString(),F=Q),W=>{if(Re(W.value))return null;const ge=W.value;return F.test(ge)?null:{pattern:{requiredPattern:le,actualValue:ge}}}}(F)}static nullValidator(F){return null}static compose(F){return Pt(F)}static composeAsync(F){return Nn(F)}}function Ot(Q){return F=>{if(Re(F.value)||Re(Q))return null;const le=parseFloat(F.value);return!isNaN(le)&&le<Q?{min:{min:Q,actual:F.value}}:null}}function Xt(Q){return F=>{if(Re(F.value)||Re(Q))return null;const le=parseFloat(F.value);return!isNaN(le)&&le>Q?{max:{max:Q,actual:F.value}}:null}}function En(Q){return Re(Q.value)?{required:!0}:null}function oe(Q){return null}function he(Q){return null!=Q}function Ge(Q){return(0,d.jNT)(Q)?(0,B.H)(Q):Q}function mt(Q){let F={};return Q.forEach(le=>{F=null!=le?{...F,...le}:F}),0===Object.keys(F).length?null:F}function yt(Q,F){return F.map(le=>le(Q))}function Ft(Q){return Q.map(F=>function at(Q){return!Q.validate}(F)?F:le=>F.validate(le))}function Pt(Q){if(!Q)return null;const F=Q.filter(he);return 0==F.length?null:function(le){return mt(yt(le,F))}}function wt(Q){return null!=Q?Pt(Ft(Q)):null}function Nn(Q){if(!Q)return null;const F=Q.filter(he);return 0==F.length?null:function(le){return function se(...Q){const F=(0,Se.ms)(Q),{args:le,keys:W}=(0,J.D)(Q),ge=new Ee.c(_n=>{const{length:yr}=le;if(!yr)return void _n.complete();const Li=new Array(yr);let Ki=yr,Ui=yr;for(let Pr=0;Pr<yr;Pr++){let Za=!1;(0,ye.Tg)(le[Pr]).subscribe((0,Oe._)(_n,us=>{Za||(Za=!0,Ui--),Li[Pr]=us},()=>Ki--,void 0,()=>{(!Ki||!Za)&&(Ui||_n.next(W?(0,we.e)(W,Li):Li),_n.complete())}))}});return F?ge.pipe((0,Ve.I)(F)):ge}(yt(le,F).map(Ge)).pipe((0,Ye.T)(mt))}}function St(Q){return null!=Q?Nn(Ft(Q)):null}function kn(Q,F){return null===Q?[F]:Array.isArray(Q)?[...Q,F]:[Q,F]}function Ln(Q){return Q._rawValidators}function jn(Q){return Q._rawAsyncValidators}function qt(Q){return Q?Array.isArray(Q)?Q:[Q]:[]}function Zt(Q,F){return Array.isArray(Q)?Q.includes(F):Q===F}function rr(Q,F){const le=qt(F);return qt(Q).forEach(ge=>{Zt(le,ge)||le.push(ge)}),le}function ln(Q,F){return qt(F).filter(le=>!Zt(Q,le))}class $e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=wt(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=St(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F=void 0){this.control&&this.control.reset(F)}hasError(F,le){return!!this.control&&this.control.hasError(F,le)}getError(F,le){return this.control?this.control.getError(F,le):null}}class Ue extends $e{get formDirective(){return null}get path(){return null}}class Lt extends $e{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yn{constructor(F){this._cd=F}get isTouched(){var F,le,W;return null===(F=this._cd)||void 0===F||null===(F=F.control)||void 0===F||null===(le=F._touched)||void 0===le||le.call(F),!(null===(W=this._cd)||void 0===W||null===(W=W.control)||void 0===W||!W.touched)}get isUntouched(){var F;return!(null===(F=this._cd)||void 0===F||null===(F=F.control)||void 0===F||!F.untouched)}get isPristine(){var F,le,W;return null===(F=this._cd)||void 0===F||null===(F=F.control)||void 0===F||null===(le=F._pristine)||void 0===le||le.call(F),!(null===(W=this._cd)||void 0===W||null===(W=W.control)||void 0===W||!W.pristine)}get isDirty(){var F;return!(null===(F=this._cd)||void 0===F||null===(F=F.control)||void 0===F||!F.dirty)}get isValid(){var F,le,W;return null===(F=this._cd)||void 0===F||null===(F=F.control)||void 0===F||null===(le=F._status)||void 0===le||le.call(F),!(null===(W=this._cd)||void 0===W||null===(W=W.control)||void 0===W||!W.valid)}get isInvalid(){var F;return!(null===(F=this._cd)||void 0===F||null===(F=F.control)||void 0===F||!F.invalid)}get isPending(){var F;return!(null===(F=this._cd)||void 0===F||null===(F=F.control)||void 0===F||!F.pending)}get isSubmitted(){var F,le,W;return null===(F=this._cd)||void 0===F||null===(le=F._submitted)||void 0===le||le.call(F),!(null===(W=this._cd)||void 0===W||!W.submitted)}}let Hn=(()=>{var Q;class F extends yn{constructor(W){super(W)}}return(Q=F).\u0275fac=function(W){return new(W||Q)(d.rXU(Lt,2))},Q.\u0275dir=d.FsC({type:Q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,ge){2&W&&d.AVh("ng-untouched",ge.isUntouched)("ng-touched",ge.isTouched)("ng-pristine",ge.isPristine)("ng-dirty",ge.isDirty)("ng-valid",ge.isValid)("ng-invalid",ge.isInvalid)("ng-pending",ge.isPending)},features:[d.Vt3]}),F})(),zt=(()=>{var Q;class F extends yn{constructor(W){super(W)}}return(Q=F).\u0275fac=function(W){return new(W||Q)(d.rXU(Ue,10))},Q.\u0275dir=d.FsC({type:Q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,ge){2&W&&d.AVh("ng-untouched",ge.isUntouched)("ng-touched",ge.isTouched)("ng-pristine",ge.isPristine)("ng-dirty",ge.isDirty)("ng-valid",ge.isValid)("ng-invalid",ge.isInvalid)("ng-pending",ge.isPending)("ng-submitted",ge.isSubmitted)},features:[d.Vt3]}),F})();const _t="VALID",Gt="INVALID",ke="PENDING",We="DISABLED";class X{}class K extends X{constructor(F,le){super(),this.value=F,this.source=le}}class ee extends X{constructor(F,le){super(),this.pristine=F,this.source=le}}class Ne extends X{constructor(F,le){super(),this.touched=F,this.source=le}}class He extends X{constructor(F,le){super(),this.status=F,this.source=le}}class Wt extends X{constructor(F){super(),this.source=F}}class In extends X{constructor(F){super(),this.source=F}}function Xn(Q){return(xn(Q)?Q.validators:Q)||null}function ht(Q,F){return(xn(F)?F.asyncValidators:Q)||null}function xn(Q){return null!=Q&&!Array.isArray(Q)&&"object"==typeof Q}class no{constructor(F,le){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new Fe.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(le)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(F){(0,d.O8t)(()=>this.statusReactive.set(F))}get valid(){return this.status===_t}get invalid(){return this.status===Gt}get pending(){return this.status==ke}get disabled(){return this.status===We}get enabled(){return this.status!==We}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(F){(0,d.O8t)(()=>this.pristineReactive.set(F))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(F){(0,d.O8t)(()=>this.touchedReactive.set(F))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(rr(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(rr(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(ln(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(ln(F,this._rawAsyncValidators))}hasValidator(F){return Zt(this._rawValidators,F)}hasAsyncValidator(F){return Zt(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){var le;const W=!1===this.touched;this.touched=!0;const ge=null!==(le=F.sourceControl)&&void 0!==le?le:this;this._parent&&!F.onlySelf&&this._parent.markAsTouched({...F,sourceControl:ge}),W&&!1!==F.emitEvent&&this._events.next(new Ne(!0,ge))}markAllAsTouched(F={}){this.markAsTouched({onlySelf:!0,emitEvent:F.emitEvent,sourceControl:this}),this._forEachChild(le=>le.markAllAsTouched(F))}markAsUntouched(F={}){var le;const W=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ge=null!==(le=F.sourceControl)&&void 0!==le?le:this;this._forEachChild(_n=>{_n.markAsUntouched({onlySelf:!0,emitEvent:F.emitEvent,sourceControl:ge})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F,ge),W&&!1!==F.emitEvent&&this._events.next(new Ne(!1,ge))}markAsDirty(F={}){var le;const W=!0===this.pristine;this.pristine=!1;const ge=null!==(le=F.sourceControl)&&void 0!==le?le:this;this._parent&&!F.onlySelf&&this._parent.markAsDirty({...F,sourceControl:ge}),W&&!1!==F.emitEvent&&this._events.next(new ee(!1,ge))}markAsPristine(F={}){var le;const W=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ge=null!==(le=F.sourceControl)&&void 0!==le?le:this;this._forEachChild(_n=>{_n.markAsPristine({onlySelf:!0,emitEvent:F.emitEvent})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F,ge),W&&!1!==F.emitEvent&&this._events.next(new ee(!0,ge))}markAsPending(F={}){var le;this.status=ke;const W=null!==(le=F.sourceControl)&&void 0!==le?le:this;!1!==F.emitEvent&&(this._events.next(new He(this.status,W)),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.markAsPending({...F,sourceControl:W})}disable(F={}){var le;const W=this._parentMarkedDirty(F.onlySelf);this.status=We,this.errors=null,this._forEachChild(_n=>{_n.disable({...F,onlySelf:!0})}),this._updateValue();const ge=null!==(le=F.sourceControl)&&void 0!==le?le:this;!1!==F.emitEvent&&(this._events.next(new K(this.value,ge)),this._events.next(new He(this.status,ge)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:W},this),this._onDisabledChange.forEach(_n=>_n(!0))}enable(F={}){const le=this._parentMarkedDirty(F.onlySelf);this.status=_t,this._forEachChild(W=>{W.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:le},this),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(F,le){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine({},le),this._parent._updateTouched({},le))}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){var le;if(this._setInitialStatus(),this._updateValue(),this.enabled){const ge=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_t||this.status===ke)&&this._runAsyncValidator(ge,F.emitEvent)}const W=null!==(le=F.sourceControl)&&void 0!==le?le:this;!1!==F.emitEvent&&(this._events.next(new K(this.value,W)),this._events.next(new He(this.status,W)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity({...F,sourceControl:W})}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(le=>le._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?We:_t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F,le){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator={emitEvent:!1!==le};const W=Ge(this.asyncValidator(this));this._asyncValidationSubscription=W.subscribe(ge=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ge,{emitEvent:le,shouldHaveEmitted:F})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var F,le;this._asyncValidationSubscription.unsubscribe();const W=null!==(F=null===(le=this._hasOwnPendingAsyncValidator)||void 0===le?void 0:le.emitEvent)&&void 0!==F&&F;return this._hasOwnPendingAsyncValidator=null,W}return!1}setErrors(F,le={}){this.errors=F,this._updateControlsErrors(!1!==le.emitEvent,this,le.shouldHaveEmitted)}get(F){let le=F;return null==le||(Array.isArray(le)||(le=le.split(".")),0===le.length)?null:le.reduce((W,ge)=>W&&W._find(ge),this)}getError(F,le){const W=le?this.get(le):this;return W&&W.errors?W.errors[F]:null}hasError(F,le){return!!this.getError(F,le)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F,le,W){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),(F||W)&&this._events.next(new He(this.status,le)),this._parent&&this._parent._updateControlsErrors(F,le,W)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?We:this.errors?Gt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(Gt)?Gt:_t}_anyControlsHaveStatus(F){return this._anyControls(le=>le.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F,le){const W=!this._anyControlsDirty(),ge=this.pristine!==W;this.pristine=W,this._parent&&!F.onlySelf&&this._parent._updatePristine(F,le),ge&&this._events.next(new ee(this.pristine,le))}_updateTouched(F={},le){this.touched=this._anyControlsTouched(),this._events.next(new Ne(this.touched,le)),this._parent&&!F.onlySelf&&this._parent._updateTouched(F,le)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){xn(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Tr(Q){return Array.isArray(Q)?wt(Q):Q||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function fr(Q){return Array.isArray(Q)?St(Q):Q||null}(this._rawAsyncValidators)}}class Ti extends no{constructor(F,le,W){super(Xn(le),ht(W,le)),this.controls=F,this._initObservables(),this._setUpdateStrategy(le),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,le){return this.controls[F]?this.controls[F]:(this.controls[F]=le,le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange),le)}addControl(F,le,W={}){this.registerControl(F,le),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(F,le={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}setControl(F,le,W={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],le&&this.registerControl(F,le),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,le={}){(function ji(Q,F,le){Q._forEachChild((W,ge)=>{if(void 0===le[ge])throw new d.wOt(1002,"")})})(this,0,F),Object.keys(F).forEach(W=>{(function Wr(Q,F,le){const W=Q.controls;if(!(F?Object.keys(W):W).length)throw new d.wOt(1e3,"");if(!W[le])throw new d.wOt(1001,"")})(this,!0,W),this.controls[W].setValue(F[W],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le)}patchValue(F,le={}){null!=F&&(Object.keys(F).forEach(W=>{const ge=this.controls[W];ge&&ge.patchValue(F[W],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le))}reset(F={},le={}){this._forEachChild((W,ge)=>{W.reset(F?F[ge]:null,{onlySelf:!0,emitEvent:le.emitEvent})}),this._updatePristine(le,this),this._updateTouched(le,this),this.updateValueAndValidity(le)}getRawValue(){return this._reduceChildren({},(F,le,W)=>(F[W]=le.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(le,W)=>!!W._syncPendingControls()||le);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(le=>{const W=this.controls[le];W&&F(W,le)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[le,W]of Object.entries(this.controls))if(this.contains(le)&&F(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(le,W,ge)=>((W.enabled||this.disabled)&&(le[ge]=W.value),le))}_reduceChildren(F,le){let W=F;return this._forEachChild((ge,_n)=>{W=le(W,ge,_n)}),W}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}const Je=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Te}),Te="always";function Et(Q,F){return[...F.path,Q]}function ce(Q,F,le=Te){var W,ge;mn(Q,F),F.valueAccessor.writeValue(Q.value),(Q.disabled||"always"===le)&&(null===(W=(ge=F.valueAccessor).setDisabledState)||void 0===W||W.call(ge,Q.disabled)),function Kn(Q,F){F.valueAccessor.registerOnChange(le=>{Q._pendingValue=le,Q._pendingChange=!0,Q._pendingDirty=!0,"change"===Q.updateOn&&ki(Q,F)})}(Q,F),function Ie(Q,F){const le=(W,ge)=>{F.valueAccessor.writeValue(W),ge&&F.viewToModelUpdate(W)};Q.registerOnChange(le),F._registerOnDestroy(()=>{Q._unregisterOnChange(le)})}(Q,F),function Sr(Q,F){F.valueAccessor.registerOnTouched(()=>{Q._pendingTouched=!0,"blur"===Q.updateOn&&Q._pendingChange&&ki(Q,F),"submit"!==Q.updateOn&&Q.markAsTouched()})}(Q,F),function Bt(Q,F){if(F.valueAccessor.setDisabledState){const le=W=>{F.valueAccessor.setDisabledState(W)};Q.registerOnDisabledChange(le),F._registerOnDestroy(()=>{Q._unregisterOnDisabledChange(le)})}}(Q,F)}function de(Q,F,le=!0){const W=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(W),F.valueAccessor.registerOnTouched(W)),wn(Q,F),Q&&(F._invokeOnDestroyCallbacks(),Q._registerOnCollectionChange(()=>{}))}function ze(Q,F){Q.forEach(le=>{le.registerOnValidatorChange&&le.registerOnValidatorChange(F)})}function mn(Q,F){const le=Ln(Q);null!==F.validator?Q.setValidators(kn(le,F.validator)):"function"==typeof le&&Q.setValidators([le]);const W=jn(Q);null!==F.asyncValidator?Q.setAsyncValidators(kn(W,F.asyncValidator)):"function"==typeof W&&Q.setAsyncValidators([W]);const ge=()=>Q.updateValueAndValidity();ze(F._rawValidators,ge),ze(F._rawAsyncValidators,ge)}function wn(Q,F){let le=!1;if(null!==Q){if(null!==F.validator){const ge=Ln(Q);if(Array.isArray(ge)&&ge.length>0){const _n=ge.filter(yr=>yr!==F.validator);_n.length!==ge.length&&(le=!0,Q.setValidators(_n))}}if(null!==F.asyncValidator){const ge=jn(Q);if(Array.isArray(ge)&&ge.length>0){const _n=ge.filter(yr=>yr!==F.asyncValidator);_n.length!==ge.length&&(le=!0,Q.setAsyncValidators(_n))}}}const W=()=>{};return ze(F._rawValidators,W),ze(F._rawAsyncValidators,W),le}function ki(Q,F){Q._pendingDirty&&Q.markAsDirty(),Q.setValue(Q._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1}function Qe(Q,F){mn(Q,F)}function An(Q,F){if(!Q.hasOwnProperty("model"))return!1;const le=Q.model;return!!le.isFirstChange()||!Object.is(F,le.currentValue)}function Un(Q,F){Q._syncPendingControls(),F.forEach(le=>{const W=le.control;"submit"===W.updateOn&&W._pendingChange&&(le.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}function Jn(Q,F){if(!F)return null;let le,W,ge;return Array.isArray(F),F.forEach(_n=>{_n.constructor===De?le=_n:function Sn(Q){return Object.getPrototypeOf(Q.constructor)===ot}(_n)?W=_n:ge=_n}),ge||W||le||null}const Xr={provide:Ue,useExisting:(0,d.Rfq)(()=>jr)},Si=Promise.resolve();let jr=(()=>{var Q;class F extends Ue{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor(W,ge,_n){super(),this.callSetDisabledState=_n,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new Ti({},wt(W),St(ge))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(W){Si.then(()=>{const ge=this._findContainer(W.path);W.control=ge.registerControl(W.name,W.control),ce(W.control,W,this.callSetDisabledState),W.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(W)})}getControl(W){return this.form.get(W.path)}removeControl(W){Si.then(()=>{const ge=this._findContainer(W.path);ge&&ge.removeControl(W.name),this._directives.delete(W)})}addFormGroup(W){Si.then(()=>{const ge=this._findContainer(W.path),_n=new Ti({});Qe(_n,W),ge.registerControl(W.name,_n),_n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(W){Si.then(()=>{const ge=this._findContainer(W.path);ge&&ge.removeControl(W.name)})}getFormGroup(W){return this.form.get(W.path)}updateModel(W,ge){Si.then(()=>{this.form.get(W.path).setValue(ge)})}setValue(W){this.control.setValue(W)}onSubmit(W){var ge;return this.submittedReactive.set(!0),Un(this.form,this._directives),this.ngSubmit.emit(W),"dialog"===(null==W||null===(ge=W.target)||void 0===ge?void 0:ge.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(W){return W.pop(),W.length?this.form.get(W):this.form}}return(Q=F).\u0275fac=function(W){return new(W||Q)(d.rXU(nt,10),d.rXU(Ze,10),d.rXU(Je,8))},Q.\u0275dir=d.FsC({type:Q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(W,ge){1&W&&d.bIt("submit",function(yr){return ge.onSubmit(yr)})("reset",function(){return ge.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Xr]),d.Vt3]}),F})();function oo(Q,F){const le=Q.indexOf(F);le>-1&&Q.splice(le,1)}function ko(Q){return"object"==typeof Q&&null!==Q&&2===Object.keys(Q).length&&"value"in Q&&"disabled"in Q}const Lo=class extends no{constructor(F=null,le,W){super(Xn(le),ht(W,le)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(le),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xn(le)&&(le.nonNullable||le.initialValueIsDefault)&&(this.defaultValue=ko(F)?F.value:F)}setValue(F,le={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==le.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==le.emitViewToModelChange)),this.updateValueAndValidity(le)}patchValue(F,le={}){this.setValue(F,le)}reset(F=this.defaultValue,le={}){this._applyFormState(F),this.markAsPristine(le),this.markAsUntouched(le),this.setValue(this.value,le),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){oo(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){oo(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){ko(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},As={provide:Lt,useExisting:(0,d.Rfq)(()=>ci)},zi=Promise.resolve();let ci=(()=>{var Q;class F extends Lt{constructor(W,ge,_n,yr,Li,Ki){super(),this._changeDetectorRef=Li,this.callSetDisabledState=Ki,this.control=new Lo,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=W,this._setValidators(ge),this._setAsyncValidators(_n),this.valueAccessor=Jn(0,yr)}ngOnChanges(W){if(this._checkForErrors(),!this._registered||"name"in W){if(this._registered&&(this._checkName(),this.formDirective)){const ge=W.name.previousValue;this.formDirective.removeControl({name:ge,path:this._getPath(ge)})}this._setUpControl()}"isDisabled"in W&&this._updateDisabled(W),An(W,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ce(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(W){zi.then(()=>{var ge;this.control.setValue(W,{emitViewToModelChange:!1}),null===(ge=this._changeDetectorRef)||void 0===ge||ge.markForCheck()})}_updateDisabled(W){const ge=W.isDisabled.currentValue,_n=0!==ge&&(0,d.L39)(ge);zi.then(()=>{var yr;_n&&!this.control.disabled?this.control.disable():!_n&&this.control.disabled&&this.control.enable(),null===(yr=this._changeDetectorRef)||void 0===yr||yr.markForCheck()})}_getPath(W){return this._parent?Et(W,this._parent):[W]}}return(Q=F).\u0275fac=function(W){return new(W||Q)(d.rXU(Ue,9),d.rXU(nt,10),d.rXU(Ze,10),d.rXU(ut,10),d.rXU(d.gRc,8),d.rXU(Je,8))},Q.\u0275dir=d.FsC({type:Q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([As]),d.Vt3,d.OA$]}),F})(),Ts=(()=>{var Q;class F{}return(Q=F).\u0275fac=function(W){return new(W||Q)},Q.\u0275dir=d.FsC({type:Q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})();const T=new d.nKC(""),dt={provide:Ue,useExisting:(0,d.Rfq)(()=>Qt)};let Qt=(()=>{var Q;class F extends Ue{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(W){this._submittedReactive.set(W)}constructor(W,ge,_n){super(),this.callSetDisabledState=_n,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(W),this._setAsyncValidators(ge)}ngOnChanges(W){this._checkFormPresent(),W.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(W){const ge=this.form.get(W.path);return ce(ge,W,this.callSetDisabledState),ge.updateValueAndValidity({emitEvent:!1}),this.directives.push(W),ge}getControl(W){return this.form.get(W.path)}removeControl(W){de(W.control||null,W,!1),function ar(Q,F){const le=Q.indexOf(F);le>-1&&Q.splice(le,1)}(this.directives,W)}addFormGroup(W){this._setUpFormContainer(W)}removeFormGroup(W){this._cleanUpFormContainer(W)}getFormGroup(W){return this.form.get(W.path)}addFormArray(W){this._setUpFormContainer(W)}removeFormArray(W){this._cleanUpFormContainer(W)}getFormArray(W){return this.form.get(W.path)}updateModel(W,ge){this.form.get(W.path).setValue(ge)}onSubmit(W){var ge;return this._submittedReactive.set(!0),Un(this.form,this.directives),this.ngSubmit.emit(W),this.form._events.next(new Wt(this.control)),"dialog"===(null==W||null===(ge=W.target)||void 0===ge?void 0:ge.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this._submittedReactive.set(!1),this.form._events.next(new In(this.form))}_updateDomValue(){this.directives.forEach(W=>{const ge=W.control,_n=this.form.get(W.path);ge!==_n&&(de(ge||null,W),(Q=>Q instanceof Lo)(_n)&&(ce(_n,W,this.callSetDisabledState),W.control=_n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(W){const ge=this.form.get(W.path);Qe(ge,W),ge.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(W){if(this.form){const ge=this.form.get(W.path);ge&&function xe(Q,F){return wn(Q,F)}(ge,W)&&ge.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mn(this.form,this),this._oldForm&&wn(this._oldForm,this)}_checkFormPresent(){}}return(Q=F).\u0275fac=function(W){return new(W||Q)(d.rXU(nt,10),d.rXU(Ze,10),d.rXU(Je,8))},Q.\u0275dir=d.FsC({type:Q,selectors:[["","formGroup",""]],hostBindings:function(W,ge){1&W&&d.bIt("submit",function(yr){return ge.onSubmit(yr)})("reset",function(){return ge.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([dt]),d.Vt3,d.OA$]}),F})();const Yn={provide:Lt,useExisting:(0,d.Rfq)(()=>or)};let or=(()=>{var Q;class F extends Lt{set isDisabled(W){}constructor(W,ge,_n,yr,Li){super(),this._ngModelWarningConfig=Li,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=W,this._setValidators(ge),this._setAsyncValidators(_n),this.valueAccessor=Jn(0,yr)}ngOnChanges(W){this._added||this._setUpControl(),An(W,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}get path(){return Et(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(Q=F)._ngModelWarningSentOnce=!1,Q.\u0275fac=function(W){return new(W||Q)(d.rXU(Ue,13),d.rXU(nt,10),d.rXU(Ze,10),d.rXU(ut,10),d.rXU(T,8))},Q.\u0275dir=d.FsC({type:Q,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([Yn]),d.Vt3,d.OA$]}),F})();function Oa(Q){return"number"==typeof Q?Q:parseFloat(Q)}let wo=(()=>{var Q;class F{constructor(){this._validator=oe}ngOnChanges(W){if(this.inputName in W){const ge=this.normalizeInput(W[this.inputName].currentValue);this._enabled=this.enabled(ge),this._validator=this._enabled?this.createValidator(ge):oe,this._onChange&&this._onChange()}}validate(W){return this._validator(W)}registerOnValidatorChange(W){this._onChange=W}enabled(W){return null!=W}}return(Q=F).\u0275fac=function(W){return new(W||Q)},Q.\u0275dir=d.FsC({type:Q,features:[d.OA$]}),F})();const yo={provide:nt,useExisting:(0,d.Rfq)(()=>ls),multi:!0};let ls=(()=>{var Q;class F extends wo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=W=>Oa(W),this.createValidator=W=>Xt(W)}}return(Q=F).\u0275fac=(()=>{let le;return function(ge){return(le||(le=d.xGo(Q)))(ge||Q)}})(),Q.\u0275dir=d.FsC({type:Q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,ge){2&W&&d.BMQ("max",ge._enabled?ge.max:null)},inputs:{max:"max"},features:[d.Jv_([yo]),d.Vt3]}),F})();const gs={provide:nt,useExisting:(0,d.Rfq)(()=>Hs),multi:!0};let Hs=(()=>{var Q;class F extends wo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=W=>Oa(W),this.createValidator=W=>Ot(W)}}return(Q=F).\u0275fac=(()=>{let le;return function(ge){return(le||(le=d.xGo(Q)))(ge||Q)}})(),Q.\u0275dir=d.FsC({type:Q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,ge){2&W&&d.BMQ("min",ge._enabled?ge.min:null)},inputs:{min:"min"},features:[d.Jv_([gs]),d.Vt3]}),F})();const fl={provide:nt,useExisting:(0,d.Rfq)(()=>bs),multi:!0};let bs=(()=>{var Q;class F extends wo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=W=>En}enabled(W){return W}}return(Q=F).\u0275fac=(()=>{let le;return function(ge){return(le||(le=d.xGo(Q)))(ge||Q)}})(),Q.\u0275dir=d.FsC({type:Q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(W,ge){2&W&&d.BMQ("required",ge._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([fl]),d.Vt3]}),F})(),Vo=(()=>{var Q;class F{}return(Q=F).\u0275fac=function(W){return new(W||Q)},Q.\u0275mod=d.$C({type:Q}),Q.\u0275inj=d.G2t({}),F})(),Ja=(()=>{var Q;class F{static withConfig(W){var ge;return{ngModule:F,providers:[{provide:Je,useValue:null!==(ge=W.callSetDisabledState)&&void 0!==ge?ge:Te}]}}}return(Q=F).\u0275fac=function(W){return new(W||Q)},Q.\u0275mod=d.$C({type:Q}),Q.\u0275inj=d.G2t({imports:[Vo]}),F})(),gl=(()=>{var Q;class F{static withConfig(W){var ge,_n;return{ngModule:F,providers:[{provide:T,useValue:null!==(ge=W.warnOnNgModelWithFormControl)&&void 0!==ge?ge:"always"},{provide:Je,useValue:null!==(_n=W.callSetDisabledState)&&void 0!==_n?_n:Te}]}}}return(Q=F).\u0275fac=function(W){return new(W||Q)},Q.\u0275mod=d.$C({type:Q}),Q.\u0275inj=d.G2t({imports:[Vo]}),F})()},345:(Mn,It,k)=>{"use strict";k.d(It,{Bb:()=>qt,hE:()=>ln,sG:()=>St});var d=k(177),h=k(3953);class B extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends B{static makeCurrent(){(0,d.ZD)(new Ee)}onAndCancel(_t,Gt,ke){return _t.addEventListener(Gt,ke),()=>{_t.removeEventListener(Gt,ke)}}dispatchEvent(_t,Gt){_t.dispatchEvent(Gt)}remove(_t){_t.remove()}createElement(_t,Gt){return(Gt=Gt||this.getDefaultDocument()).createElement(_t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_t){return _t.nodeType===Node.ELEMENT_NODE}isShadowRoot(_t){return _t instanceof DocumentFragment}getGlobalEventTarget(_t,Gt){return"window"===Gt?window:"document"===Gt?_t:"body"===Gt?_t.body:null}getBaseHref(_t){const Gt=function ye(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==Gt?null:function Se(Ut){return new URL(Ut,document.baseURI).pathname}(Gt)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(_t){return(0,d._b)(document.cookie,_t)}}let J=null,Ve=(()=>{var Ut;class _t{build(){return new XMLHttpRequest}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac}),_t})();const we=new h.nKC("");let se=(()=>{var Ut;class _t{constructor(ke,We){this._zone=We,this._eventNameToPlugin=new Map,ke.forEach(X=>{X.manager=this}),this._plugins=ke.slice().reverse()}addEventListener(ke,We,X){return this._findPluginFor(We).addEventListener(ke,We,X)}getZone(){return this._zone}_findPluginFor(ke){let We=this._eventNameToPlugin.get(ke);if(We)return We;if(We=this._plugins.find(K=>K.supports(ke)),!We)throw new h.wOt(5101,!1);return this._eventNameToPlugin.set(ke,We),We}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(we),h.KVO(h.SKi))},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac}),_t})();class Fe{constructor(_t){this._doc=_t}}const Ye="ng-app-id";let Xe=(()=>{var Ut;class _t{constructor(ke,We,X,K={}){this.doc=ke,this.appId=We,this.nonce=X,this.platformId=K,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(K),this.resetHostNodes()}addStyles(ke){for(const We of ke)1===this.changeUsageCount(We,1)&&this.onStyleAdded(We)}removeStyles(ke){for(const We of ke)this.changeUsageCount(We,-1)<=0&&this.onStyleRemoved(We)}ngOnDestroy(){const ke=this.styleNodesInDOM;ke&&(ke.forEach(We=>We.remove()),ke.clear());for(const We of this.getAllStyles())this.onStyleRemoved(We);this.resetHostNodes()}addHost(ke){this.hostNodes.add(ke);for(const We of this.getAllStyles())this.addStyleToHost(ke,We)}removeHost(ke){this.hostNodes.delete(ke)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ke){for(const We of this.hostNodes)this.addStyleToHost(We,ke)}onStyleRemoved(ke){var We;const X=this.styleRef;null===(We=X.get(ke))||void 0===We||null===(We=We.elements)||void 0===We||We.forEach(K=>K.remove()),X.delete(ke)}collectServerRenderedStyles(){var ke;const We=null===(ke=this.doc.head)||void 0===ke?void 0:ke.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(null!=We&&We.length){const X=new Map;return We.forEach(K=>{null!=K.textContent&&X.set(K.textContent,K)}),X}return null}changeUsageCount(ke,We){const X=this.styleRef;if(X.has(ke)){const K=X.get(ke);return K.usage+=We,K.usage}return X.set(ke,{usage:We,elements:[]}),We}getStyleElement(ke,We){const X=this.styleNodesInDOM,K=null==X?void 0:X.get(We);if((null==K?void 0:K.parentNode)===ke)return X.delete(We),K.removeAttribute(Ye),K;{const ee=this.doc.createElement("style");return this.nonce&&ee.setAttribute("nonce",this.nonce),ee.textContent=We,this.platformIsServer&&ee.setAttribute(Ye,this.appId),ke.appendChild(ee),ee}}addStyleToHost(ke,We){var X;const K=this.getStyleElement(ke,We),ee=this.styleRef,Ne=null===(X=ee.get(We))||void 0===X?void 0:X.elements;Ne?Ne.push(K):ee.set(We,{elements:[K],usage:1})}resetHostNodes(){const ke=this.hostNodes;ke.clear(),ke.add(this.doc.head)}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(d.qQ),h.KVO(h.sZ2),h.KVO(h.BIS,8),h.KVO(h.Agw))},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac}),_t})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ut=/%COMP%/g,ue=new h.nKC("",{providedIn:"root",factory:()=>!0});function Ke(Ut,_t){return _t.map(Gt=>Gt.replace(ut,Ut))}let nt=(()=>{var Ut;class _t{constructor(ke,We,X,K,ee,Ne,He,Wt=null){this.eventManager=ke,this.sharedStylesHost=We,this.appId=X,this.removeStylesOnCompDestroy=K,this.doc=ee,this.platformId=Ne,this.ngZone=He,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(Ne),this.defaultRenderer=new Ze(ke,ee,He,this.platformIsServer)}createRenderer(ke,We){if(!ke||!We)return this.defaultRenderer;this.platformIsServer&&We.encapsulation===h.gXe.ShadowDom&&(We={...We,encapsulation:h.gXe.Emulated});const X=this.getOrCreateRenderer(ke,We);return X instanceof tn?X.applyToHost(ke):X instanceof En&&X.applyStyles(),X}getOrCreateRenderer(ke,We){const X=this.rendererByCompId;let K=X.get(We.id);if(!K){const ee=this.doc,Ne=this.ngZone,He=this.eventManager,Wt=this.sharedStylesHost,In=this.removeStylesOnCompDestroy,Xn=this.platformIsServer;switch(We.encapsulation){case h.gXe.Emulated:K=new tn(He,Wt,We,this.appId,In,ee,Ne,Xn);break;case h.gXe.ShadowDom:return new Xt(He,Wt,ke,We,ee,Ne,this.nonce,Xn);default:K=new En(He,Wt,We,In,ee,Ne,Xn)}X.set(We.id,K)}return K}ngOnDestroy(){this.rendererByCompId.clear()}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(se),h.KVO(Xe),h.KVO(h.sZ2),h.KVO(ue),h.KVO(d.qQ),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(h.BIS))},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac}),_t})();class Ze{constructor(_t,Gt,ke,We){this.eventManager=_t,this.doc=Gt,this.ngZone=ke,this.platformIsServer=We,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(_t,Gt){return Gt?this.doc.createElementNS(ot[Gt]||Gt,_t):this.doc.createElement(_t)}createComment(_t){return this.doc.createComment(_t)}createText(_t){return this.doc.createTextNode(_t)}appendChild(_t,Gt){(Ot(_t)?_t.content:_t).appendChild(Gt)}insertBefore(_t,Gt,ke){_t&&(Ot(_t)?_t.content:_t).insertBefore(Gt,ke)}removeChild(_t,Gt){Gt.remove()}selectRootElement(_t,Gt){let ke="string"==typeof _t?this.doc.querySelector(_t):_t;if(!ke)throw new h.wOt(-5104,!1);return Gt||(ke.textContent=""),ke}parentNode(_t){return _t.parentNode}nextSibling(_t){return _t.nextSibling}setAttribute(_t,Gt,ke,We){if(We){Gt=We+":"+Gt;const X=ot[We];X?_t.setAttributeNS(X,Gt,ke):_t.setAttribute(Gt,ke)}else _t.setAttribute(Gt,ke)}removeAttribute(_t,Gt,ke){if(ke){const We=ot[ke];We?_t.removeAttributeNS(We,Gt):_t.removeAttribute(`${ke}:${Gt}`)}else _t.removeAttribute(Gt)}addClass(_t,Gt){_t.classList.add(Gt)}removeClass(_t,Gt){_t.classList.remove(Gt)}setStyle(_t,Gt,ke,We){We&(h.czy.DashCase|h.czy.Important)?_t.style.setProperty(Gt,ke,We&h.czy.Important?"important":""):_t.style[Gt]=ke}removeStyle(_t,Gt,ke){ke&h.czy.DashCase?_t.style.removeProperty(Gt):_t.style[Gt]=""}setProperty(_t,Gt,ke){null!=_t&&(_t[Gt]=ke)}setValue(_t,Gt){_t.nodeValue=Gt}listen(_t,Gt,ke){if("string"==typeof _t&&!(_t=(0,d.QT)().getGlobalEventTarget(this.doc,_t)))throw new Error(`Unsupported event target ${_t} for event ${Gt}`);return this.eventManager.addEventListener(_t,Gt,this.decoratePreventDefault(ke))}decoratePreventDefault(_t){return Gt=>{if("__ngUnwrap__"===Gt)return _t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>_t(Gt)):_t(Gt))&&Gt.preventDefault()}}}function Ot(Ut){return"TEMPLATE"===Ut.tagName&&void 0!==Ut.content}class Xt extends Ze{constructor(_t,Gt,ke,We,X,K,ee,Ne){super(_t,X,K,Ne),this.sharedStylesHost=Gt,this.hostEl=ke,this.shadowRoot=ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const He=Ke(We.id,We.styles);for(const Wt of He){const In=document.createElement("style");ee&&In.setAttribute("nonce",ee),In.textContent=Wt,this.shadowRoot.appendChild(In)}}nodeOrShadowRoot(_t){return _t===this.hostEl?this.shadowRoot:_t}appendChild(_t,Gt){return super.appendChild(this.nodeOrShadowRoot(_t),Gt)}insertBefore(_t,Gt,ke){return super.insertBefore(this.nodeOrShadowRoot(_t),Gt,ke)}removeChild(_t,Gt){return super.removeChild(null,Gt)}parentNode(_t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class En extends Ze{constructor(_t,Gt,ke,We,X,K,ee,Ne){super(_t,X,K,ee),this.sharedStylesHost=Gt,this.removeStylesOnCompDestroy=We,this.styles=Ne?Ke(Ne,ke.styles):ke.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tn extends En{constructor(_t,Gt,ke,We,X,K,ee,Ne){const He=We+"-"+ke.id;super(_t,Gt,ke,X,K,ee,Ne,He),this.contentAttr=function De(Ut){return"_ngcontent-%COMP%".replace(ut,Ut)}(He),this.hostAttr=function Re(Ut){return"_nghost-%COMP%".replace(ut,Ut)}(He)}applyToHost(_t){this.applyStyles(),this.setAttribute(_t,this.hostAttr,"")}createElement(_t,Gt){const ke=super.createElement(_t,Gt);return super.setAttribute(ke,this.contentAttr,""),ke}}let cn=(()=>{var Ut;class _t extends Fe{constructor(ke){super(ke)}supports(ke){return!0}addEventListener(ke,We,X){return ke.addEventListener(We,X,!1),()=>this.removeEventListener(ke,We,X)}removeEventListener(ke,We,X){return ke.removeEventListener(We,X)}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(d.qQ))},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac}),_t})(),ft=(()=>{var Ut;class _t extends Fe{constructor(ke){super(ke),this.delegate=(0,h.WQX)(h.zAP,{optional:!0})}supports(ke){return!!this.delegate&&this.delegate.supports(ke)}addEventListener(ke,We,X){return this.delegate.addEventListener(ke,We,X)}removeEventListener(ke,We,X){return this.delegate.removeEventListener(ke,We,X)}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(d.qQ))},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac}),_t})();const Me=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={alt:Ut=>Ut.altKey,control:Ut=>Ut.ctrlKey,meta:Ut=>Ut.metaKey,shift:Ut=>Ut.shiftKey};let he=(()=>{var Ut;class _t extends Fe{constructor(ke){super(ke)}supports(ke){return null!=_t.parseEventName(ke)}addEventListener(ke,We,X){const K=_t.parseEventName(We),ee=_t.eventCallback(K.fullKey,X,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(ke,K.domEventName,ee))}static parseEventName(ke){const We=ke.toLowerCase().split("."),X=We.shift();if(0===We.length||"keydown"!==X&&"keyup"!==X)return null;const K=_t._normalizeKey(We.pop());let ee="",Ne=We.indexOf("code");if(Ne>-1&&(We.splice(Ne,1),ee="code."),Me.forEach(Wt=>{const In=We.indexOf(Wt);In>-1&&(We.splice(In,1),ee+=Wt+".")}),ee+=K,0!=We.length||0===K.length)return null;const He={};return He.domEventName=X,He.fullKey=ee,He}static matchEventFullKeyCode(ke,We){let X=ie[ke.key]||ke.key,K="";return We.indexOf("code.")>-1&&(X=ke.code,K="code."),!(null==X||!X)&&(X=X.toLowerCase()," "===X?X="space":"."===X&&(X="dot"),Me.forEach(ee=>{ee!==X&&(0,oe[ee])(ke)&&(K+=ee+".")}),K+=X,K===We)}static eventCallback(ke,We,X){return K=>{_t.matchEventFullKeyCode(K,ke)&&X.runGuarded(()=>We(K))}}static _normalizeKey(ke){return"esc"===ke?"escape":ke}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(d.qQ))},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac}),_t})();const St=(0,h.oH4)(h.fpN,"browser",[{provide:h.Agw,useValue:d.AJ},{provide:h.PLl,useValue:function Ft(){Ee.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function wt(){return(0,h.TL$)(document),document},deps:[]}]),kn=new h.nKC(""),Ln=[{provide:h.e01,useClass:class Oe{addToWindow(_t){h.JZv.getAngularTestability=(ke,We=!0)=>{const X=_t.findTestabilityInTree(ke,We);if(null==X)throw new h.wOt(5103,!1);return X},h.JZv.getAllAngularTestabilities=()=>_t.getAllTestabilities(),h.JZv.getAllAngularRootElements=()=>_t.getAllRootElements(),h.JZv.frameworkStabilizers||(h.JZv.frameworkStabilizers=[]),h.JZv.frameworkStabilizers.push(ke=>{const We=h.JZv.getAllAngularTestabilities();let X=We.length;const K=function(){X--,0==X&&ke()};We.forEach(ee=>{ee.whenStable(K)})})}findTestabilityInTree(_t,Gt,ke){if(null==Gt)return null;const We=_t.getTestability(Gt);return null!=We?We:ke?(0,d.QT)().isShadowRoot(Gt)?this.findTestabilityInTree(_t,Gt.host,!0):this.findTestabilityInTree(_t,Gt.parentElement,!0):null}},deps:[]},{provide:h.WHO,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]},{provide:h.NYb,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]}],jn=[{provide:h.H8p,useValue:"root"},{provide:h.zcH,useFactory:function Pt(){return new h.zcH},deps:[]},{provide:we,useClass:cn,multi:!0,deps:[d.qQ,h.SKi,h.Agw]},{provide:we,useClass:he,multi:!0,deps:[d.qQ]},{provide:we,useClass:ft,multi:!0},nt,Xe,se,{provide:h._9s,useExisting:nt},{provide:d.N0,useClass:Ve,deps:[]},[]];let qt=(()=>{var Ut;class _t{constructor(ke){}static withServerTransition(ke){return{ngModule:_t,providers:[{provide:h.sZ2,useValue:ke.appId}]}}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(kn,12))},Ut.\u0275mod=h.$C({type:Ut}),Ut.\u0275inj=h.G2t({providers:[...jn,...Ln],imports:[d.MD,h.Hbi]}),_t})(),ln=(()=>{var Ut;class _t{constructor(ke){this._doc=ke}getTitle(){return this._doc.title}setTitle(ke){this._doc.title=ke||""}}return(Ut=_t).\u0275fac=function(ke){return new(ke||Ut)(h.KVO(d.qQ))},Ut.\u0275prov=h.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),_t})()},9384:(Mn,It,k)=>{"use strict";k.d(It,{nX:()=>en,Zp:()=>x,Z:()=>At,Xk:()=>wt,Kp:()=>Lc,b:()=>Jt,Ix:()=>qi,Wk:()=>ws,iI:()=>au,Sd:()=>Qn});var d=k(3953),h=k(1985),B=k(8071),J=k(8455),ye=k(7673),Se=k(4412),Oe=k(4572),Ve=k(9350),we=k(8793),se=k(8750);function Fe(C){return new h.c(M=>{(0,se.Tg)(C()).subscribe(M)})}var Ye=k(1203);function Xe(C,M){const V=(0,B.T)(C)?C:()=>C,R=$=>$.error(V());return new h.c(M?$=>M.schedule(R,0,$):R)}var ot=k(983),ut=k(8359),ct=k(9974),tt=k(4360);function Dt(){return(0,ct.N)((C,M)=>{let V=null;C._refCount++;const R=(0,tt._)(M,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(V=null);const $=C._connection,me=V;V=null,$&&(!me||$===me)&&$.unsubscribe(),M.unsubscribe()});C.subscribe(R),R.closed||(V=C.connect())})}class vt extends h.c{constructor(M,V){super(),this.source=M,this.subjectFactory=V,this._subject=null,this._refCount=0,this._connection=null,(0,ct.S)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new ut.yU;const V=this.getSubject();M.add(this.source.subscribe((0,tt._)(V,void 0,()=>{this._teardown(),V.complete()},R=>{this._teardown(),V.error(R)},()=>this._teardown()))),M.closed&&(this._connection=null,M=ut.yU.EMPTY)}return M}refCount(){return Dt()(this)}}var ue=k(1413),De=k(177),Re=k(6354),Ke=k(5558),nt=k(6697),Ze=k(9172),pe=k(5964),rt=k(1397),Ot=k(1594),Xt=k(274),En=k(8141);function tn(C){return(0,ct.N)((M,V)=>{let me,R=null,$=!1;R=M.subscribe((0,tt._)(V,void 0,void 0,Ae=>{me=(0,se.Tg)(C(Ae,tn(C)(M))),R?(R.unsubscribe(),R=null,me.subscribe(V)):$=!0})),$&&(R.unsubscribe(),R=null,me.subscribe(V))})}var cn=k(2816),ft=k(9901);function Me(C){return C<=0?()=>ot.w:(0,ct.N)((M,V)=>{let R=[];M.subscribe((0,tt._)(V,$=>{R.push($),C<R.length&&R.shift()},()=>{for(const $ of R)V.next($);V.complete()},void 0,()=>{R=null}))})}var ie=k(3774),oe=k(3669),mt=k(980),yt=k(5343),Ft=k(6365),Pt=k(345);const wt="primary",Nn=Symbol("RouteTitle");class St{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const V=this.params[M];return Array.isArray(V)?V[0]:V}return null}getAll(M){if(this.has(M)){const V=this.params[M];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function kn(C){return new St(C)}function Ln(C,M,V){const R=V.path.split("/");if(R.length>C.length||"full"===V.pathMatch&&(M.hasChildren()||R.length<C.length))return null;const $={};for(let me=0;me<R.length;me++){const Ae=R[me],Nt=C[me];if(":"===Ae[0])$[Ae.substring(1)]=Nt;else if(Ae!==Nt.path)return null}return{consumed:C.slice(0,R.length),posParams:$}}function qt(C,M){const V=C?Zt(C):void 0,R=M?Zt(M):void 0;if(!V||!R||V.length!=R.length)return!1;let $;for(let me=0;me<V.length;me++)if($=V[me],!rr(C[$],M[$]))return!1;return!0}function Zt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}function rr(C,M){if(Array.isArray(C)&&Array.isArray(M)){if(C.length!==M.length)return!1;const V=[...C].sort(),R=[...M].sort();return V.every(($,me)=>R[me]===$)}return C===M}function ln(C){return C.length>0?C[C.length-1]:null}function $e(C){return function Ee(C){return!!C&&(C instanceof h.c||(0,B.T)(C.lift)&&(0,B.T)(C.subscribe))}(C)?C:(0,d.jNT)(C)?(0,J.H)(Promise.resolve(C)):(0,ye.of)(C)}const Ue={exact:function lr(C,M,V){if(!Vn(C.segments,M.segments)||!ur(C.segments,M.segments,V)||C.numberOfChildren!==M.numberOfChildren)return!1;for(const R in M.children)if(!C.children[R]||!lr(C.children[R],M.children[R],V))return!1;return!0},subset:zt},Lt={exact:function ir(C,M){return qt(C,M)},subset:function Hn(C,M){return Object.keys(M).length<=Object.keys(C).length&&Object.keys(M).every(V=>rr(C[V],M[V]))},ignored:()=>!0};function yn(C,M,V){return Ue[V.paths](C.root,M.root,V.matrixParams)&&Lt[V.queryParams](C.queryParams,M.queryParams)&&!("exact"===V.fragment&&C.fragment!==M.fragment)}function zt(C,M,V){return gr(C,M,M.segments,V)}function gr(C,M,V,R){if(C.segments.length>V.length){const $=C.segments.slice(0,V.length);return!(!Vn($,V)||M.hasChildren()||!ur($,V,R))}if(C.segments.length===V.length){if(!Vn(C.segments,V)||!ur(C.segments,V,R))return!1;for(const $ in M.children)if(!C.children[$]||!zt(C.children[$],M.children[$],R))return!1;return!0}{const $=V.slice(0,C.segments.length),me=V.slice(C.segments.length);return!!(Vn(C.segments,$)&&ur(C.segments,$,R)&&C.children[wt])&&gr(C.children[wt],M,me,R)}}function ur(C,M,V){return M.every((R,$)=>Lt[V](C[$].parameters,R.parameters))}class mr{constructor(M=new vr([],{}),V={},R=null){this.root=M,this.queryParams=V,this.fragment=R}get queryParamMap(){var M;return null!==(M=this._queryParamMap)&&void 0!==M||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class vr{constructor(M,V){this.segments=M,this.children=V,this.parent=null,Object.values(V).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ai(this)}}class Lr{constructor(M,V){this.path=M,this.parameters=V}get parameterMap(){var M;return null!==(M=this._parameterMap)&&void 0!==M||(this._parameterMap=kn(this.parameters)),this._parameterMap}toString(){return Gt(this)}}function Vn(C,M){return C.length===M.length&&C.every((V,R)=>V.path===M[R].path)}let Qn=(()=>{var C;class M{}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:()=>new Zn,providedIn:"root"}),M})();class Zn{parse(M){const V=new Tr(M);return new mr(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(M){const V=`/${tr(M.root,!0)}`,R=function We(C){const M=Object.entries(C).map(([V,R])=>Array.isArray(R)?R.map($=>`${Ar(V)}=${Ar($)}`).join("&"):`${Ar(V)}=${Ar(R)}`).filter(V=>V);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${V}${R}${"string"==typeof M.fragment?`#${function Dn(C){return encodeURI(C)}(M.fragment)}`:""}`}}const zn=new Zn;function Ai(C){return C.segments.map(M=>Gt(M)).join("/")}function tr(C,M){if(!C.hasChildren())return Ai(C);if(M){const V=C.children[wt]?tr(C.children[wt],!1):"",R=[];return Object.entries(C.children).forEach(([$,me])=>{$!==wt&&R.push(`${$}:${tr(me,!1)}`)}),R.length>0?`${V}(${R.join("//")})`:V}{const V=function wi(C,M){let V=[];return Object.entries(C.children).forEach(([R,$])=>{R===wt&&(V=V.concat(M($,R)))}),Object.entries(C.children).forEach(([R,$])=>{R!==wt&&(V=V.concat(M($,R)))}),V}(C,(R,$)=>$===wt?[tr(C.children[wt],!1)]:[`${$}:${tr(R,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[wt]?`${Ai(C)}/${V[0]}`:`${Ai(C)}/(${V.join("//")})`}}function si(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ar(C){return si(C).replace(/%3B/gi,";")}function ai(C){return si(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ut(C){return decodeURIComponent(C)}function _t(C){return Ut(C.replace(/\+/g,"%20"))}function Gt(C){return`${ai(C.path)}${function ke(C){return Object.entries(C).map(([M,V])=>`;${ai(M)}=${ai(V)}`).join("")}(C.parameters)}`}const X=/^[^\/()?;#]+/;function K(C){const M=C.match(X);return M?M[0]:""}const ee=/^[^\/()?;=#]+/,He=/^[^=?&#]+/,In=/^[^&#]+/;class Tr{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vr([],{}):new vr([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(M.length>0||Object.keys(V).length>0)&&(R[wt]=new vr(M,V)),R}parseSegment(){const M=K(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(M),new Lr(Ut(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const V=function Ne(C){const M=C.match(ee);return M?M[0]:""}(this.remaining);if(!V)return;this.capture(V);let R="";if(this.consumeOptional("=")){const $=K(this.remaining);$&&(R=$,this.capture(R))}M[Ut(V)]=Ut(R)}parseQueryParam(M){const V=function Wt(C){const M=C.match(He);return M?M[0]:""}(this.remaining);if(!V)return;this.capture(V);let R="";if(this.consumeOptional("=")){const Ae=function Xn(C){const M=C.match(In);return M?M[0]:""}(this.remaining);Ae&&(R=Ae,this.capture(R))}const $=_t(V),me=_t(R);if(M.hasOwnProperty($)){let Ae=M[$];Array.isArray(Ae)||(Ae=[Ae],M[$]=Ae),Ae.push(me)}else M[$]=me}parseParens(M){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=K(this.remaining),$=this.remaining[R.length];if("/"!==$&&")"!==$&&";"!==$)throw new d.wOt(4010,!1);let me;R.indexOf(":")>-1?(me=R.slice(0,R.indexOf(":")),this.capture(me),this.capture(":")):M&&(me=wt);const Ae=this.parseChildren();V[me]=1===Object.keys(Ae).length?Ae[wt]:new vr([],Ae),this.consumeOptional("//")}return V}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new d.wOt(4011,!1)}}function ht(C){return C.segments.length>0?new vr([],{[wt]:C}):C}function fr(C){const M={};for(const[R,$]of Object.entries(C.children)){const me=fr($);if(R===wt&&0===me.segments.length&&me.hasChildren())for(const[Ae,Nt]of Object.entries(me.children))M[Ae]=Nt;else(me.segments.length>0||me.hasChildren())&&(M[R]=me)}return function xn(C){if(1===C.numberOfChildren&&C.children[wt]){const M=C.children[wt];return new vr(C.segments.concat(M.segments),M.children)}return C}(new vr(C.segments,M))}function Wr(C){return C instanceof mr}function no(C){var M;let V;const me=ht(function R(Ae){const Nt={};for(const Vt of Ae.children){const Wn=R(Vt);Nt[Vt.outlet]=Wn}const dn=new vr(Ae.url,Nt);return Ae===C&&(V=dn),dn}(C.root));return null!==(M=V)&&void 0!==M?M:me}function Ti(C,M,V,R){let $=C;for(;$.parent;)$=$.parent;if(0===M.length)return bo($,$,$,V,R);const me=function Je(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new _o(!0,0,C);let M=0,V=!1;const R=C.reduce(($,me,Ae)=>{if("object"==typeof me&&null!=me){if(me.outlets){const Nt={};return Object.entries(me.outlets).forEach(([dn,Vt])=>{Nt[dn]="string"==typeof Vt?Vt.split("/"):Vt}),[...$,{outlets:Nt}]}if(me.segmentPath)return[...$,me.segmentPath]}return"string"!=typeof me?[...$,me]:0===Ae?(me.split("/").forEach((Nt,dn)=>{0==dn&&"."===Nt||(0==dn&&""===Nt?V=!0:".."===Nt?M++:""!=Nt&&$.push(Nt))}),$):[...$,me]},[]);return new _o(V,M,R)}(M);if(me.toRoot())return bo($,$,new vr([],{}),V,R);const Ae=function Et(C,M,V){if(C.isAbsolute)return new Te(M,!0,0);if(!V)return new Te(M,!1,NaN);if(null===V.parent)return new Te(V,!0,0);const R=xo(C.commands[0])?0:1;return function ce(C,M,V){let R=C,$=M,me=V;for(;me>$;){if(me-=$,R=R.parent,!R)throw new d.wOt(4005,!1);$=R.segments.length}return new Te(R,!1,$-me)}(V,V.segments.length-1+R,C.numberOfDoubleDots)}(me,$,C),Nt=Ae.processChildren?Bt(Ae.segmentGroup,Ae.index,me.commands):ze(Ae.segmentGroup,Ae.index,me.commands);return bo($,Ae.segmentGroup,Nt,V,R)}function xo(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Hi(C){return"object"==typeof C&&null!=C&&C.outlets}function bo(C,M,V,R,$){let Ae,me={};R&&Object.entries(R).forEach(([dn,Vt])=>{me[dn]=Array.isArray(Vt)?Vt.map(Wn=>`${Wn}`):`${Vt}`}),Ae=C===M?V:zo(C,M,V);const Nt=ht(fr(Ae));return new mr(Nt,me,$)}function zo(C,M,V){const R={};return Object.entries(C.children).forEach(([$,me])=>{R[$]=me===M?V:zo(me,M,V)}),new vr(C.segments,R)}class _o{constructor(M,V,R){if(this.isAbsolute=M,this.numberOfDoubleDots=V,this.commands=R,M&&R.length>0&&xo(R[0]))throw new d.wOt(4003,!1);const $=R.find(Hi);if($&&$!==ln(R))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Te{constructor(M,V,R){this.segmentGroup=M,this.processChildren=V,this.index=R}}function ze(C,M,V){var R;if(null!==(R=C)&&void 0!==R||(C=new vr([],{})),0===C.segments.length&&C.hasChildren())return Bt(C,M,V);const $=function mn(C,M,V){let R=0,$=M;const me={match:!1,pathIndex:0,commandIndex:0};for(;$<C.segments.length;){if(R>=V.length)return me;const Ae=C.segments[$],Nt=V[R];if(Hi(Nt))break;const dn=`${Nt}`,Vt=R<V.length-1?V[R+1]:null;if($>0&&void 0===dn)break;if(dn&&Vt&&"object"==typeof Vt&&void 0===Vt.outlets){if(!ki(dn,Vt,Ae))return me;R+=2}else{if(!ki(dn,{},Ae))return me;R++}$++}return{match:!0,pathIndex:$,commandIndex:R}}(C,M,V),me=V.slice($.commandIndex);if($.match&&$.pathIndex<C.segments.length){const Ae=new vr(C.segments.slice(0,$.pathIndex),{});return Ae.children[wt]=new vr(C.segments.slice($.pathIndex),C.children),Bt(Ae,0,me)}return $.match&&0===me.length?new vr(C.segments,{}):$.match&&!C.hasChildren()?wn(C,M,V):$.match?Bt(C,0,me):wn(C,M,V)}function Bt(C,M,V){if(0===V.length)return new vr(C.segments,{});{const R=function de(C){return Hi(C[0])?C[0].outlets:{[wt]:C}}(V),$={};if(Object.keys(R).some(me=>me!==wt)&&C.children[wt]&&1===C.numberOfChildren&&0===C.children[wt].segments.length){const me=Bt(C.children[wt],M,V);return new vr(C.segments,me.children)}return Object.entries(R).forEach(([me,Ae])=>{"string"==typeof Ae&&(Ae=[Ae]),null!==Ae&&($[me]=ze(C.children[me],M,Ae))}),Object.entries(C.children).forEach(([me,Ae])=>{void 0===R[me]&&($[me]=Ae)}),new vr(C.segments,$)}}function wn(C,M,V){const R=C.segments.slice(0,M);let $=0;for(;$<V.length;){const me=V[$];if(Hi(me)){const dn=Kn(me.outlets);return new vr(R,dn)}if(0===$&&xo(V[0])){R.push(new Lr(C.segments[M].path,Sr(V[0]))),$++;continue}const Ae=Hi(me)?me.outlets[wt]:`${me}`,Nt=$<V.length-1?V[$+1]:null;Ae&&Nt&&xo(Nt)?(R.push(new Lr(Ae,Sr(Nt))),$+=2):(R.push(new Lr(Ae,{})),$++)}return new vr(R,{})}function Kn(C){const M={};return Object.entries(C).forEach(([V,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(M[V]=wn(new vr([],{}),0,R))}),M}function Sr(C){const M={};return Object.entries(C).forEach(([V,R])=>M[V]=`${R}`),M}function ki(C,M,V){return C==V.path&&qt(M,V.parameters)}const Ie="imperative";var Qe=function(C){return C[C.NavigationStart=0]="NavigationStart",C[C.NavigationEnd=1]="NavigationEnd",C[C.NavigationCancel=2]="NavigationCancel",C[C.NavigationError=3]="NavigationError",C[C.RoutesRecognized=4]="RoutesRecognized",C[C.ResolveStart=5]="ResolveStart",C[C.ResolveEnd=6]="ResolveEnd",C[C.GuardsCheckStart=7]="GuardsCheckStart",C[C.GuardsCheckEnd=8]="GuardsCheckEnd",C[C.RouteConfigLoadStart=9]="RouteConfigLoadStart",C[C.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",C[C.ChildActivationStart=11]="ChildActivationStart",C[C.ChildActivationEnd=12]="ChildActivationEnd",C[C.ActivationStart=13]="ActivationStart",C[C.ActivationEnd=14]="ActivationEnd",C[C.Scroll=15]="Scroll",C[C.NavigationSkipped=16]="NavigationSkipped",C}(Qe||{});class xe{constructor(M,V){this.id=M,this.url=V}}class At extends xe{constructor(M,V,R="imperative",$=null){super(M,V),this.type=Qe.NavigationStart,this.navigationTrigger=R,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rt extends xe{constructor(M,V,R){super(M,V),this.urlAfterRedirects=R,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var gt=function(C){return C[C.Redirect=0]="Redirect",C[C.SupersededByNewNavigation=1]="SupersededByNewNavigation",C[C.NoDataFromResolver=2]="NoDataFromResolver",C[C.GuardRejected=3]="GuardRejected",C}(gt||{}),sn=function(C){return C[C.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",C[C.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",C}(sn||{});class vn extends xe{constructor(M,V,R,$){super(M,V),this.reason=R,this.code=$,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class An extends xe{constructor(M,V,R,$){super(M,V),this.reason=R,this.code=$,this.type=Qe.NavigationSkipped}}class Sn extends xe{constructor(M,V,R,$){super(M,V),this.error=R,this.target=$,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Un extends xe{constructor(M,V,R,$){super(M,V),this.urlAfterRedirects=R,this.state=$,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends xe{constructor(M,V,R,$){super(M,V),this.urlAfterRedirects=R,this.state=$,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends xe{constructor(M,V,R,$,me){super(M,V),this.urlAfterRedirects=R,this.state=$,this.shouldActivate=me,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rr extends xe{constructor(M,V,R,$){super(M,V),this.urlAfterRedirects=R,this.state=$,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr extends xe{constructor(M,V,R,$){super(M,V),this.urlAfterRedirects=R,this.state=$,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si{constructor(M){this.route=M,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jr{constructor(M){this.route=M,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oo{constructor(M){this.snapshot=M,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(M){this.snapshot=M,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(M){this.snapshot=M,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fo{constructor(M){this.snapshot=M,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(M,V,R){this.routerEvent=M,this.position=V,this.anchor=R,this.type=Qe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Do{}class _i{constructor(M,V){this.url=M,this.navigationBehaviorOptions=V}}function Ci(C){return C.outlet||wt}function fs(C){var M;if(!C)return null;if(null!==(M=C.routeConfig)&&void 0!==M&&M._injector)return C.routeConfig._injector;for(let V=C.parent;V;V=V.parent){const R=V.routeConfig;if(null!=R&&R._loadedInjector)return R._loadedInjector;if(null!=R&&R._injector)return R._injector}return null}class Vi{get injector(){var M,V;return null!==(M=fs(null===(V=this.route)||void 0===V?void 0:V.snapshot))&&void 0!==M?M:this.rootInjector}set injector(M){}constructor(M){this.rootInjector=M,this.outlet=null,this.route=null,this.children=new x(this.rootInjector),this.attachRef=null}}let x=(()=>{var C;class M{constructor(R){this.rootInjector=R,this.contexts=new Map}onChildOutletCreated(R,$){const me=this.getOrCreateContext(R);me.outlet=$,this.contexts.set(R,me)}onChildOutletDestroyed(R){const $=this.getContext(R);$&&($.outlet=null,$.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let $=this.getContext(R);return $||($=new Vi(this.rootInjector),this.contexts.set(R,$)),$}getContext(R){return this.contexts.get(R)||null}}return(C=M).\u0275fac=function(R){return new(R||C)(d.KVO(d.uvJ))},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();class A{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const V=this.pathFromRoot(M);return V.length>1?V[V.length-2]:null}children(M){const V=O(M,this._root);return V?V.children.map(R=>R.value):[]}firstChild(M){const V=O(M,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(M){const V=T(M,this._root);return V.length<2?[]:V[V.length-2].children.map($=>$.value).filter($=>$!==M)}pathFromRoot(M){return T(M,this._root).map(V=>V.value)}}function O(C,M){if(C===M.value)return M;for(const V of M.children){const R=O(C,V);if(R)return R}return null}function T(C,M){if(C===M.value)return[M];for(const V of M.children){const R=T(C,V);if(R.length)return R.unshift(M),R}return[]}class z{constructor(M,V){this.value=M,this.children=V}toString(){return`TreeNode(${this.value})`}}function ae(C){const M={};return C&&C.children.forEach(V=>M[V.value.outlet]=V),M}class dt extends A{constructor(M,V){super(M),this.snapshot=V,Yn(this,M)}toString(){return this.snapshot.toString()}}function Qt(C){const M=function rn(C){const me=new Fn([],{},{},"",{},wt,C,null,{});return new Rn("",new z(me,[]))}(C),V=new Se.t([new Lr("",{})]),R=new Se.t({}),$=new Se.t({}),me=new Se.t({}),Ae=new Se.t(""),Nt=new en(V,R,me,Ae,$,wt,C,M.root);return Nt.snapshot=M.root,new dt(new z(Nt,[]),M)}class en{constructor(M,V,R,$,me,Ae,Nt,dn){var Vt,Wn;this.urlSubject=M,this.paramsSubject=V,this.queryParamsSubject=R,this.fragmentSubject=$,this.dataSubject=me,this.outlet=Ae,this.component=Nt,this._futureSnapshot=dn,this.title=null!==(Vt=null===(Wn=this.dataSubject)||void 0===Wn?void 0:Wn.pipe((0,Re.T)(Nr=>Nr[Nn])))&&void 0!==Vt?Vt:(0,ye.of)(void 0),this.url=M,this.params=V,this.queryParams=R,this.fragment=$,this.data=me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var M;return null!==(M=this._paramMap)&&void 0!==M||(this._paramMap=this.params.pipe((0,Re.T)(V=>kn(V)))),this._paramMap}get queryParamMap(){var M;return null!==(M=this._queryParamMap)&&void 0!==M||(this._queryParamMap=this.queryParams.pipe((0,Re.T)(V=>kn(V)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function on(C,M,V="emptyOnly"){var R;let $;const{routeConfig:me}=C;var Ae;return $=null===M||"always"!==V&&""!==(null==me?void 0:me.path)&&(M.component||null!==(R=M.routeConfig)&&void 0!==R&&R.loadComponent)?{params:{...C.params},data:{...C.data},resolve:{...C.data,...null!==(Ae=C._resolvedData)&&void 0!==Ae?Ae:{}}}:{params:{...M.params,...C.params},data:{...M.data,...C.data},resolve:{...C.data,...M.data,...null==me?void 0:me.data,...C._resolvedData}},me&&li(me)&&($.resolve[Nn]=me.title),$}class Fn{get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[Nn]}constructor(M,V,R,$,me,Ae,Nt,dn,Vt){this.url=M,this.params=V,this.queryParams=R,this.fragment=$,this.data=me,this.outlet=Ae,this.component=Nt,this.routeConfig=dn,this._resolve=Vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var M;return null!==(M=this._paramMap)&&void 0!==M||(this._paramMap=kn(this.params)),this._paramMap}get queryParamMap(){var M;return null!==(M=this._queryParamMap)&&void 0!==M||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rn extends A{constructor(M,V){super(V),this.url=M,Yn(this,V)}toString(){return or(this._root)}}function Yn(C,M){M.value._routerState=C,M.children.forEach(V=>Yn(C,V))}function or(C){const M=C.children.length>0?` { ${C.children.map(or).join(", ")} } `:"";return`${C.value}${M}`}function ti(C){if(C.snapshot){const M=C.snapshot,V=C._futureSnapshot;C.snapshot=V,qt(M.queryParams,V.queryParams)||C.queryParamsSubject.next(V.queryParams),M.fragment!==V.fragment&&C.fragmentSubject.next(V.fragment),qt(M.params,V.params)||C.paramsSubject.next(V.params),function jn(C,M){if(C.length!==M.length)return!1;for(let V=0;V<C.length;++V)if(!qt(C[V],M[V]))return!1;return!0}(M.url,V.url)||C.urlSubject.next(V.url),qt(M.data,V.data)||C.dataSubject.next(V.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Gi(C,M){const V=qt(C.params,M.params)&&function Ni(C,M){return Vn(C,M)&&C.every((V,R)=>qt(V.parameters,M[R].parameters))}(C.url,M.url);return V&&!(!C.parent!=!M.parent)&&(!C.parent||Gi(C.parent,M.parent))}function li(C){return"string"==typeof C.title||null===C.title}let Ri=(()=>{var C;class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=wt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(x),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(ss,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:$,previousValue:me}=R.name;if($)return;this.isTrackedInParentContexts(me)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(me)),this.initializeOutletWithName()}}ngOnDestroy(){var R;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(R=this.inputBinder)||void 0===R||R.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){var $;return(null===($=this.parentContexts.getContext(R))||void 0===$?void 0:$.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);null!=R&&R.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,$){var me;this.activated=R,this._activatedRoute=$,this.location.insert(R.hostView),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,$){var me;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=R;const Ae=this.location,dn=R.snapshot.component,Vt=this.parentContexts.getOrCreateContext(this.name).children,Wn=new ei(R,Vt,Ae.injector);this.activated=Ae.createComponent(dn,{index:Ae.length,injector:Wn,environmentInjector:$}),this.changeDetector.markForCheck(),null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275dir=d.FsC({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),M})();class ei{__ngOutletInjector(M){return new ei(this.route,this.childContexts,M)}constructor(M,V,R){this.route=M,this.childContexts=V,this.parent=R}get(M,V){return M===en?this.route:M===x?this.childContexts:this.parent.get(M,V)}}const ss=new d.nKC("");let mo=(()=>{var C;class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){var $;null===($=this.outletDataSubscriptions.get(R))||void 0===$||$.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:$}=R,me=(0,Oe.z)([$.queryParams,$.params,$.data]).pipe((0,Ke.n)(([Ae,Nt,dn],Vt)=>(dn={...Ae,...Nt,...dn},0===Vt?(0,ye.of)(dn):Promise.resolve(dn)))).subscribe(Ae=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==$||null===$.component)return void this.unsubscribeFromRouteData(R);const Nt=(0,d.HJs)($.component);if(Nt)for(const{templateName:dn}of Nt.inputs)R.activatedComponentRef.setInput(dn,Ae[dn]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,me)}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac}),M})();function Yi(C,M,V){if(V&&C.shouldReuseRoute(M.value,V.value.snapshot)){const R=V.value;R._futureSnapshot=M.value;const $=function as(C,M,V){return M.children.map(R=>{for(const $ of V.children)if(C.shouldReuseRoute(R.value,$.value.snapshot))return Yi(C,R,$);return Yi(C,R)})}(C,M,V);return new z(R,$)}{if(C.shouldAttach(M.value)){const me=C.retrieve(M.value);if(null!==me){const Ae=me.route;return Ae.value._futureSnapshot=M.value,Ae.children=M.children.map(Nt=>Yi(C,Nt)),Ae}}const R=function ps(C){return new en(new Se.t(C.url),new Se.t(C.params),new Se.t(C.queryParams),new Se.t(C.fragment),new Se.t(C.data),C.outlet,C.component,C)}(M.value),$=M.children.map(me=>Yi(C,me));return new z(R,$)}}class Cs{constructor(M,V){this.redirectTo=M,this.navigationBehaviorOptions=V}}const Oa="ngNavigationCancelingError";function wo(C,M){const{redirectTo:V,navigationBehaviorOptions:R}=Wr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,$=yo(!1,gt.Redirect);return $.url=V,$.navigationBehaviorOptions=R,$}function yo(C,M){const V=new Error(`NavigationCancelingError: ${C||""}`);return V[Oa]=!0,V.cancellationCode=M,V}function gs(C){return!!C&&C[Oa]}class Eo{constructor(M,V,R,$,me){this.routeReuseStrategy=M,this.futureState=V,this.currState=R,this.forwardEvent=$,this.inputBindingEnabled=me}activate(M){const V=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,R,M),ti(this.futureState.root),this.activateChildRoutes(V,R,M)}deactivateChildRoutes(M,V,R){const $=ae(V);M.children.forEach(me=>{const Ae=me.value.outlet;this.deactivateRoutes(me,$[Ae],R),delete $[Ae]}),Object.values($).forEach(me=>{this.deactivateRouteAndItsChildren(me,R)})}deactivateRoutes(M,V,R){const $=M.value,me=V?V.value:null;if($===me)if($.component){const Ae=R.getContext($.outlet);Ae&&this.deactivateChildRoutes(M,V,Ae.children)}else this.deactivateChildRoutes(M,V,R);else me&&this.deactivateRouteAndItsChildren(V,R)}deactivateRouteAndItsChildren(M,V){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,V):this.deactivateRouteAndOutlet(M,V)}detachAndStoreRouteSubtree(M,V){const R=V.getContext(M.value.outlet),$=R&&M.value.component?R.children:V,me=ae(M);for(const Ae of Object.values(me))this.deactivateRouteAndItsChildren(Ae,$);if(R&&R.outlet){const Ae=R.outlet.detach(),Nt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Ae,route:M,contexts:Nt})}}deactivateRouteAndOutlet(M,V){const R=V.getContext(M.value.outlet),$=R&&M.value.component?R.children:V,me=ae(M);for(const Ae of Object.values(me))this.deactivateRouteAndItsChildren(Ae,$);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(M,V,R){const $=ae(V);M.children.forEach(me=>{this.activateRoutes(me,$[me.value.outlet],R),this.forwardEvent(new Fo(me.value.snapshot))}),M.children.length&&this.forwardEvent(new ko(M.value.snapshot))}activateRoutes(M,V,R){const $=M.value,me=V?V.value:null;if(ti($),$===me)if($.component){const Ae=R.getOrCreateContext($.outlet);this.activateChildRoutes(M,V,Ae.children)}else this.activateChildRoutes(M,V,R);else if($.component){const Ae=R.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Nt=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ae.children.onOutletReAttached(Nt.contexts),Ae.attachRef=Nt.componentRef,Ae.route=Nt.route.value,Ae.outlet&&Ae.outlet.attach(Nt.componentRef,Nt.route.value),ti(Nt.route.value),this.activateChildRoutes(M,null,Ae.children)}else Ae.attachRef=null,Ae.route=$,Ae.outlet&&Ae.outlet.activateWith($,Ae.injector),this.activateChildRoutes(M,null,Ae.children)}else this.activateChildRoutes(M,null,R)}}class bs{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class gi{constructor(M,V){this.component=M,this.route=V}}function Wi(C,M,V){const R=C._root;return qr(R,M?M._root:null,V,[R.value])}function ra(C,M){const V=Symbol(),R=M.get(C,V);return R===V?"function"!=typeof C||(0,d.LfX)(C)?M.get(C):C:R}function qr(C,M,V,R,$={canDeactivateChecks:[],canActivateChecks:[]}){const me=ae(M);return C.children.forEach(Ae=>{(function Qa(C,M,V,R,$={canDeactivateChecks:[],canActivateChecks:[]}){const me=C.value,Ae=M?M.value:null,Nt=V?V.getContext(C.value.outlet):null;if(Ae&&me.routeConfig===Ae.routeConfig){const dn=function yi(C,M,V){if("function"==typeof V)return V(C,M);switch(V){case"pathParamsChange":return!Vn(C.url,M.url);case"pathParamsOrQueryParamsChange":return!Vn(C.url,M.url)||!qt(C.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(C,M)||!qt(C.queryParams,M.queryParams);default:return!Gi(C,M)}}(Ae,me,me.routeConfig.runGuardsAndResolvers);dn?$.canActivateChecks.push(new bs(R)):(me.data=Ae.data,me._resolvedData=Ae._resolvedData),qr(C,M,me.component?Nt?Nt.children:null:V,R,$),dn&&Nt&&Nt.outlet&&Nt.outlet.isActivated&&$.canDeactivateChecks.push(new gi(Nt.outlet.component,Ae))}else Ae&&Vr(M,Nt,$),$.canActivateChecks.push(new bs(R)),qr(C,null,me.component?Nt?Nt.children:null:V,R,$)})(Ae,me[Ae.value.outlet],V,R.concat([Ae.value]),$),delete me[Ae.value.outlet]}),Object.entries(me).forEach(([Ae,Nt])=>Vr(Nt,V.getContext(Ae),$)),$}function Vr(C,M,V){const R=ae(C),$=C.value;Object.entries(R).forEach(([me,Ae])=>{Vr(Ae,$.component?M?M.children.getContext(me):null:M,V)}),V.canDeactivateChecks.push(new gi($.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,$))}function mi(C){return"function"==typeof C}function Ya(C){return C instanceof Ve.G||"EmptyError"===(null==C?void 0:C.name)}const Ei=Symbol("INITIAL_VALUE");function Go(){return(0,Ke.n)(C=>(0,Oe.z)(C.map(M=>M.pipe((0,nt.s)(1),(0,Ze.Z)(Ei)))).pipe((0,Re.T)(M=>{for(const V of M)if(!0!==V){if(V===Ei)return Ei;if(!1===V||Wo(V))return V}return!0}),(0,pe.p)(M=>M!==Ei),(0,nt.s)(1)))}function Wo(C){return Wr(C)||C instanceof Cs}function _n(C){return(0,Ye.F)((0,En.M)(M=>{if("boolean"!=typeof M)throw wo(0,M)}),(0,Re.T)(M=>!0===M))}class Li{constructor(M){this.segmentGroup=M||null}}class Ki extends Error{constructor(M){super(),this.urlTree=M}}function Ui(C){return Xe(new Li(C))}class cs{constructor(M,V){this.urlSerializer=M,this.urlTree=V}lineralizeSegments(M,V){let R=[],$=V.root;for(;;){if(R=R.concat($.segments),0===$.numberOfChildren)return(0,ye.of)(R);if($.numberOfChildren>1||!$.children[wt])return Xe(new d.wOt(4e3,!1));$=$.children[wt]}}applyRedirectCommands(M,V,R,$,me){if("string"!=typeof V){const Nt=V,{queryParams:dn,fragment:Vt,routeConfig:Wn,url:Nr,outlet:Pi,params:zr,data:Ji,title:Ir}=$,Oi=(0,d.N4e)(me,()=>Nt({params:zr,data:Ji,queryParams:dn,fragment:Vt,routeConfig:Wn,url:Nr,outlet:Pi,title:Ir}));if(Oi instanceof mr)throw new Ki(Oi);V=Oi}const Ae=this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),M,R);if("/"===V[0])throw new Ki(Ae);return Ae}applyRedirectCreateUrlTree(M,V,R,$){const me=this.createSegmentGroup(M,V.root,R,$);return new mr(me,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(M,V){const R={};return Object.entries(M).forEach(([$,me])=>{if("string"==typeof me&&":"===me[0]){const Nt=me.substring(1);R[$]=V[Nt]}else R[$]=me}),R}createSegmentGroup(M,V,R,$){const me=this.createSegments(M,V.segments,R,$);let Ae={};return Object.entries(V.children).forEach(([Nt,dn])=>{Ae[Nt]=this.createSegmentGroup(M,dn,R,$)}),new vr(me,Ae)}createSegments(M,V,R,$){return V.map(me=>":"===me.path[0]?this.findPosParam(M,me,$):this.findOrReturn(me,R))}findPosParam(M,V,R){const $=R[V.path.substring(1)];if(!$)throw new d.wOt(4001,!1);return $}findOrReturn(M,V){let R=0;for(const $ of V){if($.path===M.path)return V.splice(R),$;R++}return M}}const Gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ia(C,M,V,R,$){const me=Ko(C,M,V);return me.matched?(R=function is(C,M){var V;return C.providers&&!C._injector&&(C._injector=(0,d.Ol2)(C.providers,M,`Route: ${C.path}`)),null!==(V=C._injector)&&void 0!==V?V:M}(M,R),function yr(C,M,V,R){const $=M.canMatch;if(!$||0===$.length)return(0,ye.of)(!0);const me=$.map(Ae=>{const Nt=ra(Ae,C);return $e(function pl(C){return C&&mi(C.canMatch)}(Nt)?Nt.canMatch(M,V):(0,d.N4e)(C,()=>Nt(M,V)))});return(0,ye.of)(me).pipe(Go(),_n())}(R,M,V).pipe((0,Re.T)(Ae=>!0===Ae?me:{...Gs}))):(0,ye.of)(me)}function Ko(C,M,V){var R,$;if("**"===M.path)return function Ws(C){return{matched:!0,parameters:C.length>0?ln(C).parameters:{},consumedSegments:C,remainingSegments:[],positionalParamSegments:{}}}(V);if(""===M.path)return"full"===M.pathMatch&&(C.hasChildren()||V.length>0)?{...Gs}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const Ae=(M.matcher||Ln)(V,C,M);if(!Ae)return{...Gs};const Nt={};Object.entries(null!==(R=Ae.posParams)&&void 0!==R?R:{}).forEach(([Vt,Wn])=>{Nt[Vt]=Wn.path});const dn=Ae.consumed.length>0?{...Nt,...Ae.consumed[Ae.consumed.length-1].parameters}:Nt;return{matched:!0,consumedSegments:Ae.consumed,remainingSegments:V.slice(Ae.consumed.length),parameters:dn,positionalParamSegments:null!==($=Ae.posParams)&&void 0!==$?$:{}}}function xa(C,M,V,R){return V.length>0&&function va(C,M,V){return V.some(R=>ms(C,M,R)&&Ci(R)!==wt)}(C,V,R)?{segmentGroup:new vr(M,ml(R,new vr(V,C.children))),slicedSegments:[]}:0===V.length&&function br(C,M,V){return V.some(R=>ms(C,M,R))}(C,V,R)?{segmentGroup:new vr(C.segments,ma(C,V,R,C.children)),slicedSegments:V}:{segmentGroup:new vr(C.segments,C.children),slicedSegments:V}}function ma(C,M,V,R){const $={};for(const me of V)if(ms(C,M,me)&&!R[Ci(me)]){const Ae=new vr([],{});$[Ci(me)]=Ae}return{...R,...$}}function ml(C,M){const V={};V[wt]=M;for(const R of C)if(""===R.path&&Ci(R)!==wt){const $=new vr([],{});V[Ci(R)]=$}return V}function ms(C,M,V){return(!(C.hasChildren()||M.length>0)||"full"!==V.pathMatch)&&""===V.path}class el{}class Ns{constructor(M,V,R,$,me,Ae,Nt){this.injector=M,this.configLoader=V,this.rootComponentType=R,this.config=$,this.urlTree=me,this.paramsInheritanceStrategy=Ae,this.urlSerializer=Nt,this.applyRedirects=new cs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(M){return new d.wOt(4002,`'${M.segmentGroup}'`)}recognize(){const M=xa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe((0,Re.T)(({children:V,rootSnapshot:R})=>{const $=new z(R,V),me=new Rn("",$),Ae=function ji(C,M,V=null,R=null){return Ti(no(C),M,V,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Ae.queryParams=this.urlTree.queryParams,me.url=this.urlSerializer.serialize(Ae),{state:me,tree:Ae}}))}match(M){const V=new Fn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),wt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,M,wt,V).pipe((0,Re.T)(R=>({children:R,rootSnapshot:V})),tn(R=>{if(R instanceof Ki)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof Li?this.noMatchError(R):R}))}processSegmentGroup(M,V,R,$,me){return 0===R.segments.length&&R.hasChildren()?this.processChildren(M,V,R,me):this.processSegment(M,V,R,R.segments,$,!0,me).pipe((0,Re.T)(Ae=>Ae instanceof z?[Ae]:[]))}processChildren(M,V,R,$){const me=[];for(const Ae of Object.keys(R.children))"primary"===Ae?me.unshift(Ae):me.push(Ae);return(0,J.H)(me).pipe((0,Xt.H)(Ae=>{const Nt=R.children[Ae],dn=function Na(C,M){const V=C.filter(R=>Ci(R)===M);return V.push(...C.filter(R=>Ci(R)!==M)),V}(V,Ae);return this.processSegmentGroup(M,dn,Nt,Ae,$)}),(0,cn.S)((Ae,Nt)=>(Ae.push(...Nt),Ae)),(0,ft.U)(null),function he(C,M){const V=arguments.length>=2;return R=>R.pipe(C?(0,pe.p)(($,me)=>C($,me,R)):oe.D,Me(1),V?(0,ft.U)(M):(0,ie.v)(()=>new Ve.G))}(),(0,rt.Z)(Ae=>{if(null===Ae)return Ui(R);const Nt=Xo(Ae);return function Dd(C){C.sort((M,V)=>M.value.outlet===wt?-1:V.value.outlet===wt?1:M.value.outlet.localeCompare(V.value.outlet))}(Nt),(0,ye.of)(Nt)}))}processSegment(M,V,R,$,me,Ae,Nt){return(0,J.H)(V).pipe((0,Xt.H)(dn=>{var Vt;return this.processSegmentAgainstRoute(null!==(Vt=dn._injector)&&void 0!==Vt?Vt:M,V,dn,R,$,me,Ae,Nt).pipe(tn(Wn=>{if(Wn instanceof Li)return(0,ye.of)(null);throw Wn}))}),(0,Ot.$)(dn=>!!dn),tn(dn=>{if(Ya(dn))return function oa(C,M,V){return 0===M.length&&!C.children[V]}(R,$,me)?(0,ye.of)(new el):Ui(R);throw dn}))}processSegmentAgainstRoute(M,V,R,$,me,Ae,Nt,dn){return Ci(R)===Ae||Ae!==wt&&ms($,me,R)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(M,$,R,me,Ae,dn):this.allowRedirects&&Nt?this.expandSegmentAgainstRouteUsingRedirect(M,$,V,R,me,Ae,dn):Ui($):Ui($)}expandSegmentAgainstRouteUsingRedirect(M,V,R,$,me,Ae,Nt){var dn,Vt;const{matched:Wn,parameters:Nr,consumedSegments:Pi,positionalParamSegments:zr,remainingSegments:Ji}=Ko(V,$,me);if(!Wn)return Ui(V);"string"==typeof $.redirectTo&&"/"===$.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ir=new Fn(me,Nr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ka($),Ci($),null!==(dn=null!==(Vt=$.component)&&void 0!==Vt?Vt:$._loadedComponent)&&void 0!==dn?dn:null,$,Ro($)),Oi=on(Ir,Nt,this.paramsInheritanceStrategy);Ir.params=Object.freeze(Oi.params),Ir.data=Object.freeze(Oi.data);const fo=this.applyRedirects.applyRedirectCommands(Pi,$.redirectTo,zr,Ir,M);return this.applyRedirects.lineralizeSegments($,fo).pipe((0,rt.Z)(Mo=>this.processSegment(M,R,V,Mo.concat(Ji),Ae,!1,Nt)))}matchSegmentAgainstRoute(M,V,R,$,me,Ae){const Nt=ia(V,R,$,M);return"**"===R.path&&(V.children={}),Nt.pipe((0,Ke.n)(dn=>{var Vt;return dn.matched?(M=null!==(Vt=R._injector)&&void 0!==Vt?Vt:M,this.getChildConfig(M,R,$).pipe((0,Ke.n)(({routes:Wn})=>{var Nr,Pi,zr;const Ji=null!==(Nr=R._loadedInjector)&&void 0!==Nr?Nr:M,{parameters:Ir,consumedSegments:Oi,remainingSegments:fo}=dn,Mo=new Fn(Oi,Ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ka(R),Ci(R),null!==(Pi=null!==(zr=R.component)&&void 0!==zr?zr:R._loadedComponent)&&void 0!==Pi?Pi:null,R,Ro(R)),eo=on(Mo,Ae,this.paramsInheritanceStrategy);Mo.params=Object.freeze(eo.params),Mo.data=Object.freeze(eo.data);const{segmentGroup:Ll,slicedSegments:Pu}=xa(V,Oi,fo,Wn);if(0===Pu.length&&Ll.hasChildren())return this.processChildren(Ji,Wn,Ll,Mo).pipe((0,Re.T)(Ba=>new z(Mo,Ba)));if(0===Wn.length&&0===Pu.length)return(0,ye.of)(new z(Mo,[]));const Fl=Ci(R)===me;return this.processSegment(Ji,Wn,Ll,Pu,Fl?wt:me,!0,Mo).pipe((0,Re.T)(Ba=>new z(Mo,Ba instanceof z?[Ba]:[])))}))):Ui(V)}))}getChildConfig(M,V,R){return V.children?(0,ye.of)({routes:V.children,injector:M}):V.loadChildren?void 0!==V._loadedRoutes?(0,ye.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function ge(C,M,V,R){const $=M.canLoad;if(void 0===$||0===$.length)return(0,ye.of)(!0);const me=$.map(Ae=>{const Nt=ra(Ae,C);return $e(function zs(C){return C&&mi(C.canLoad)}(Nt)?Nt.canLoad(M,V):(0,d.N4e)(C,()=>Nt(M,V)))});return(0,ye.of)(me).pipe(Go(),_n())}(M,V,R).pipe((0,rt.Z)($=>$?this.configLoader.loadChildren(M,V).pipe((0,En.M)(me=>{V._loadedRoutes=me.routes,V._loadedInjector=me.injector})):function us(){return Xe(yo(!1,gt.GuardRejected))}())):(0,ye.of)({routes:[],injector:M})}}function ds(C){const M=C.value.routeConfig;return M&&""===M.path}function Xo(C){const M=[],V=new Set;for(const R of C){if(!ds(R)){M.push(R);continue}const $=M.find(me=>R.value.routeConfig===me.value.routeConfig);void 0!==$?($.children.push(...R.children),V.add($)):M.push(R)}for(const R of V){const $=Xo(R.children);M.push(new z(R.value,$))}return M.filter(R=>!V.has(R))}function ka(C){return C.data||{}}function Ro(C){return C.resolve||{}}function _l(C){const M=C.children.map(V=>_l(V)).flat();return[C,...M]}function Mr(C){return(0,Ke.n)(M=>{const V=C(M);return V?(0,J.H)(V).pipe((0,Re.T)(()=>M)):(0,ye.of)(M)})}let bi=(()=>{var C;class M{buildTitle(R){let $,me=R.root;for(;void 0!==me;){var Ae;$=null!==(Ae=this.getResolvedTitleForRoute(me))&&void 0!==Ae?Ae:$,me=me.children.find(Nt=>Nt.outlet===wt)}return $}getResolvedTitleForRoute(R){return R.data[Nn]}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(ou),providedIn:"root"}),M})(),ou=(()=>{var C;class M extends bi{constructor(R){super(),this.title=R}updateTitle(R){const $=this.buildTitle(R);void 0!==$&&this.title.setTitle($)}}return(C=M).\u0275fac=function(R){return new(R||C)(d.KVO(Pt.hE))},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();const Ds=new d.nKC("",{providedIn:"root",factory:()=>({})});let nl=(()=>{var C;class M{}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275cmp=d.VBU({type:C,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(R,$){1&R&&d.nrm(0,"router-outlet")},dependencies:[Ri],encapsulation:2}),M})();function sc(C){const M=C.children&&C.children.map(sc),V=M?{...C,children:M}:{...C};return!V.component&&!V.loadComponent&&(M||V.loadChildren)&&V.outlet&&V.outlet!==wt&&(V.component=nl),V}const rl=new d.nKC("");let il=(()=>{var C;class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,ye.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const $=$e(R.loadComponent()).pipe((0,Re.T)(sa),(0,En.M)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=Ae}),(0,mt.j)(()=>{this.componentLoaders.delete(R)})),me=new vt($,()=>new ue.B).pipe(Dt());return this.componentLoaders.set(R,me),me}loadChildren(R,$){if(this.childrenLoaders.get($))return this.childrenLoaders.get($);if($._loadedRoutes)return(0,ye.of)({routes:$._loadedRoutes,injector:$._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener($);const Ae=function Kr(C,M,V,R){return $e(C.loadChildren()).pipe((0,Re.T)(sa),(0,rt.Z)($=>$ instanceof d.Co$||Array.isArray($)?(0,ye.of)($):(0,J.H)(M.compileModuleAsync($))),(0,Re.T)($=>{R&&R(C);let me,Ae,Nt=!1;return Array.isArray($)?(Ae=$,!0):(me=$.create(V).injector,Ae=me.get(rl,[],{optional:!0,self:!0}).flat()),{routes:Ae.map(sc),injector:me}}))}($,this.compiler,R,this.onLoadEndListener).pipe((0,mt.j)(()=>{this.childrenLoaders.delete($)})),Nt=new vt(Ae,()=>new ue.B).pipe(Dt());return this.childrenLoaders.set($,Nt),Nt}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();function sa(C){return function Os(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Xi=(()=>{var C;class M{}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(su),providedIn:"root"}),M})(),su=(()=>{var C;class M{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,$){return R}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();const yl=new d.nKC(""),w=new d.nKC("");function q(C,M,V){const R=C.get(w),$=C.get(De.qQ);return C.get(d.SKi).runOutsideAngular(()=>{if(!$.startViewTransition||R.skipNextTransition)return R.skipNextTransition=!1,new Promise(Vt=>setTimeout(Vt));let me;const Ae=new Promise(Vt=>{me=Vt}),Nt=$.startViewTransition(()=>(me(),function Le(C){return new Promise(M=>{(0,d.mal)({read:()=>setTimeout(M)},{injector:C})})}(C))),{onViewTransitionCreated:dn}=R;return dn&&(0,d.N4e)(C,()=>dn({transition:Nt,from:M,to:V})),Ae})}const G=new d.nKC("");let _e=(()=>{var C;class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue.B,this.transitionAbortSubject=new ue.B,this.configLoader=(0,d.WQX)(il),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Qn),this.rootContexts=(0,d.WQX)(x),this.location=(0,d.WQX)(De.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(ss,{optional:!0}),this.titleStrategy=(0,d.WQX)(bi),this.options=(0,d.WQX)(Ds,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(Xi),this.createViewTransition=(0,d.WQX)(yl,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(G,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=me=>this.events.next(new jr(me)),this.configLoader.onLoadStartListener=me=>this.events.next(new Si(me))}complete(){var R;null===(R=this.transitions)||void 0===R||R.complete()}handleNavigationRequest(R){var $;const me=++this.navigationId;null===($=this.transitions)||void 0===$||$.next({...this.transitions.value,...R,id:me})}setupNavigations(R,$,me){return this.transitions=new Se.t({id:0,currentUrlTree:$,currentRawUrl:$,extractedUrl:this.urlHandlingStrategy.extract($),urlAfterRedirects:this.urlHandlingStrategy.extract($),rawUrl:$,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ie,restoredState:null,currentSnapshot:me.snapshot,targetSnapshot:null,currentRouterState:me,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,pe.p)(Ae=>0!==Ae.id),(0,Re.T)(Ae=>({...Ae,extractedUrl:this.urlHandlingStrategy.extract(Ae.rawUrl)})),(0,Ke.n)(Ae=>{let Nt=!1,dn=!1;return(0,ye.of)(Ae).pipe((0,Ke.n)(Vt=>{var Wn;if(this.navigationId>Ae.id)return this.cancelNavigationTransition(Ae,"",gt.SupersededByNewNavigation),ot.w;this.currentTransition=Ae,this.currentNavigation={id:Vt.id,initialUrl:Vt.rawUrl,extractedUrl:Vt.extractedUrl,targetBrowserUrl:"string"==typeof Vt.extras.browserUrl?this.urlSerializer.parse(Vt.extras.browserUrl):Vt.extras.browserUrl,trigger:Vt.source,extras:Vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Nr=!R.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Pi=null!==(Wn=Vt.extras.onSameUrlNavigation)&&void 0!==Wn?Wn:R.onSameUrlNavigation;if(!Nr&&"reload"!==Pi){const zr="";return this.events.next(new An(Vt.id,this.urlSerializer.serialize(Vt.rawUrl),zr,sn.IgnoredSameUrlNavigation)),Vt.resolve(!1),ot.w}if(this.urlHandlingStrategy.shouldProcessUrl(Vt.rawUrl))return(0,ye.of)(Vt).pipe((0,Ke.n)(zr=>{var Ji,Ir;const Oi=null===(Ji=this.transitions)||void 0===Ji?void 0:Ji.getValue();return this.events.next(new At(zr.id,this.urlSerializer.serialize(zr.extractedUrl),zr.source,zr.restoredState)),Oi!==(null===(Ir=this.transitions)||void 0===Ir?void 0:Ir.getValue())?ot.w:Promise.resolve(zr)}),function La(C,M,V,R,$,me){return(0,rt.Z)(Ae=>function iu(C,M,V,R,$,me,Ae="emptyOnly"){return new Ns(C,M,V,R,$,Ae,me).recognize()}(C,M,V,R,Ae.extractedUrl,$,me).pipe((0,Re.T)(({state:Nt,tree:dn})=>({...Ae,targetSnapshot:Nt,urlAfterRedirects:dn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,En.M)(zr=>{Ae.targetSnapshot=zr.targetSnapshot,Ae.urlAfterRedirects=zr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zr.urlAfterRedirects};const Ji=new Un(zr.id,this.urlSerializer.serialize(zr.extractedUrl),this.urlSerializer.serialize(zr.urlAfterRedirects),zr.targetSnapshot);this.events.next(Ji)}));if(Nr&&this.urlHandlingStrategy.shouldProcessUrl(Vt.currentRawUrl)){const{id:zr,extractedUrl:Ji,source:Ir,restoredState:Oi,extras:fo}=Vt,Mo=new At(zr,this.urlSerializer.serialize(Ji),Ir,Oi);this.events.next(Mo);const eo=Qt(this.rootComponentType).snapshot;return this.currentTransition=Ae={...Vt,targetSnapshot:eo,urlAfterRedirects:Ji,extras:{...fo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ji,(0,ye.of)(Ae)}{const zr="";return this.events.next(new An(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),zr,sn.IgnoredByUrlHandlingStrategy)),Vt.resolve(!1),ot.w}}),(0,En.M)(Vt=>{const Wn=new Jn(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(Wn)}),(0,Re.T)(Vt=>(this.currentTransition=Ae={...Vt,guards:Wi(Vt.targetSnapshot,Vt.currentSnapshot,this.rootContexts)},Ae)),function Pl(C,M){return(0,rt.Z)(V=>{const{targetSnapshot:R,currentSnapshot:$,guards:{canActivateChecks:me,canDeactivateChecks:Ae}}=V;return 0===Ae.length&&0===me.length?(0,ye.of)({...V,guardsResult:!0}):function ru(C,M,V,R){return(0,J.H)(C).pipe((0,rt.Z)($=>function W(C,M,V,R,$){const me=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!me||0===me.length)return(0,ye.of)(!0);const Ae=me.map(Nt=>{var dn;const Vt=null!==(dn=fs(M))&&void 0!==dn?dn:$,Wn=ra(Nt,Vt);return $e(function Uo(C){return C&&mi(C.canDeactivate)}(Wn)?Wn.canDeactivate(C,M,V,R):(0,d.N4e)(Vt,()=>Wn(C,M,V,R))).pipe((0,Ot.$)())});return(0,ye.of)(Ae).pipe(Go())}($.component,$.route,V,M,R)),(0,Ot.$)($=>!0!==$,!0))}(Ae,R,$,C).pipe((0,rt.Z)(Nt=>Nt&&function ga(C){return"boolean"==typeof C}(Nt)?function Ja(C,M,V,R){return(0,J.H)(M).pipe((0,Xt.H)($=>(0,we.x)(function Q(C,M){return null!==C&&M&&M(new oo(C)),(0,ye.of)(!0)}($.route.parent,R),function gl(C,M){return null!==C&&M&&M(new Lo(C)),(0,ye.of)(!0)}($.route,R),function le(C,M,V){const R=M[M.length-1],me=M.slice(0,M.length-1).reverse().map(Ae=>function So(C){const M=C.routeConfig?C.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:C,guards:M}:null}(Ae)).filter(Ae=>null!==Ae).map(Ae=>Fe(()=>{const Nt=Ae.guards.map(dn=>{var Vt;const Wn=null!==(Vt=fs(Ae.node))&&void 0!==Vt?Vt:V,Nr=ra(dn,Wn);return $e(function Vo(C){return C&&mi(C.canActivateChild)}(Nr)?Nr.canActivateChild(R,C):(0,d.N4e)(Wn,()=>Nr(R,C))).pipe((0,Ot.$)())});return(0,ye.of)(Nt).pipe(Go())}));return(0,ye.of)(me).pipe(Go())}(C,$.path,V),function F(C,M,V){const R=M.routeConfig?M.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ye.of)(!0);const $=R.map(me=>Fe(()=>{var Ae;const Nt=null!==(Ae=fs(M))&&void 0!==Ae?Ae:V,dn=ra(me,Nt);return $e(function Cr(C){return C&&mi(C.canActivate)}(dn)?dn.canActivate(M,C):(0,d.N4e)(Nt,()=>dn(M,C))).pipe((0,Ot.$)())}));return(0,ye.of)($).pipe(Go())}(C,$.route,V))),(0,Ot.$)($=>!0!==$,!0))}(R,me,C,M):(0,ye.of)(Nt)),(0,Re.T)(Nt=>({...V,guardsResult:Nt})))})}(this.environmentInjector,Vt=>this.events.next(Vt)),(0,En.M)(Vt=>{if(Ae.guardsResult=Vt.guardsResult,Vt.guardsResult&&"boolean"!=typeof Vt.guardsResult)throw wo(0,Vt.guardsResult);const Wn=new ar(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot,!!Vt.guardsResult);this.events.next(Wn)}),(0,pe.p)(Vt=>!!Vt.guardsResult||(this.cancelNavigationTransition(Vt,"",gt.GuardRejected),!1)),Mr(Vt=>{if(Vt.guards.canActivateChecks.length)return(0,ye.of)(Vt).pipe((0,En.M)(Wn=>{const Nr=new Rr(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(Nr)}),(0,Ke.n)(Wn=>{let Nr=!1;return(0,ye.of)(Wn).pipe(function tl(C,M){return(0,rt.Z)(V=>{const{targetSnapshot:R,guards:{canActivateChecks:$}}=V;if(!$.length)return(0,ye.of)(V);const me=new Set($.map(dn=>dn.route)),Ae=new Set;for(const dn of me)if(!Ae.has(dn))for(const Vt of _l(dn))Ae.add(Vt);let Nt=0;return(0,J.H)(Ae).pipe((0,Xt.H)(dn=>me.has(dn)?function Po(C,M,V,R){const $=C.routeConfig,me=C._resolve;return void 0!==(null==$?void 0:$.title)&&!li($)&&(me[Nn]=$.title),function Fr(C,M,V,R){const $=Zt(C);if(0===$.length)return(0,ye.of)({});const me={};return(0,J.H)($).pipe((0,rt.Z)(Ae=>function oc(C,M,V,R){var $;const me=null!==($=fs(M))&&void 0!==$?$:R,Ae=ra(C,me);return $e(Ae.resolve?Ae.resolve(M,V):(0,d.N4e)(me,()=>Ae(M,V)))}(C[Ae],M,V,R).pipe((0,Ot.$)(),(0,En.M)(Nt=>{if(Nt instanceof Cs)throw wo(new Zn,Nt);me[Ae]=Nt}))),Me(1),function Ge(C){return(0,Re.T)(()=>C)}(me),tn(Ae=>Ya(Ae)?ot.w:Xe(Ae)))}(me,C,M,R).pipe((0,Re.T)(Ae=>(C._resolvedData=Ae,C.data=on(C,C.parent,V).resolve,null)))}(dn,R,C,M):(dn.data=on(dn,dn.parent,C).resolve,(0,ye.of)(void 0))),(0,En.M)(()=>Nt++),Me(1),(0,rt.Z)(dn=>Nt===Ae.size?(0,ye.of)(V):ot.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,En.M)({next:()=>Nr=!0,complete:()=>{Nr||this.cancelNavigationTransition(Wn,"",gt.NoDataFromResolver)}}))}),(0,En.M)(Wn=>{const Nr=new Xr(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(Nr)}))}),Mr(Vt=>{const Wn=Nr=>{var Pi;const zr=[];null!==(Pi=Nr.routeConfig)&&void 0!==Pi&&Pi.loadComponent&&!Nr.routeConfig._loadedComponent&&zr.push(this.configLoader.loadComponent(Nr.routeConfig).pipe((0,En.M)(Ji=>{Nr.component=Ji}),(0,Re.T)(()=>{})));for(const Ji of Nr.children)zr.push(...Wn(Ji));return zr};return(0,Oe.z)(Wn(Vt.targetSnapshot.root)).pipe((0,ft.U)(null),(0,nt.s)(1))}),Mr(()=>this.afterPreactivation()),(0,Ke.n)(()=>{var Vt;const{currentSnapshot:Wn,targetSnapshot:Nr}=Ae,Pi=null===(Vt=this.createViewTransition)||void 0===Vt?void 0:Vt.call(this,this.environmentInjector,Wn.root,Nr.root);return Pi?(0,J.H)(Pi).pipe((0,Re.T)(()=>Ae)):(0,ye.of)(Ae)}),(0,Re.T)(Vt=>{const Wn=function Gn(C,M,V){const R=Yi(C,M._root,V?V._root:void 0);return new dt(R,M)}(R.routeReuseStrategy,Vt.targetSnapshot,Vt.currentRouterState);return this.currentTransition=Ae={...Vt,targetRouterState:Wn},this.currentNavigation.targetRouterState=Wn,Ae}),(0,En.M)(()=>{this.events.next(new Do)}),((C,M,V,R)=>(0,Re.T)($=>(new Eo(M,$.targetRouterState,$.currentRouterState,V,R).activate(C),$)))(this.rootContexts,R.routeReuseStrategy,Vt=>this.events.next(Vt),this.inputBindingEnabled),(0,nt.s)(1),(0,En.M)({next:Vt=>{var Wn;Nt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rt(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects))),null===(Wn=this.titleStrategy)||void 0===Wn||Wn.updateTitle(Vt.targetRouterState.snapshot),Vt.resolve(!0)},complete:()=>{Nt=!0}}),function at(C){return(0,ct.N)((M,V)=>{(0,se.Tg)(C).subscribe((0,tt._)(V,()=>V.complete(),yt.l)),!V.closed&&M.subscribe(V)})}(this.transitionAbortSubject.pipe((0,En.M)(Vt=>{throw Vt}))),(0,mt.j)(()=>{var Vt;!Nt&&!dn&&this.cancelNavigationTransition(Ae,"",gt.SupersededByNewNavigation),(null===(Vt=this.currentTransition)||void 0===Vt?void 0:Vt.id)===Ae.id&&(this.currentNavigation=null,this.currentTransition=null)}),tn(Vt=>{if(dn=!0,gs(Vt))this.events.next(new vn(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),Vt.message,Vt.cancellationCode)),function ls(C){return gs(C)&&Wr(C.url)}(Vt)?this.events.next(new _i(Vt.url,Vt.navigationBehaviorOptions)):Ae.resolve(!1);else{var Wn;const Nr=new Sn(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),Vt,null!==(Wn=Ae.targetSnapshot)&&void 0!==Wn?Wn:void 0);try{const Pi=(0,d.N4e)(this.environmentInjector,()=>{var zr;return null===(zr=this.navigationErrorHandler)||void 0===zr?void 0:zr.call(this,Nr)});if(Pi instanceof Cs){const{message:zr,cancellationCode:Ji}=wo(0,Pi);this.events.next(new vn(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),zr,Ji)),this.events.next(new _i(Pi.redirectTo,Pi.navigationBehaviorOptions))}else{this.events.next(Nr);const zr=R.errorHandler(Vt);Ae.resolve(!!zr)}}catch(Pi){this.options.resolveNavigationPromiseOnError?Ae.resolve(!1):Ae.reject(Pi)}}return ot.w}))}))}cancelNavigationTransition(R,$,me){const Ae=new vn(R.id,this.urlSerializer.serialize(R.extractedUrl),$,me);this.events.next(Ae),R.resolve(!1)}isUpdatingInternalState(){var R,$;return(null===(R=this.currentTransition)||void 0===R?void 0:R.extractedUrl.toString())!==(null===($=this.currentTransition)||void 0===$?void 0:$.currentUrlTree.toString())}isUpdatedBrowserUrl(){var R,$,me,Ae;const Nt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),dn=null!==(R=null===($=this.currentNavigation)||void 0===$?void 0:$.targetBrowserUrl)&&void 0!==R?R:null===(me=this.currentNavigation)||void 0===me?void 0:me.extractedUrl;return Nt.toString()!==(null==dn?void 0:dn.toString())&&!(null!==(Ae=this.currentNavigation)&&void 0!==Ae&&Ae.extras.skipLocationChange)}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();function je(C){return C!==Ie}let Jt=(()=>{var C;class M{}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(wr),providedIn:"root"}),M})();class bn{shouldDetach(M){return!1}store(M,V){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,V){return M.routeConfig===V.routeConfig}}let wr=(()=>{var C;class M extends bn{}return(C=M).\u0275fac=(()=>{let V;return function($){return(V||(V=d.xGo(C)))($||C)}})(),C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})(),ui=(()=>{var C;class M{}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(Hr),providedIn:"root"}),M})(),Hr=(()=>{var C;class M extends ui{constructor(){super(...arguments),this.location=(0,d.WQX)(De.aZ),this.urlSerializer=(0,d.WQX)(Qn),this.options=(0,d.WQX)(Ds,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(Xi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Qt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var R,$;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(R=null===($=this.restoredState())||void 0===$?void 0:$.\u0275routerPageId)&&void 0!==R?R:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(R){return this.location.subscribe($=>{"popstate"===$.type&&R($.url,$.state)})}handleRouterEvent(R,$){if(R instanceof At)this.stateMemento=this.createStateMemento();else if(R instanceof An)this.rawUrlTree=$.initialUrl;else if(R instanceof Un){if("eager"===this.urlUpdateStrategy&&!$.extras.skipLocationChange){var me;const Nt=this.urlHandlingStrategy.merge($.finalUrl,$.initialUrl);this.setBrowserUrl(null!==(me=$.targetBrowserUrl)&&void 0!==me?me:Nt,$)}}else if(R instanceof Do){var Ae;this.currentUrlTree=$.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge($.finalUrl,$.initialUrl),this.routerState=$.targetRouterState,"deferred"!==this.urlUpdateStrategy||$.extras.skipLocationChange||this.setBrowserUrl(null!==(Ae=$.targetBrowserUrl)&&void 0!==Ae?Ae:this.rawUrlTree,$)}else R instanceof vn&&(R.code===gt.GuardRejected||R.code===gt.NoDataFromResolver)?this.restoreHistory($):R instanceof Sn?this.restoreHistory($,!0):R instanceof Rt&&(this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId)}setBrowserUrl(R,$){const me=R instanceof mr?this.urlSerializer.serialize(R):R;if(this.location.isCurrentPathEqualTo(me)||$.extras.replaceUrl){const Nt={...$.extras.state,...this.generateNgRouterState($.id,this.browserPageId)};this.location.replaceState(me,"",Nt)}else{const Ae={...$.extras.state,...this.generateNgRouterState($.id,this.browserPageId+1)};this.location.go(me,"",Ae)}}restoreHistory(R,$=!1){if("computed"===this.canceledNavigationResolution){const Ae=this.currentPageId-this.browserPageId;0!==Ae?this.location.historyGo(Ae):this.currentUrlTree===R.finalUrl&&0===Ae&&(this.resetState(R),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&($&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){var $;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==($=R.finalUrl)&&void 0!==$?$:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,$){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:$}:{navigationId:R}}}return(C=M).\u0275fac=(()=>{let V;return function($){return(V||(V=d.xGo(C)))($||C)}})(),C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();var Ur=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Ur||{});function $r(C,M){C.events.pipe((0,pe.p)(V=>V instanceof Rt||V instanceof vn||V instanceof Sn||V instanceof An),(0,Re.T)(V=>V instanceof Rt||V instanceof An?Ur.COMPLETE:V instanceof vn&&(V.code===gt.Redirect||V.code===gt.SupersededByNewNavigation)?Ur.REDIRECTING:Ur.FAILED),(0,pe.p)(V=>V!==Ur.REDIRECTING),(0,nt.s)(1)).subscribe(()=>{M()})}function di(C){throw C}const qn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{var C;class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var R,$;this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(ui),this.options=(0,d.WQX)(Ds,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(_e),this.urlSerializer=(0,d.WQX)(Qn),this.location=(0,d.WQX)(De.aZ),this.urlHandlingStrategy=(0,d.WQX)(Xi),this._events=new ue.B,this.errorHandler=this.options.errorHandler||di,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Jt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(R=null===($=(0,d.WQX)(rl,{optional:!0}))||void 0===$?void 0:$.flat())&&void 0!==R?R:[],this.componentInputBindingEnabled=!!(0,d.WQX)(ss,{optional:!0}),this.eventsSubscription=new ut.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:me=>{this.console.warn(me)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe($=>{try{const me=this.navigationTransitions.currentTransition,Ae=this.navigationTransitions.currentNavigation;if(null!==me&&null!==Ae)if(this.stateManager.handleRouterEvent($,Ae),$ instanceof vn&&$.code!==gt.Redirect&&$.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if($ instanceof Rt)this.navigated=!0;else if($ instanceof _i){const Nt=$.navigationBehaviorOptions,dn=this.urlHandlingStrategy.merge($.url,me.currentRawUrl),Vt={browserUrl:me.extras.browserUrl,info:me.extras.info,skipLocationChange:me.extras.skipLocationChange,replaceUrl:me.extras.replaceUrl||"eager"===this.urlUpdateStrategy||je(me.source),...Nt};this.scheduleNavigation(dn,Ie,null,Vt,{resolve:me.resolve,reject:me.reject,promise:me.promise})}(function ys(C){return!(C instanceof Do||C instanceof _i)})($)&&this._events.next($)}catch(me){this.navigationTransitions.transitionAbortSubject.next(me)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ie,this.stateManager.restoredState())}setUpLocationChangeListener(){var R;null!==(R=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==R||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener(($,me)=>{setTimeout(()=>{this.navigateToSyncWithBrowser($,"popstate",me)},0)}))}navigateToSyncWithBrowser(R,$,me){const Ae={replaceUrl:!0},Nt=null!=me&&me.navigationId?me:null;if(me){const Vt={...me};delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(Ae.state=Vt)}const dn=this.parseUrl(R);this.scheduleNavigation(dn,$,Nt,Ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(sc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,$={}){const{relativeTo:me,queryParams:Ae,fragment:Nt,queryParamsHandling:dn,preserveFragment:Vt}=$,Wn=Vt?this.currentUrlTree.fragment:Nt;let Pi,Nr=null;switch(null!=dn?dn:this.options.defaultQueryParamsHandling){case"merge":Nr={...this.currentUrlTree.queryParams,...Ae};break;case"preserve":Nr=this.currentUrlTree.queryParams;break;default:Nr=Ae||null}null!==Nr&&(Nr=this.removeEmptyProps(Nr));try{Pi=no(me?me.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||"/"!==R[0][0])&&(R=[]),Pi=this.currentUrlTree.root}return Ti(Pi,R,Nr,null!=Wn?Wn:null)}navigateByUrl(R,$={skipLocationChange:!1}){const me=Wr(R)?R:this.parseUrl(R),Ae=this.urlHandlingStrategy.merge(me,this.rawUrlTree);return this.scheduleNavigation(Ae,Ie,null,$)}navigate(R,$={skipLocationChange:!1}){return function _s(C){for(let M=0;M<C.length;M++)if(null==C[M])throw new d.wOt(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,$),$)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){try{return this.urlSerializer.parse(R)}catch{return this.urlSerializer.parse("/")}}isActive(R,$){let me;if(me=!0===$?{...qn}:!1===$?{...vs}:$,Wr(R))return yn(this.currentUrlTree,R,me);const Ae=this.parseUrl(R);return yn(this.currentUrlTree,Ae,me)}removeEmptyProps(R){return Object.entries(R).reduce(($,[me,Ae])=>(null!=Ae&&($[me]=Ae),$),{})}scheduleNavigation(R,$,me,Ae,Nt){if(this.disposed)return Promise.resolve(!1);let dn,Vt,Wn;Nt?(dn=Nt.resolve,Vt=Nt.reject,Wn=Nt.promise):Wn=new Promise((Pi,zr)=>{dn=Pi,Vt=zr});const Nr=this.pendingTasks.add();return $r(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Nr))}),this.navigationTransitions.handleNavigationRequest({source:$,restoredState:me,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:Ae,resolve:dn,reject:Vt,promise:Wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wn.catch(Pi=>Promise.reject(Pi))}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})(),ws=(()=>{var C;class M{constructor(R,$,me,Ae,Nt,dn){var Vt;this.router=R,this.route=$,this.tabIndexAttribute=me,this.renderer=Ae,this.el=Nt,this.locationStrategy=dn,this.href=null,this.onChanges=new ue.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Wn=null===(Vt=Nt.nativeElement.tagName)||void 0===Vt?void 0:Vt.toLowerCase();this.isAnchorElement="a"===Wn||"area"===Wn,this.isAnchorElement?this.subscription=R.events.subscribe(Nr=>{Nr instanceof Rt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null==R?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Wr(R)||Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0"))}onClick(R,$,me,Ae,Nt){const dn=this.urlTree;return!!(null===dn||this.isAnchorElement&&(0!==R||$||me||Ae||Nt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(dn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}updateHref(){var R;const $=this.urlTree;this.href=null!==$&&this.locationStrategy?null===(R=this.locationStrategy)||void 0===R?void 0:R.prepareExternalUrl(this.router.serializeUrl($)):null;const me=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",me)}applyAttributeValue(R,$){const me=this.renderer,Ae=this.el.nativeElement;null!==$?me.setAttribute(Ae,R,$):me.removeAttribute(Ae,R)}get urlTree(){return null===this.routerLinkInput?null:Wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(C=M).\u0275fac=function(R){return new(R||C)(d.rXU(qi),d.rXU(en),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(De.hb))},C.\u0275dir=d.FsC({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,$){1&R&&d.bIt("click",function(Ae){return $.onClick(Ae.button,Ae.ctrlKey,Ae.shiftKey,Ae.altKey,Ae.metaKey)}),2&R&&d.BMQ("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),M})();class aa{}let Lc=(()=>{var C;class M{preload(R,$){return $().pipe(tn(()=>(0,ye.of)(null)))}}return(C=M).\u0275fac=function(R){return new(R||C)},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})(),Io=(()=>{var C;class M{constructor(R,$,me,Ae,Nt){this.router=R,this.injector=me,this.preloadingStrategy=Ae,this.loader=Nt}setUpPreloading(){this.subscription=this.router.events.pipe((0,pe.p)(R=>R instanceof Rt),(0,Xt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,$){const me=[];for(const Vt of $){var Ae,Nt;Vt.providers&&!Vt._injector&&(Vt._injector=(0,d.Ol2)(Vt.providers,R,`Route: ${Vt.path}`));const Wn=null!==(Ae=Vt._injector)&&void 0!==Ae?Ae:R,Nr=null!==(Nt=Vt._loadedInjector)&&void 0!==Nt?Nt:Wn;var dn;(Vt.loadChildren&&!Vt._loadedRoutes&&void 0===Vt.canLoad||Vt.loadComponent&&!Vt._loadedComponent)&&me.push(this.preloadConfig(Wn,Vt)),(Vt.children||Vt._loadedRoutes)&&me.push(this.processRoutes(Nr,null!==(dn=Vt.children)&&void 0!==dn?dn:Vt._loadedRoutes))}return(0,J.H)(me).pipe((0,Ft.U)())}preloadConfig(R,$){return this.preloadingStrategy.preload($,()=>{let me;me=$.loadChildren&&void 0===$.canLoad?this.loader.loadChildren(R,$):(0,ye.of)(null);const Ae=me.pipe((0,rt.Z)(Nt=>{var dn;return null===Nt?(0,ye.of)(void 0):($._loadedRoutes=Nt.routes,$._loadedInjector=Nt.injector,this.processRoutes(null!==(dn=Nt.injector)&&void 0!==dn?dn:R,Nt.routes))}));if($.loadComponent&&!$._loadedComponent){const Nt=this.loader.loadComponent($);return(0,J.H)([Ae,Nt]).pipe((0,Ft.U)())}return Ae})}}return(C=M).\u0275fac=function(R){return new(R||C)(d.KVO(qi),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(aa),d.KVO(il))},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();const ni=new d.nKC("");let El=(()=>{var C;class M{constructor(R,$,me,Ae,Nt={}){this.urlSerializer=R,this.transitions=$,this.viewportScroller=me,this.zone=Ae,this.options=Nt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Nt.scrollPositionRestoration||(Nt.scrollPositionRestoration="disabled"),Nt.anchorScrolling||(Nt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof At?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof Rt?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof An&&R.code===sn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof rs&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,$){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rs(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,$))})},0)})}ngOnDestroy(){var R,$;null===(R=this.routerEventsSubscription)||void 0===R||R.unsubscribe(),null===($=this.scrollEventsSubscription)||void 0===$||$.unsubscribe()}}return(C=M).\u0275fac=function(R){d.QTQ()},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac}),M})();function Xs(C,M){return{\u0275kind:C,\u0275providers:M}}function Es(){const C=(0,d.WQX)(d.zZn);return M=>{var V,R;const $=C.get(d.o8S);if(M!==$.components[0])return;const me=C.get(qi),Ae=C.get(Nl);1===C.get(co)&&me.initialNavigation(),null===(V=C.get(xl,null,d.$GK.Optional))||void 0===V||V.setUpPreloading(),null===(R=C.get(ni,null,d.$GK.Optional))||void 0===R||R.init(),me.resetRootComponentType($.componentTypes[0]),Ae.closed||(Ae.next(),Ae.complete(),Ae.unsubscribe())}}const Nl=new d.nKC("",{factory:()=>new ue.B}),co=new d.nKC("",{providedIn:"root",factory:()=>1}),xl=new d.nKC("");function _a(C){return Xs(0,[{provide:xl,useExisting:Io},{provide:aa,useExisting:C}])}function Ru(C){return Xs(9,[{provide:yl,useValue:q},{provide:w,useValue:{skipNextTransition:!(null==C||!C.skipInitialTransition),...C}}])}const qs=new d.nKC("ROUTER_FORROOT_GUARD"),Yo=[De.aZ,{provide:Qn,useClass:Zn},qi,x,{provide:en,useFactory:function Va(C){return C.routerState.root},deps:[qi]},il,[]];let au=(()=>{var C;class M{constructor(R){}static forRoot(R,$){return{ngModule:M,providers:[Yo,[],{provide:rl,multi:!0,useValue:R},{provide:qs,useFactory:ya,deps:[[qi,new d.Xx1,new d.kdw]]},{provide:Ds,useValue:$||{}},null!=$&&$.useHash?{provide:De.hb,useClass:De.fw}:{provide:De.hb,useClass:De.Sm},{provide:ni,useFactory:()=>{const C=(0,d.WQX)(De.Xr),M=(0,d.WQX)(d.SKi),V=(0,d.WQX)(Ds),R=(0,d.WQX)(_e),$=(0,d.WQX)(Qn);return V.scrollOffset&&C.setOffset(V.scrollOffset),new El($,R,C,M,V)}},null!=$&&$.preloadingStrategy?_a($.preloadingStrategy).\u0275providers:[],null!=$&&$.initialNavigation?uc($):[],null!=$&&$.bindToComponentInputs?Xs(8,[mo,{provide:ss,useExisting:mo}]).\u0275providers:[],null!=$&&$.enableViewTransitions?Ru().\u0275providers:[],[{provide:Ua,useFactory:Es},{provide:d.iLQ,multi:!0,useExisting:Ua}]]}}static forChild(R){return{ngModule:M,providers:[{provide:rl,multi:!0,useValue:R}]}}}return(C=M).\u0275fac=function(R){return new(R||C)(d.KVO(qs,8))},C.\u0275mod=d.$C({type:C}),C.\u0275inj=d.G2t({}),M})();function ya(C){return"guarded"}function uc(C){return["disabled"===C.initialNavigation?Xs(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const M=(0,d.WQX)(qi);return()=>{M.setUpLocationChangeListener()}}},{provide:co,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?Xs(2,[{provide:co,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:M=>{const V=M.get(De.hj,Promise.resolve());return()=>V.then(()=>new Promise(R=>{const $=M.get(qi),me=M.get(Nl);$r($,()=>{R(!0)}),M.get(_e).afterPreactivation=()=>(R(!0),me.closed?(0,ye.of)(void 0):me),$.initialNavigation()}))}}]).\u0275providers:[]]}const Ua=new d.nKC("")},2872:(Mn,It,k)=>{"use strict";k.d(It,{Yq:()=>ln,TS:()=>jn,sR:()=>qt,el:()=>In,Sb:()=>Qn,QE:()=>xn,CF:()=>Ni,Rg:()=>We,p4:()=>Wr,jM:()=>zo,q9:()=>Nn,Kb:()=>_o,CE:()=>Xn,pF:()=>Tr,fL:()=>no,YV:()=>Ne,er:()=>ji,z3:()=>Ti});var d=k(467),h=k(9842),B=k(3953),Ee=k(9384),J=k(177),ye=k(5531),Se=k(4442);var Ot=k(1413),Xt=k(3726),En=k(4412),tn=k(4572),cn=k(7673),ft=k(1635),Me=k(5964),ie=k(5558),oe=k(3294),he=k(4341);const Ge=["tabsInner"];let Ft=(()=>{var Je;class Te{constructor(ce,de){(0,h.A)(this,"doc",void 0),(0,h.A)(this,"_readyPromise",void 0),(0,h.A)(this,"win",void 0),(0,h.A)(this,"backButton",new Ot.B),(0,h.A)(this,"keyboardDidShow",new Ot.B),(0,h.A)(this,"keyboardDidHide",new Ot.B),(0,h.A)(this,"pause",new Ot.B),(0,h.A)(this,"resume",new Ot.B),(0,h.A)(this,"resize",new Ot.B),this.doc=ce,de.run(()=>{var ze;let Bt;this.win=ce.defaultView,this.backButton.subscribeWithPriority=function(mn,wn){return this.subscribe(Kn=>Kn.register(mn,Sr=>de.run(()=>wn(Sr))))},wt(this.pause,ce,"pause",de),wt(this.resume,ce,"resume",de),wt(this.backButton,ce,"ionBackButton",de),wt(this.resize,this.win,"resize",de),wt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",de),wt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",de),this._readyPromise=new Promise(mn=>{Bt=mn}),null!==(ze=this.win)&&void 0!==ze&&ze.cordova?ce.addEventListener("deviceready",()=>{Bt("cordova")},{once:!0}):Bt("dom")})}is(ce){return(0,ye.a)(this.win,ce)}platforms(){return(0,ye.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ce){return Pt(this.win.location.href,ce)}isLandscape(){return!this.isPortrait()}isPortrait(){var ce,de;return null===(ce=(de=this.win).matchMedia)||void 0===ce?void 0:ce.call(de,"(orientation: portrait)").matches}testUserAgent(ce){const de=this.win.navigator;return!!(null!=de&&de.userAgent&&de.userAgent.indexOf(ce)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)(B.KVO(J.qQ),B.KVO(B.SKi))}),(0,h.A)(Te,"\u0275prov",B.jDH({token:Je,factory:Je.\u0275fac,providedIn:"root"})),Te})();const Pt=(Je,Te)=>{Te=Te.replace(/[[\]\\]/g,"\\$&");const ce=new RegExp("[\\?&]"+Te+"=([^&#]*)").exec(Je);return ce?decodeURIComponent(ce[1].replace(/\+/g," ")):null},wt=(Je,Te,Et,ce)=>{Te&&Te.addEventListener(Et,de=>{ce.run(()=>{Je.next(null!=de?de.detail:void 0)})})};let Nn=(()=>{var Je;class Te{constructor(ce,de,ze,Bt){(0,h.A)(this,"location",void 0),(0,h.A)(this,"serializer",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"topOutlet",void 0),(0,h.A)(this,"direction",kn),(0,h.A)(this,"animated",Ln),(0,h.A)(this,"animationBuilder",void 0),(0,h.A)(this,"guessDirection","forward"),(0,h.A)(this,"guessAnimation",void 0),(0,h.A)(this,"lastNavId",-1),this.location=de,this.serializer=ze,this.router=Bt,Bt&&Bt.events.subscribe(mn=>{if(mn instanceof Ee.Z){const wn=mn.restoredState?mn.restoredState.navigationId:mn.id;this.guessDirection=this.guessAnimation=wn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?mn.id:wn}}),ce.backButton.subscribeWithPriority(0,mn=>{this.pop(),mn()})}navigateForward(ce,de={}){return this.setDirection("forward",de.animated,de.animationDirection,de.animation),this.navigate(ce,de)}navigateBack(ce,de={}){return this.setDirection("back",de.animated,de.animationDirection,de.animation),this.navigate(ce,de)}navigateRoot(ce,de={}){return this.setDirection("root",de.animated,de.animationDirection,de.animation),this.navigate(ce,de)}back(ce={animated:!0,animationDirection:"back"}){return this.setDirection("back",ce.animated,ce.animationDirection,ce.animation),this.location.back()}pop(){var ce=this;return(0,d.A)(function*(){let de=ce.topOutlet;for(;de;){if(yield de.pop())return!0;de=de.parentOutlet}return!1})()}setDirection(ce,de,ze,Bt){this.direction=ce,this.animated=St(ce,de,ze),this.animationBuilder=Bt}setTopOutlet(ce){this.topOutlet=ce}consumeTransition(){let de,ce="root";const ze=this.animationBuilder;return"auto"===this.direction?(ce=this.guessDirection,de=this.guessAnimation):(de=this.animated,ce=this.direction),this.direction=kn,this.animated=Ln,this.animationBuilder=void 0,{direction:ce,animation:de,animationBuilder:ze}}navigate(ce,de){if(Array.isArray(ce))return this.router.navigate(ce,de);{const ze=this.serializer.parse(ce.toString());return void 0!==de.queryParams&&(ze.queryParams={...de.queryParams}),void 0!==de.fragment&&(ze.fragment=de.fragment),this.router.navigateByUrl(ze,de)}}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)(B.KVO(Ft),B.KVO(J.aZ),B.KVO(Ee.Sd),B.KVO(Ee.Ix,8))}),(0,h.A)(Te,"\u0275prov",B.jDH({token:Je,factory:Je.\u0275fac,providedIn:"root"})),Te})();const St=(Je,Te,Et)=>{if(!1!==Te){if(void 0!==Et)return Et;if("forward"===Je||"back"===Je)return Je;if("root"===Je&&!0===Te)return"forward"}},kn="auto",Ln=void 0;let jn=(()=>{var Je;class Te{get(ce,de){const ze=Zt();return ze?ze.get(ce,de):null}getBoolean(ce,de){const ze=Zt();return!!ze&&ze.getBoolean(ce,de)}getNumber(ce,de){const ze=Zt();return ze?ze.getNumber(ce,de):0}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)}),(0,h.A)(Te,"\u0275prov",B.jDH({token:Je,factory:Je.\u0275fac,providedIn:"root"})),Te})();const qt=new B.nKC("USERCONFIG"),Zt=()=>{if(typeof window<"u"){const Je=window.Ionic;if(null!=Je&&Je.config)return Je.config}return null};class rr{constructor(Te={}){(0,h.A)(this,"data",void 0),this.data=Te,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Te){return this.data[Te]}}let ln=(()=>{var Je;class Te{constructor(){(0,h.A)(this,"zone",(0,B.WQX)(B.SKi)),(0,h.A)(this,"applicationRef",(0,B.WQX)(B.o8S)),(0,h.A)(this,"config",(0,B.WQX)(qt))}create(ce,de,ze){var Bt;return new $e(ce,de,this.applicationRef,this.zone,ze,null!==(Bt=this.config.useSetInputAPI)&&void 0!==Bt&&Bt)}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)}),(0,h.A)(Te,"\u0275prov",B.jDH({token:Je,factory:Je.\u0275fac})),Te})();class $e{constructor(Te,Et,ce,de,ze,Bt){(0,h.A)(this,"environmentInjector",void 0),(0,h.A)(this,"injector",void 0),(0,h.A)(this,"applicationRef",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"elementReferenceKey",void 0),(0,h.A)(this,"enableSignalsSupport",void 0),(0,h.A)(this,"elRefMap",new WeakMap),(0,h.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Te,this.injector=Et,this.applicationRef=ce,this.zone=de,this.elementReferenceKey=ze,this.enableSignalsSupport=Bt}attachViewToDom(Te,Et,ce,de){return this.zone.run(()=>new Promise(ze=>{const Bt={...ce};void 0!==this.elementReferenceKey&&(Bt[this.elementReferenceKey]=Te),ze(Ue(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Te,Et,Bt,de,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Te,Et){return this.zone.run(()=>new Promise(ce=>{const de=this.elRefMap.get(Et);if(de){de.destroy(),this.elRefMap.delete(Et);const ze=this.elEventsMap.get(Et);ze&&(ze(),this.elEventsMap.delete(Et))}ce()}))}}const Ue=(Je,Te,Et,ce,de,ze,Bt,mn,wn,Kn,Sr,ki)=>{const Ie=B.zZn.create({providers:lr(wn),parent:Et}),Qe=(0,B.a0P)(mn,{environmentInjector:Te,elementInjector:Ie}),xe=Qe.instance,At=Qe.location.nativeElement;if(wn)if(Sr&&void 0!==xe[Sr]&&console.error(`[Ionic Error]: ${Sr} is a reserved property when using ${Bt.tagName.toLowerCase()}. Rename or remove the "${Sr}" property from ${mn.name}.`),!0===ki&&void 0!==Qe.setInput){const{modal:gt,popover:sn,...vn}=wn;for(const An in vn)Qe.setInput(An,vn[An]);void 0!==gt&&Object.assign(xe,{modal:gt}),void 0!==sn&&Object.assign(xe,{popover:sn})}else Object.assign(xe,wn);if(Kn)for(const gt of Kn)At.classList.add(gt);const Rt=yn(Je,xe,At);return Bt.appendChild(At),ce.attachView(Qe.hostView),de.set(At,Qe),ze.set(At,Rt),At},Lt=[Se.L,Se.a,Se.b,Se.c,Se.d],yn=(Je,Te,Et)=>Je.run(()=>{const ce=Lt.filter(de=>"function"==typeof Te[de]).map(de=>{const ze=Bt=>Te[de](Bt.detail);return Et.addEventListener(de,ze),()=>Et.removeEventListener(de,ze)});return()=>ce.forEach(de=>de())}),ir=new B.nKC("NavParamsToken"),lr=Je=>[{provide:ir,useValue:Je},{provide:rr,useFactory:Hn,deps:[ir]}],Hn=Je=>new rr(Je),zt=(Je,Te)=>{const Et=Je.prototype;Te.forEach(ce=>{Object.defineProperty(Et,ce,{get(){return this.el[ce]},set(de){this.z.runOutsideAngular(()=>this.el[ce]=de)}})})},gr=(Je,Te)=>{const Et=Je.prototype;Te.forEach(ce=>{Et[ce]=function(){const de=arguments;return this.z.runOutsideAngular(()=>this.el[ce].apply(this.el,de))}})},ur=(Je,Te,Et)=>{Et.forEach(ce=>Je[ce]=(0,Xt.R)(Te,ce))};function mr(Je){return function(Et){const{defineCustomElementFn:ce,inputs:de,methods:ze}=Je;return void 0!==ce&&ce(),de&&zt(Et,de),ze&&gr(Et,ze),Et}}const vr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Lr=["present","dismiss","onDidDismiss","onWillDismiss"];let Ni=(()=>{var Je;let Te=((0,h.A)(Je=class{constructor(ce,de,ze){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=ze,this.el=de.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ce.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ce.detectChanges()}),ur(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ce){return new(ce||Je)(B.rXU(B.gRc),B.rXU(B.aKT),B.rXU(B.SKi))}),(0,h.A)(Je,"\u0275dir",B.FsC({type:Je,selectors:[["ion-popover"]],contentQueries:function(ce,de,ze){if(1&ce&&B.wni(ze,B.C4Q,5),2&ce){let Bt;B.mGM(Bt=B.lsd())&&(de.template=Bt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Je);return Te=(0,ft.Cg)([mr({inputs:vr,methods:Lr})],Te),Te})();const Vn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],wi=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Qn=(()=>{var Je;let Te=((0,h.A)(Je=class{constructor(ce,de,ze){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=ze,this.el=de.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ce.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ce.detectChanges()}),ur(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ce){return new(ce||Je)(B.rXU(B.gRc),B.rXU(B.aKT),B.rXU(B.SKi))}),(0,h.A)(Je,"\u0275dir",B.FsC({type:Je,selectors:[["ion-modal"]],contentQueries:function(ce,de,ze){if(1&ce&&B.wni(ze,B.C4Q,5),2&ce){let Bt;B.mGM(Bt=B.lsd())&&(de.template=Bt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Je);return Te=(0,ft.Cg)([mr({inputs:Vn,methods:wi})],Te),Te})();const zn=(Je,Te)=>((Je=Je.filter(Et=>Et.stackId!==Te.stackId)).push(Te),Je),si=(Je,Te)=>{const Et=Je.createUrlTree(["."],{relativeTo:Te});return Je.serializeUrl(Et)},Ar=(Je,Te)=>!Te||Je.stackId!==Te.stackId,Dn=(Je,Te)=>{if(!Je)return;const Et=ai(Te);for(let ce=0;ce<Et.length;ce++){if(ce>=Je.length)return Et[ce];if(Et[ce]!==Je[ce])return}},ai=Je=>Je.split("/").map(Te=>Te.trim()).filter(Te=>""!==Te),Ut=Je=>{Je&&(Je.ref.destroy(),Je.unlistenEvents())};class _t{constructor(Te,Et,ce,de,ze,Bt){(0,h.A)(this,"containerEl",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"location",void 0),(0,h.A)(this,"views",[]),(0,h.A)(this,"runningTask",void 0),(0,h.A)(this,"skipTransition",!1),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"activeView",void 0),(0,h.A)(this,"nextId",0),this.containerEl=Et,this.router=ce,this.navCtrl=de,this.zone=ze,this.location=Bt,this.tabsPrefix=void 0!==Te?ai(Te):void 0}createView(Te,Et){var ce;const de=si(this.router,Et),ze=null==Te||null===(ce=Te.location)||void 0===ce?void 0:ce.nativeElement,Bt=yn(this.zone,Te.instance,ze);return{id:this.nextId++,stackId:Dn(this.tabsPrefix,de),unlistenEvents:Bt,element:ze,ref:Te,url:de}}getExistingView(Te){const Et=si(this.router,Te),ce=this.views.find(de=>de.url===Et);return ce&&ce.ref.changeDetectorRef.reattach(),ce}setActive(Te){var Et,ce;const de=this.navCtrl.consumeTransition();let{direction:ze,animation:Bt,animationBuilder:mn}=de;const wn=this.activeView,Kn=Ar(Te,wn);Kn&&(ze="back",Bt=void 0);const Sr=this.views.slice();let ki;const Ie=this.router;Ie.getCurrentNavigation?ki=Ie.getCurrentNavigation():null!==(Et=Ie.navigations)&&void 0!==Et&&Et.value&&(ki=Ie.navigations.value),null!==(ce=ki)&&void 0!==ce&&null!==(ce=ce.extras)&&void 0!==ce&&ce.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Qe=this.views.includes(Te),xe=this.insertView(Te,ze);Qe||Te.ref.changeDetectorRef.detectChanges();const At=Te.animationBuilder;return void 0===mn&&"back"===ze&&!Kn&&void 0!==At&&(mn=At),wn&&(wn.animationBuilder=mn),this.zone.runOutsideAngular(()=>this.wait(()=>(wn&&wn.ref.changeDetectorRef.detach(),Te.ref.changeDetectorRef.reattach(),this.transition(Te,wn,Bt,this.canGoBack(1),!1,mn).then(()=>Gt(Te,xe,Sr,this.location,this.zone)).then(()=>({enteringView:Te,direction:ze,animation:Bt,tabSwitch:Kn})))))}canGoBack(Te,Et=this.getActiveStackId()){return this.getStack(Et).length>Te}pop(Te,Et=this.getActiveStackId()){return this.zone.run(()=>{const ce=this.getStack(Et);if(ce.length<=Te)return Promise.resolve(!1);const de=ce[ce.length-Te-1];let ze=de.url;const Bt=de.savedData;if(Bt){var mn;const Kn=Bt.get("primary");null!=Kn&&null!==(mn=Kn.route)&&void 0!==mn&&null!==(mn=mn._routerState)&&void 0!==mn&&mn.snapshot.url&&(ze=Kn.route._routerState.snapshot.url)}const{animationBuilder:wn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ze,{...de.savedExtras,animation:wn}).then(()=>!0)})}startBackTransition(){const Te=this.activeView;if(Te){const Et=this.getStack(Te.stackId),ce=Et[Et.length-2],de=ce.animationBuilder;return this.wait(()=>this.transition(ce,Te,"back",this.canGoBack(2),!0,de))}return Promise.resolve()}endBackTransition(Te){Te?(this.skipTransition=!0,this.pop(1)):this.activeView&&ke(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Te){const Et=this.getStack(Te);return Et.length>0?Et[Et.length-1]:void 0}getRootUrl(Te){const Et=this.getStack(Te);return Et.length>0?Et[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ut),this.activeView=void 0,this.views=[]}getStack(Te){return this.views.filter(Et=>Et.stackId===Te)}insertView(Te,Et){return this.activeView=Te,this.views=((Je,Te,Et)=>"root"===Et?zn(Je,Te):"forward"===Et?((Je,Te)=>(Je.indexOf(Te)>=0?Je=Je.filter(ce=>ce.stackId!==Te.stackId||ce.id<=Te.id):Je.push(Te),Je))(Je,Te):((Je,Te)=>Je.indexOf(Te)>=0?Je.filter(ce=>ce.stackId!==Te.stackId||ce.id<=Te.id):zn(Je,Te))(Je,Te))(this.views,Te,Et),this.views.slice()}transition(Te,Et,ce,de,ze,Bt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Et===Te)return Promise.resolve(!1);const mn=Te?Te.element:void 0,wn=Et?Et.element:void 0,Kn=this.containerEl;return mn&&mn!==wn&&(mn.classList.add("ion-page"),mn.classList.add("ion-page-invisible"),Kn.commit)?Kn.commit(mn,wn,{duration:void 0===ce?0:void 0,direction:ce,showGoBack:de,progressAnimation:ze,animationBuilder:Bt}):Promise.resolve(!1)}wait(Te){var Et=this;return(0,d.A)(function*(){void 0!==Et.runningTask&&(yield Et.runningTask,Et.runningTask=void 0);const ce=Et.runningTask=Te();return ce.finally(()=>Et.runningTask=void 0),ce})()}}const Gt=(Je,Te,Et,ce,de)=>"function"==typeof requestAnimationFrame?new Promise(ze=>{requestAnimationFrame(()=>{ke(Je,Te,Et,ce,de),ze()})}):Promise.resolve(),ke=(Je,Te,Et,ce,de)=>{de.run(()=>Et.filter(ze=>!Te.includes(ze)).forEach(Ut)),Te.forEach(ze=>{const mn=ce.path().split("?")[0].split("#")[0];if(ze!==Je&&ze.url!==mn){const wn=ze.element;wn.setAttribute("aria-hidden","true"),wn.classList.add("ion-page-hidden"),ze.ref.changeDetectorRef.detach()}})};let We=(()=>{var Je;class Te{get activatedComponentRef(){return this.activated}set animation(ce){this.nativeEl.animation=ce}set animated(ce){this.nativeEl.animated=ce}set swipeGesture(ce){this._swipeGesture=ce,this.nativeEl.swipeHandler=ce?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:de=>this.stackCtrl.endBackTransition(de)}:void 0}constructor(ce,de,ze,Bt,mn,wn,Kn,Sr){(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"nativeEl",void 0),(0,h.A)(this,"activatedView",null),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"_swipeGesture",void 0),(0,h.A)(this,"stackCtrl",void 0),(0,h.A)(this,"proxyMap",new WeakMap),(0,h.A)(this,"currentActivatedRoute$",new En.t(null)),(0,h.A)(this,"activated",null),(0,h.A)(this,"_activatedRoute",null),(0,h.A)(this,"name",Ee.Xk),(0,h.A)(this,"stackWillChange",new B.bkB),(0,h.A)(this,"stackDidChange",new B.bkB),(0,h.A)(this,"activateEvents",new B.bkB),(0,h.A)(this,"deactivateEvents",new B.bkB),(0,h.A)(this,"parentContexts",(0,B.WQX)(Ee.Zp)),(0,h.A)(this,"location",(0,B.WQX)(B.c1b)),(0,h.A)(this,"environmentInjector",(0,B.WQX)(B.uvJ)),(0,h.A)(this,"inputBinder",(0,B.WQX)(K,{optional:!0})),(0,h.A)(this,"supportsBindingToComponentInputs",!0),(0,h.A)(this,"config",(0,B.WQX)(jn)),(0,h.A)(this,"navCtrl",(0,B.WQX)(Nn)),this.parentOutlet=Sr,this.nativeEl=Bt.nativeElement,this.name=ce||Ee.Xk,this.tabsPrefix="true"===de?si(mn,Kn):void 0,this.stackCtrl=new _t(this.tabsPrefix,this.nativeEl,mn,this.navCtrl,wn,ze),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ce;this.stackCtrl.destroy(),null===(ce=this.inputBinder)||void 0===ce||ce.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ce=this.getContext();null!=ce&&ce.route&&this.activateWith(ce.route,ce.injector)}new Promise(ce=>((Je,Te)=>{Je.componentOnReady?Je.componentOnReady().then(Et=>Te(Et)):(Je=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Je):"function"==typeof requestAnimationFrame?requestAnimationFrame(Je):setTimeout(Je)})(()=>Te(Je))})(this.nativeEl,ce)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ce,de){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const de=this.getContext();this.activatedView.savedData=new Map(de.children.contexts);const ze=this.activatedView.savedData.get("primary");if(ze&&de.route&&(ze.route={...de.route}),this.activatedView.savedExtras={},de.route){const Bt=de.route.snapshot;this.activatedView.savedExtras.queryParams=Bt.queryParams,this.activatedView.savedExtras.fragment=Bt.fragment}}const ce=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ce)}}activateWith(ce,de){var ze;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ce;let Bt,mn=this.stackCtrl.getExistingView(ce);if(mn){Bt=this.activated=mn.ref;const Sr=mn.savedData;Sr&&(this.getContext().children.contexts=Sr),this.updateActivatedRouteProxy(Bt.instance,ce)}else{var wn;const Sr=ce._futureSnapshot,ki=this.parentContexts.getOrCreateContext(this.name).children,Ie=new En.t(null),Qe=this.createActivatedRouteProxy(Ie,ce),xe=new X(Qe,ki,this.location.injector),At=null!==(wn=Sr.routeConfig.component)&&void 0!==wn?wn:Sr.component;Bt=this.activated=this.outletContent.createComponent(At,{index:this.outletContent.length,injector:xe,environmentInjector:null!=de?de:this.environmentInjector}),Ie.next(Bt.instance),mn=this.stackCtrl.createView(this.activated,ce),this.proxyMap.set(Bt.instance,Qe),this.currentActivatedRoute$.next({component:Bt.instance,activatedRoute:ce})}null===(ze=this.inputBinder)||void 0===ze||ze.bindActivatedRouteToOutletComponent(this),this.activatedView=mn,this.navCtrl.setTopOutlet(this);const Kn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:mn,tabSwitch:Ar(mn,Kn)}),this.stackCtrl.setActive(mn).then(Sr=>{this.activateEvents.emit(Bt.instance),this.stackDidChange.emit(Sr)})}canGoBack(ce=1,de){return this.stackCtrl.canGoBack(ce,de)}pop(ce=1,de){return this.stackCtrl.pop(ce,de)}getLastUrl(ce){const de=this.stackCtrl.getLastUrl(ce);return de?de.url:void 0}getLastRouteView(ce){return this.stackCtrl.getLastUrl(ce)}getRootView(ce){return this.stackCtrl.getRootUrl(ce)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ce,de){const ze=new Ee.nX;return ze._futureSnapshot=de._futureSnapshot,ze._routerState=de._routerState,ze.snapshot=de.snapshot,ze.outlet=de.outlet,ze.component=de.component,ze._paramMap=this.proxyObservable(ce,"paramMap"),ze._queryParamMap=this.proxyObservable(ce,"queryParamMap"),ze.url=this.proxyObservable(ce,"url"),ze.params=this.proxyObservable(ce,"params"),ze.queryParams=this.proxyObservable(ce,"queryParams"),ze.fragment=this.proxyObservable(ce,"fragment"),ze.data=this.proxyObservable(ce,"data"),ze}proxyObservable(ce,de){return ce.pipe((0,Me.p)(ze=>!!ze),(0,ie.n)(ze=>this.currentActivatedRoute$.pipe((0,Me.p)(Bt=>null!==Bt&&Bt.component===ze),(0,ie.n)(Bt=>Bt&&Bt.activatedRoute[de]),(0,oe.F)())))}updateActivatedRouteProxy(ce,de){const ze=this.proxyMap.get(ce);if(!ze)throw new Error("Could not find activated route proxy for view");ze._futureSnapshot=de._futureSnapshot,ze._routerState=de._routerState,ze.snapshot=de.snapshot,ze.outlet=de.outlet,ze.component=de.component,this.currentActivatedRoute$.next({component:ce,activatedRoute:de})}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)(B.kS0("name"),B.kS0("tabs"),B.rXU(J.aZ),B.rXU(B.aKT),B.rXU(Ee.Ix),B.rXU(B.SKi),B.rXU(Ee.nX),B.rXU(Je,12))}),(0,h.A)(Te,"\u0275dir",B.FsC({type:Je,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Te})();class X{constructor(Te,Et,ce){(0,h.A)(this,"route",void 0),(0,h.A)(this,"childContexts",void 0),(0,h.A)(this,"parent",void 0),this.route=Te,this.childContexts=Et,this.parent=ce}get(Te,Et){return Te===Ee.nX?this.route:Te===Ee.Zp?this.childContexts:this.parent.get(Te,Et)}}const K=new B.nKC("");let ee=(()=>{var Je;class Te{constructor(){(0,h.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ce){this.unsubscribeFromRouteData(ce),this.subscribeToRouteData(ce)}unsubscribeFromRouteData(ce){var de;null===(de=this.outletDataSubscriptions.get(ce))||void 0===de||de.unsubscribe(),this.outletDataSubscriptions.delete(ce)}subscribeToRouteData(ce){const{activatedRoute:de}=ce,ze=(0,tn.z)([de.queryParams,de.params,de.data]).pipe((0,ie.n)(([Bt,mn,wn],Kn)=>(wn={...Bt,...mn,...wn},0===Kn?(0,cn.of)(wn):Promise.resolve(wn)))).subscribe(Bt=>{if(!ce.isActivated||!ce.activatedComponentRef||ce.activatedRoute!==de||null===de.component)return void this.unsubscribeFromRouteData(ce);const mn=(0,B.HJs)(de.component);if(mn)for(const{templateName:wn}of mn.inputs)ce.activatedComponentRef.setInput(wn,Bt[wn]);else this.unsubscribeFromRouteData(ce)});this.outletDataSubscriptions.set(ce,ze)}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)}),(0,h.A)(Te,"\u0275prov",B.jDH({token:Je,factory:Je.\u0275fac})),Te})();const Ne=()=>({provide:K,useFactory:He,deps:[Ee.Ix]});function He(Je){return null!=Je&&Je.componentInputBindingEnabled?new ee:null}const Wt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let In=(()=>{var Je;let Te=((0,h.A)(Je=class{constructor(ce,de,ze,Bt,mn,wn){(0,h.A)(this,"routerOutlet",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"config",void 0),(0,h.A)(this,"r",void 0),(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.routerOutlet=ce,this.navCtrl=de,this.config=ze,this.r=Bt,this.z=mn,wn.detach(),this.el=this.r.nativeElement}onClick(ce){var de;const ze=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(de=this.routerOutlet)&&void 0!==de&&de.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ce.preventDefault()):null!=ze&&(this.navCtrl.navigateBack(ze,{animation:this.routerAnimation}),ce.preventDefault())}},"\u0275fac",function(ce){return new(ce||Je)(B.rXU(We,8),B.rXU(Nn),B.rXU(jn),B.rXU(B.aKT),B.rXU(B.SKi),B.rXU(B.gRc))}),(0,h.A)(Je,"\u0275dir",B.FsC({type:Je,hostBindings:function(ce,de){1&ce&&B.bIt("click",function(Bt){return de.onClick(Bt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Je);return Te=(0,ft.Cg)([mr({inputs:Wt})],Te),Te})(),Xn=(()=>{var Je;class Te{constructor(ce,de,ze,Bt,mn){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=ce,this.navCtrl=de,this.elementRef=ze,this.router=Bt,this.routerLink=mn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const de=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(de.tagName)&&"0"===de.getAttribute("tabindex")&&de.removeAttribute("tabindex")}updateTargetUrlAndHref(){var ce;if(null!==(ce=this.routerLink)&&void 0!==ce&&ce.urlTree){const de=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=de}}onClick(ce){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ce.preventDefault()}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)(B.rXU(J.hb),B.rXU(Nn),B.rXU(B.aKT),B.rXU(Ee.Ix),B.rXU(Ee.Wk,8))}),(0,h.A)(Te,"\u0275dir",B.FsC({type:Je,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ce,de){1&ce&&B.bIt("click",function(Bt){return de.onClick(Bt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[B.OA$]})),Te})(),Tr=(()=>{var Je;class Te{constructor(ce,de,ze,Bt,mn){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=ce,this.navCtrl=de,this.elementRef=ze,this.router=Bt,this.routerLink=mn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ce;if(null!==(ce=this.routerLink)&&void 0!==ce&&ce.urlTree){const de=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=de}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)(B.rXU(J.hb),B.rXU(Nn),B.rXU(B.aKT),B.rXU(Ee.Ix),B.rXU(Ee.Wk,8))}),(0,h.A)(Te,"\u0275dir",B.FsC({type:Je,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ce,de){1&ce&&B.bIt("click",function(){return de.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[B.OA$]})),Te})();const ht=["animated","animation","root","rootParams","swipeGesture"],fr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let xn=(()=>{var Je;let Te=((0,h.A)(Je=class{constructor(ce,de,ze,Bt,mn,wn){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=mn,wn.detach(),this.el=ce.nativeElement,ce.nativeElement.delegate=Bt.create(de,ze),ur(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ce){return new(ce||Je)(B.rXU(B.aKT),B.rXU(B.uvJ),B.rXU(B.zZn),B.rXU(ln),B.rXU(B.SKi),B.rXU(B.gRc))}),(0,h.A)(Je,"\u0275dir",B.FsC({type:Je,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Je);return Te=(0,ft.Cg)([mr({inputs:ht,methods:fr})],Te),Te})(),Wr=(()=>{var Je;class Te{constructor(ce){(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"tabsInner",void 0),(0,h.A)(this,"ionTabsWillChange",new B.bkB),(0,h.A)(this,"ionTabsDidChange",new B.bkB),(0,h.A)(this,"tabBarSlot","bottom"),(0,h.A)(this,"hasTab",!1),(0,h.A)(this,"selectedTab",void 0),(0,h.A)(this,"leavingTab",void 0),this.navCtrl=ce}ngAfterViewInit(){const ce=this.tabs.length>0?this.tabs.first:void 0;ce&&(this.hasTab=!0,this.setActiveTab(ce.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ce,tabSwitch:de}){const ze=ce.stackId;de&&void 0!==ze&&this.ionTabsWillChange.emit({tab:ze})}onStackDidChange({enteringView:ce,tabSwitch:de}){const ze=ce.stackId;de&&void 0!==ze&&(this.tabBar&&(this.tabBar.selectedTab=ze),this.ionTabsDidChange.emit({tab:ze}))}select(ce){const de="string"==typeof ce,ze=de?ce:ce.detail.tab;if(this.hasTab)return this.setActiveTab(ze),void this.tabSwitch();const Bt=this.outlet.getActiveStackId()===ze,mn=`${this.outlet.tabsPrefix}/${ze}`;if(de||ce.stopPropagation(),Bt){const wn=this.outlet.getActiveStackId(),Kn=this.outlet.getLastRouteView(wn);if((null==Kn?void 0:Kn.url)===mn)return;const Sr=this.outlet.getRootView(ze);return this.navCtrl.navigateRoot(mn,{...Sr&&mn===Sr.url&&Sr.savedExtras,animated:!0,animationDirection:"back"})}{const wn=this.outlet.getLastRouteView(ze);return this.navCtrl.navigateRoot((null==wn?void 0:wn.url)||mn,{...null==wn?void 0:wn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(ce){const ze=this.tabs.find(Bt=>Bt.tab===ce);ze?(this.leavingTab=this.selectedTab,this.selectedTab=ze,this.ionTabsWillChange.emit({tab:ce}),ze.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ce}" does not exist`)}tabSwitch(){const{selectedTab:ce,leavingTab:de}=this;this.tabBar&&ce&&(this.tabBar.selectedTab=ce.tab),(null==de?void 0:de.tab)!==(null==ce?void 0:ce.tab)&&null!=de&&de.el&&(de.el.active=!1),ce&&this.ionTabsDidChange.emit({tab:ce.tab})}getSelected(){var ce;return this.hasTab?null===(ce=this.selectedTab)||void 0===ce?void 0:ce.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ce=>{const de=ce.el.getAttribute("slot");de!==this.tabBarSlot&&(this.tabBarSlot=de,this.relocateTabBar())})}relocateTabBar(){const ce=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ce):this.tabsInner.nativeElement.after(ce)}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)(B.rXU(Nn))}),(0,h.A)(Te,"\u0275dir",B.FsC({type:Je,selectors:[["ion-tabs"]],viewQuery:function(ce,de){if(1&ce&&B.GBs(Ge,7,B.aKT),2&ce){let ze;B.mGM(ze=B.lsd())&&(de.tabsInner=ze.first)}},hostBindings:function(ce,de){1&ce&&B.bIt("ionTabButtonClick",function(Bt){return de.select(Bt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Te})();const ji=Je=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Je):"function"==typeof requestAnimationFrame?requestAnimationFrame(Je):setTimeout(Je);let no=(()=>{var Je;class Te{constructor(ce,de){(0,h.A)(this,"injector",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"onChange",()=>{}),(0,h.A)(this,"onTouched",()=>{}),(0,h.A)(this,"lastValue",void 0),(0,h.A)(this,"statusChanges",void 0),this.injector=ce,this.elementRef=de}writeValue(ce){this.elementRef.nativeElement.value=this.lastValue=ce,Ti(this.elementRef)}handleValueChange(ce,de){ce===this.elementRef.nativeElement&&(de!==this.lastValue&&(this.lastValue=de,this.onChange(de)),Ti(this.elementRef))}_handleBlurEvent(ce){ce===this.elementRef.nativeElement&&(this.onTouched(),Ti(this.elementRef))}registerOnChange(ce){this.onChange=ce}registerOnTouched(ce){this.onTouched=ce}setDisabledState(ce){this.elementRef.nativeElement.disabled=ce}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ce;try{ce=this.injector.get(he.vO)}catch{}if(!ce)return;ce.statusChanges&&(this.statusChanges=ce.statusChanges.subscribe(()=>Ti(this.elementRef)));const de=ce.control;de&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Bt=>{if(typeof de[Bt]<"u"){const mn=de[Bt].bind(de);de[Bt]=(...wn)=>{mn(...wn),Ti(this.elementRef)}}})}}return Je=Te,(0,h.A)(Te,"\u0275fac",function(ce){return new(ce||Je)(B.rXU(B.zZn),B.rXU(B.aKT))}),(0,h.A)(Te,"\u0275dir",B.FsC({type:Je,hostBindings:function(ce,de){1&ce&&B.bIt("ionBlur",function(Bt){return de._handleBlurEvent(Bt.target)})}})),Te})();const Ti=Je=>{ji(()=>{const Te=Je.nativeElement,Et=null!=Te.value&&Te.value.toString().length>0,ce=xo(Te);Hi(Te,ce);const de=Te.closest("ion-item");de&&Hi(de,Et?[...ce,"item-has-value"]:ce)})},xo=Je=>{const Te=Je.classList,Et=[];for(let ce=0;ce<Te.length;ce++){const de=Te.item(ce);null!==de&&bo(de,"ng-")&&Et.push(`ion-${de.substring(3)}`)}return Et},Hi=(Je,Te)=>{const Et=Je.classList;Et.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Et.add(...Te)},bo=(Je,Te)=>Je.substring(0,Te.length)===Te;class zo{shouldDetach(Te){return!1}shouldAttach(Te){return!1}store(Te,Et){}retrieve(Te){return null}shouldReuseRoute(Te,Et){if(Te.routeConfig!==Et.routeConfig)return!1;const ce=Te.params,de=Et.params,ze=Object.keys(ce),Bt=Object.keys(de);if(ze.length!==Bt.length)return!1;for(const mn of ze)if(de[mn]!==ce[mn])return!1;return!0}}class _o{constructor(Te){(0,h.A)(this,"ctrl",void 0),this.ctrl=Te}create(Te){return this.ctrl.create(Te||{})}dismiss(Te,Et,ce){return this.ctrl.dismiss(Te,Et,ce)}getTop(){return this.ctrl.getTop()}}},4742:(Mn,It,k)=>{"use strict";k.d(It,{hG:()=>js,hB:()=>ie,U1:()=>Ln,el:()=>Xr,Jm:()=>$e,QW:()=>Ue,b_:()=>Lt,I9:()=>yn,ME:()=>ir,tN:()=>Hn,W9:()=>mr,A9:()=>vr,M0:()=>Qn,eU:()=>zn,iq:()=>Ai,KW:()=>tr,$w:()=>Dn,Wv:()=>ai,uz:()=>Ut,Dg:()=>_t,he:()=>K,nf:()=>ee,oS:()=>Wt,MC:()=>In,Rg:()=>ar,BC:()=>An,BY:()=>Un,ai:()=>Jn,bv:()=>Vi,N7:()=>jr,oY:()=>oo,Je:()=>he,Gw:()=>Ge});var d=k(9842),h=k(3953),B=k(4341),Ee=k(2872),J=k(1635),ye=k(3726),Se=k(177),Oe=k(9384),Xe=(k(9986),k(3604),k(5022),k(3615),k(8607),k(9483)),ot=k(464),ct=(k(1702),k(5229)),Dt=(k(8476),k(4261));k(1970),k(7192);var Ke=k(467);const nt=Xe.i,Ze=function(){var x=(0,Ke.A)(function*(A,O){if(!(typeof window>"u"))return yield nt(),(0,Dt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),O)});return function(O,T){return x.apply(this,arguments)}}(),pe=["*"],rt=["outletContent"];let ie=(()=>{var x;class A extends Ee.fL{constructor(T,z){super(T,z)}writeValue(T){this.elementRef.nativeElement.checked=this.lastValue=T,(0,Ee.z3)(this.elementRef)}_handleIonChange(T){this.handleValueChange(T,T.checked)}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,d.A)(A,"\u0275dir",h.FsC({type:x,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(T,z){1&T&&h.bIt("ionChange",function(dt){return z._handleIonChange(dt.target)})},features:[h.Jv_([{provide:B.kq,useExisting:x,multi:!0}]),h.Vt3]})),A})(),he=(()=>{var x;class A extends Ee.fL{constructor(T,z){super(T,z)}_handleChangeEvent(T){this.handleValueChange(T,T.value)}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,d.A)(A,"\u0275dir",h.FsC({type:x,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(T,z){1&T&&h.bIt("ionChange",function(dt){return z._handleChangeEvent(dt.target)})},features:[h.Jv_([{provide:B.kq,useExisting:x,multi:!0}]),h.Vt3]})),A})(),Ge=(()=>{var x;class A extends Ee.fL{constructor(T,z){super(T,z)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,d.A)(A,"\u0275dir",h.FsC({type:x,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,z){1&T&&h.bIt("ionInput",function(dt){return z._handleInputEvent(dt.target)})},features:[h.Jv_([{provide:B.kq,useExisting:x,multi:!0}]),h.Vt3]})),A})();const mt=(x,A)=>{const O=x.prototype;A.forEach(T=>{Object.defineProperty(O,T,{get(){return this.el[T]},set(z){this.z.runOutsideAngular(()=>this.el[T]=z)},configurable:!0})})},yt=(x,A)=>{const O=x.prototype;A.forEach(T=>{O[T]=function(){const z=arguments;return this.z.runOutsideAngular(()=>this.el[T].apply(this.el,z))}})},at=(x,A,O)=>{O.forEach(T=>x[T]=(0,ye.R)(A,T))};function Pt(x){return function(O){const{defineCustomElementFn:T,inputs:z,methods:ae}=x;return void 0!==T&&T(),z&&mt(O,z),ae&&yt(O,ae),O}}let Ln=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-app"]],ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({methods:["setFocus"]})],A),A})(),$e=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement,at(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],A),A})(),Ue=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["collapse"]})],A),A})(),Lt=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],A),A})(),yn=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["mode"]})],A),A})(),ir=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","mode","translucent"]})],A),A})(),Hn=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","mode"]})],A),A})(),mr=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement,at(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],A),A})(),vr=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement,at(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],A),A})(),Qn=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["collapse","mode","translucent"]})],A),A})(),zn=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["collapse","mode","translucent"]})],A),A})(),Ai=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],A),A})(),tr=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement,at(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["alt","src"]})],A),A})(),Dn=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement,at(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],A),A})(),ai=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-input-password-toggle"]],inputs:{color:"color",hideIcon:"hideIcon",mode:"mode",showIcon:"showIcon"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","hideIcon","mode","showIcon"]})],A),A})(),Ut=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],A),A})(),_t=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","mode","sticky"]})],A),A})(),K=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","mode","position"]})],A),A})(),ee=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],A),A})(),Wt=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement,at(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],A),A})(),In=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["autoHide","color","disabled","menu","mode","type"]})],A),A})(),An=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","size"]})],A),A})(),Un=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement,at(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],A),A})(),Jn=(()=>{var x;let A=((0,d.A)(x=class{constructor(T,z,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=z.nativeElement}},"\u0275fac",function(T){return new(T||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,d.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return A=(0,J.Cg)([Pt({inputs:["color","mode"]})],A),A})(),ar=(()=>{var x;class A extends Ee.Rg{constructor(T,z,ae,dt,Qt,rn,en,on){super(T,z,ae,dt,Qt,rn,en,on),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=on}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)(h.kS0("name"),h.kS0("tabs"),h.rXU(Se.aZ),h.rXU(h.aKT),h.rXU(Oe.Ix),h.rXU(h.SKi),h.rXU(Oe.nX),h.rXU(x,12))}),(0,d.A)(A,"\u0275cmp",h.VBU({type:x,selectors:[["ion-router-outlet"]],viewQuery:function(T,z){if(1&T&&h.GBs(rt,7,h.c1b),2&T){let ae;h.mGM(ae=h.lsd())&&(z.outletContent=ae.first)}},features:[h.Vt3],ngContentSelectors:pe,decls:3,vars:0,consts:[["outletContent",""]],template:function(T,z){1&T&&(h.NAR(),h.qex(0,null,0),h.SdG(2),h.bVm())},encapsulation:2})),A})(),Xr=(()=>{var x;class A extends Ee.el{constructor(T,z,ae,dt,Qt,rn){super(T,z,ae,dt,Qt,rn)}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)(h.rXU(ar,8),h.rXU(Ee.q9),h.rXU(Ee.TS),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(h.gRc))}),(0,d.A)(A,"\u0275cmp",h.VBU({type:x,selectors:[["ion-back-button"]],features:[h.Vt3],ngContentSelectors:pe,decls:1,vars:0,template:function(T,z){1&T&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),A})(),jr=(()=>{var x;class A extends Ee.CE{}return x=A,(0,d.A)(A,"\u0275fac",(()=>{let O;return function(z){return(O||(O=h.xGo(x)))(z||x)}})()),(0,d.A)(A,"\u0275dir",h.FsC({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],features:[h.Vt3]})),A})(),oo=(()=>{var x;class A extends Ee.pF{}return x=A,(0,d.A)(A,"\u0275fac",(()=>{let O;return function(z){return(O||(O=h.xGo(x)))(z||x)}})()),(0,d.A)(A,"\u0275dir",h.FsC({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[h.Vt3]})),A})();const Fo={provide:B.cz,useExisting:(0,h.Rfq)(()=>rs),multi:!0};let rs=(()=>{var x;class A extends B.zX{}return x=A,(0,d.A)(A,"\u0275fac",(()=>{let O;return function(z){return(O||(O=h.xGo(x)))(z||x)}})()),(0,d.A)(A,"\u0275dir",h.FsC({type:x,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(T,z){2&T&&h.BMQ("max",z._enabled?z.max:null)},features:[h.Jv_([Fo]),h.Vt3]})),A})();const Do={provide:B.cz,useExisting:(0,h.Rfq)(()=>_i),multi:!0};let _i=(()=>{var x;class A extends B.VZ{}return x=A,(0,d.A)(A,"\u0275fac",(()=>{let O;return function(z){return(O||(O=h.xGo(x)))(z||x)}})()),(0,d.A)(A,"\u0275dir",h.FsC({type:x,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(T,z){2&T&&h.BMQ("min",z._enabled?z.min:null)},features:[h.Jv_([Do]),h.Vt3]})),A})(),js=(()=>{var x;class A extends Ee.Kb{constructor(){super(ct.a)}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)}),(0,d.A)(A,"\u0275prov",h.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})),A})(),zi=(()=>{var x;class A extends Ee.Kb{constructor(){super(ct.m),(0,d.A)(this,"angularDelegate",(0,h.WQX)(Ee.Yq)),(0,d.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,d.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)}),(0,d.A)(A,"\u0275prov",h.jDH({token:x,factory:x.\u0275fac})),A})();class Ts extends Ee.Kb{constructor(){super(ct.c),(0,d.A)(this,"angularDelegate",(0,h.WQX)(Ee.Yq)),(0,d.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,d.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(A){return super.create({...A,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Ci=(x,A,O)=>()=>{const T=A.defaultView;if(T&&typeof window<"u"){(0,ot.s)({...x,_zoneGate:ae=>O.run(ae)});const z="__zone_symbol__addEventListener"in A.body?"__zone_symbol__addEventListener":"addEventListener";return function Re(){var x=[];if(typeof window<"u"){var A=window;(!A.customElements||A.Element&&(!A.Element.prototype.closest||!A.Element.prototype.matches||!A.Element.prototype.remove||!A.Element.prototype.getRootNode))&&x.push(k.e(7278).then(k.t.bind(k,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||A.NodeList&&!A.NodeList.prototype.forEach||!A.fetch||!function(){try{var T=new URL("b","http://a");return T.pathname="c%20d","http://a/c%20d"===T.href&&T.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&x.push(k.e(9329).then(k.t.bind(k,7783,23)))}return Promise.all(x)}().then(()=>Ze(T,{exclude:["ion-tabs"],syncQueue:!0,raf:Ee.er,jmp:ae=>O.runOutsideAngular(ae),ael(ae,dt,Qt,rn){ae[z](dt,Qt,rn)},rel(ae,dt,Qt,rn){ae.removeEventListener(dt,Qt,rn)}}))}};let Vi=(()=>{var x;class A{static forRoot(T={}){return{ngModule:A,providers:[{provide:Ee.sR,useValue:T},{provide:h.hnV,useFactory:Ci,multi:!0,deps:[Ee.sR,Se.qQ,h.SKi]},Ee.Yq,(0,Ee.YV)()]}}}return x=A,(0,d.A)(A,"\u0275fac",function(T){return new(T||x)}),(0,d.A)(A,"\u0275mod",h.$C({type:x})),(0,d.A)(A,"\u0275inj",h.G2t({providers:[zi,Ts],imports:[Se.MD]})),A})()},6749:(Mn,It,k)=>{"use strict";k.d(It,{P2:()=>vt});var d=k(467);const h=(Ze,pe)=>pe.some(rt=>Ze instanceof rt);let B,Ee;const Se=new WeakMap,Oe=new WeakMap,Ve=new WeakMap,we=new WeakMap,se=new WeakMap;let Xe={get(Ze,pe,rt){if(Ze instanceof IDBTransaction){if("done"===pe)return Oe.get(Ze);if("objectStoreNames"===pe)return Ze.objectStoreNames||Ve.get(Ze);if("store"===pe)return rt.objectStoreNames[1]?void 0:rt.objectStore(rt.objectStoreNames[0])}return tt(Ze[pe])},set:(Ze,pe,rt)=>(Ze[pe]=rt,!0),has:(Ze,pe)=>Ze instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in Ze};function ct(Ze){return"function"==typeof Ze?function ut(Ze){return Ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ze)?function(...pe){return Ze.apply(Dt(this),pe),tt(Se.get(this))}:function(...pe){return tt(Ze.apply(Dt(this),pe))}:function(pe,...rt){const Ot=Ze.call(Dt(this),pe,...rt);return Ve.set(Ot,pe.sort?pe.sort():[pe]),tt(Ot)}}(Ze):(Ze instanceof IDBTransaction&&function Ye(Ze){if(Oe.has(Ze))return;const pe=new Promise((rt,Ot)=>{const Xt=()=>{Ze.removeEventListener("complete",En),Ze.removeEventListener("error",tn),Ze.removeEventListener("abort",tn)},En=()=>{rt(),Xt()},tn=()=>{Ot(Ze.error||new DOMException("AbortError","AbortError")),Xt()};Ze.addEventListener("complete",En),Ze.addEventListener("error",tn),Ze.addEventListener("abort",tn)});Oe.set(Ze,pe)}(Ze),h(Ze,function J(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ze,Xe):Ze)}function tt(Ze){if(Ze instanceof IDBRequest)return function Fe(Ze){const pe=new Promise((rt,Ot)=>{const Xt=()=>{Ze.removeEventListener("success",En),Ze.removeEventListener("error",tn)},En=()=>{rt(tt(Ze.result)),Xt()},tn=()=>{Ot(Ze.error),Xt()};Ze.addEventListener("success",En),Ze.addEventListener("error",tn)});return pe.then(rt=>{rt instanceof IDBCursor&&Se.set(rt,Ze)}).catch(()=>{}),se.set(pe,Ze),pe}(Ze);if(we.has(Ze))return we.get(Ze);const pe=ct(Ze);return pe!==Ze&&(we.set(Ze,pe),se.set(pe,Ze)),pe}const Dt=Ze=>se.get(Ze);function vt(Ze,pe,{blocked:rt,upgrade:Ot,blocking:Xt,terminated:En}={}){const tn=indexedDB.open(Ze,pe),cn=tt(tn);return Ot&&tn.addEventListener("upgradeneeded",ft=>{Ot(tt(tn.result),ft.oldVersion,ft.newVersion,tt(tn.transaction),ft)}),rt&&tn.addEventListener("blocked",ft=>rt(ft.oldVersion,ft.newVersion,ft)),cn.then(ft=>{En&&ft.addEventListener("close",()=>En()),Xt&&ft.addEventListener("versionchange",Me=>Xt(Me.oldVersion,Me.newVersion,Me))}).catch(()=>{}),cn}const De=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Ke=new Map;function nt(Ze,pe){if(!(Ze instanceof IDBDatabase)||pe in Ze||"string"!=typeof pe)return;if(Ke.get(pe))return Ke.get(pe);const rt=pe.replace(/FromIndex$/,""),Ot=pe!==rt,Xt=Re.includes(rt);if(!(rt in(Ot?IDBIndex:IDBObjectStore).prototype)||!Xt&&!De.includes(rt))return;const En=function(){var tn=(0,d.A)(function*(cn,...ft){const Me=this.transaction(cn,Xt?"readwrite":"readonly");let ie=Me.store;return Ot&&(ie=ie.index(ft.shift())),(yield Promise.all([ie[rt](...ft),Xt&&Me.done]))[0]});return function(ft){return tn.apply(this,arguments)}}();return Ke.set(pe,En),En}!function ot(Ze){Xe=Ze(Xe)}(Ze=>({...Ze,get:(pe,rt,Ot)=>nt(pe,rt)||Ze.get(pe,rt,Ot),has:(pe,rt)=>!!nt(pe,rt)||Ze.has(pe,rt)}))},467:(Mn,It,k)=>{"use strict";function d(B,Ee,J,ye,Se,Oe,Ve){try{var we=B[Oe](Ve),se=we.value}catch(Fe){return void J(Fe)}we.done?Ee(se):Promise.resolve(se).then(ye,Se)}function h(B){return function(){var Ee=this,J=arguments;return new Promise(function(ye,Se){var Oe=B.apply(Ee,J);function Ve(se){d(Oe,ye,Se,Ve,we,"next",se)}function we(se){d(Oe,ye,Se,Ve,we,"throw",se)}Ve(void 0)})}}k.d(It,{A:()=>h})},9842:(Mn,It,k)=>{"use strict";function d(J){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(J)}function Ee(J,ye,Se){return(ye=function B(J){var ye=function h(J,ye){if("object"!=d(J)||!J)return J;var Se=J[Symbol.toPrimitive];if(void 0!==Se){var Oe=Se.call(J,ye||"default");if("object"!=d(Oe))return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ye?String:Number)(J)}(J,"string");return"symbol"==d(ye)?ye:ye+""}(ye))in J?Object.defineProperty(J,ye,{value:Se,enumerable:!0,configurable:!0,writable:!0}):J[ye]=Se,J}k.d(It,{A:()=>Ee})},1635:(Mn,It,k)=>{"use strict";function Ee(ie,oe){var he={};for(var Ge in ie)Object.prototype.hasOwnProperty.call(ie,Ge)&&oe.indexOf(Ge)<0&&(he[Ge]=ie[Ge]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var mt=0;for(Ge=Object.getOwnPropertySymbols(ie);mt<Ge.length;mt++)oe.indexOf(Ge[mt])<0&&Object.prototype.propertyIsEnumerable.call(ie,Ge[mt])&&(he[Ge[mt]]=ie[Ge[mt]])}return he}function J(ie,oe,he,Ge){var at,mt=arguments.length,yt=mt<3?oe:null===Ge?Ge=Object.getOwnPropertyDescriptor(oe,he):Ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)yt=Reflect.decorate(ie,oe,he,Ge);else for(var Ft=ie.length-1;Ft>=0;Ft--)(at=ie[Ft])&&(yt=(mt<3?at(yt):mt>3?at(oe,he,yt):at(oe,he))||yt);return mt>3&&yt&&Object.defineProperty(oe,he,yt),yt}function Fe(ie,oe,he,Ge){return new(he||(he=Promise))(function(yt,at){function Ft(Nn){try{wt(Ge.next(Nn))}catch(St){at(St)}}function Pt(Nn){try{wt(Ge.throw(Nn))}catch(St){at(St)}}function wt(Nn){Nn.done?yt(Nn.value):function mt(yt){return yt instanceof he?yt:new he(function(at){at(yt)})}(Nn.value).then(Ft,Pt)}wt((Ge=Ge.apply(ie,oe||[])).next())})}function ue(ie){return this instanceof ue?(this.v=ie,this):new ue(ie)}function De(ie,oe,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,Ge=he.apply(ie,oe||[]),yt=[];return mt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ft("next"),Ft("throw"),Ft("return",function at(Ln){return function(jn){return Promise.resolve(jn).then(Ln,St)}}),mt[Symbol.asyncIterator]=function(){return this},mt;function Ft(Ln,jn){Ge[Ln]&&(mt[Ln]=function(qt){return new Promise(function(Zt,rr){yt.push([Ln,qt,Zt,rr])>1||Pt(Ln,qt)})},jn&&(mt[Ln]=jn(mt[Ln])))}function Pt(Ln,jn){try{!function wt(Ln){Ln.value instanceof ue?Promise.resolve(Ln.value.v).then(Nn,St):kn(yt[0][2],Ln)}(Ge[Ln](jn))}catch(qt){kn(yt[0][3],qt)}}function Nn(Ln){Pt("next",Ln)}function St(Ln){Pt("throw",Ln)}function kn(Ln,jn){Ln(jn),yt.shift(),yt.length&&Pt(yt[0][0],yt[0][1])}}function Ke(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,oe=ie[Symbol.asyncIterator];return oe?oe.call(ie):(ie=function ut(ie){var oe="function"==typeof Symbol&&Symbol.iterator,he=oe&&ie[oe],Ge=0;if(he)return he.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Ge>=ie.length&&(ie=void 0),{value:ie&&ie[Ge++],done:!ie}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),he={},Ge("next"),Ge("throw"),Ge("return"),he[Symbol.asyncIterator]=function(){return this},he);function Ge(yt){he[yt]=ie[yt]&&function(at){return new Promise(function(Ft,Pt){!function mt(yt,at,Ft,Pt){Promise.resolve(Pt).then(function(wt){yt({value:wt,done:Ft})},at)}(Ft,Pt,(at=ie[yt](at)).done,at.value)})}}}k.d(It,{AQ:()=>De,Cg:()=>J,N3:()=>ue,Tt:()=>Ee,sH:()=>Fe,xN:()=>Ke}),"function"==typeof SuppressedError&&SuppressedError}},Mn=>{Mn(Mn.s=6927)}]);